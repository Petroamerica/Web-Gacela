(this.webpackJsonpgasela=this.webpackJsonpgasela||[]).push([[0],{102:function(e,t){},103:function(e,t){},147:function(e,t,r){"use strict";r.r(t);var a=r(3),n=r.n(a),i=r(20),s=r.n(i),o=(r(79),r(8)),c=r(9),l=r(11),u=r(10),d=r(16),p=r(18),h=r(51),j=r(15),b=r(1),f=r.n(b),x=r(4),m=(r(81),r.p+"static/media/logGasela.fcb7a097.png"),v=new h.a,g={cerrarSesion:function(){v.remove("status"),localStorage.clear(),window.location.reload()},iniciarSesion:function(e,t,r){var a=new Date;a.setHours(a.getHours()+1);var n=[];n.push(r),n.push({name:t}),localStorage.setItem("status",!0),localStorage.setItem("token",e),localStorage.setItem("user",t),localStorage.setItem("data",JSON.stringify(n)),v.set("status",!0,{expires:new Date(a)})},validarCookies:function(){if(v.get("status"))return!0},obtenerDatosLocalStorage:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem("data"));case 2:if(t=e.sent,r=localStorage.getItem("token"),a=!1,!t||!r){e.next=10;break}return n=t[0],i=n.id_cliente,s=n.descripcion,o=t[1].name,a=!0,e.abrupt("return",{data:t,id_cliente:i,descripcion:s,name:o,token:r,estadoLocalStorage:a});case 10:return e.abrupt("return",{estadoLocalStorage:a});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},O="",y=document.domain;O="localhost"===y||"192.168.1.12"===y?"http://192.168.1.12:8082/api":"http://190.116.6.12:8082/api";var _={searchClient_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t){var r,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Bearer "+t),e.next=5,fetch(O+"/Cliente",{method:"GET",headers:r});case 5:return a=e.sent,e.next=8,a.json();case 8:return n=e.sent,e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchClient_fetchSinToken:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new Headers).append("Content-Type","application/json"),e.next=5,fetch(O+"/Cliente",{method:"GET",headers:t});case 5:return r=e.sent,e.next=8,r.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error con el servidor, intentelo mas tarde."});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),searchListaPasajero:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n,i,s,o){var c,l,u,d,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new Headers).append("Content-Type","application/json"),c.append("Authorization","Bearer "+t),l=i+":00",u=s+":00",e.next=8,fetch(O+"/listapasajero/"+r+"/"+a+"/"+n+"/"+o+"/"+l+"/"+u,{method:"GET",headers:c});case 8:return d=e.sent,e.next=11,d.json();case 11:return p=e.sent,e.abrupt("return",p);case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{error:"No se proceso la lista de pasajeros"});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r,a,n,i,s,o){return e.apply(this,arguments)}}(),createPassenger_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/pasajero",{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al crear el pasajero"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),searchPassenger_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a){var n,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Bearer "+t),e.next=5,fetch(O+"/pasajero/"+r+"/"+a,{method:"GET",headers:n});case 5:return i=e.sent,e.next=8,i.json();case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),searchDistrict_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t){var r,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/Distrito",{method:"GET",headers:r});case 6:return a=e.sent,e.next=9,a.json();case 9:return n=e.sent,e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),passanger_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/Pasajero/"+r,{method:"GET",headers:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),passangerProgramacion_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/Pasajero/"+r+"/d",{method:"GET",headers:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),updatePassenger_fecth:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n){var i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(i=new Headers).append("Content-Type","application/json"),i.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/Pasajero/"+r+"/"+a,{method:"PUT",headers:i,body:JSON.stringify(n)});case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al actualizar los datos del pasajero"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,a,n){return e.apply(this,arguments)}}(),updateListaPasajeros_fecth:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a){var n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/ListaPasajero/"+a,{method:"PUT",headers:n,body:JSON.stringify(r)});case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al actualizar la lista de pasajeros"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,a){return e.apply(this,arguments)}}(),searchPricePassenger_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n){var i,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Headers).append("Content-Type","application/json"),i.append("Authorization","Bearer "+t),e.next=5,fetch(O+"/Pasajero/"+r+"/"+a+"/"+n,{method:"GET",headers:i});case 5:return s=e.sent,e.next=8,s.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,r,a,n){return e.apply(this,arguments)}}(),saveServices_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a){var n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/listapasajero/"+a,{method:"POST",headers:n,body:JSON.stringify(r)});case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,a){return e.apply(this,arguments)}}(),savePasajerosXLSX_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/pasajero/BLOQUE"),{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor para guardar el XLSX"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),searchPrices_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a){var n,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/listapreciopasajero/"+r+"/"+a,{method:"GET",headers:n});case 6:return i=e.sent,e.next=9,i.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en encontrar el regitro de tarifa"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a){return e.apply(this,arguments)}}(),searchFFTA_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t){var r,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/TipoEstadoMov",{method:"GET",headers:r});case 6:return a=e.sent,e.next=9,a.json();case 9:return n=e.sent,e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),searchArea_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/area/"+r,{method:"GET",headers:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),searchHora_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n){var i,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(i=new Headers).append("Content-Type","application/json"),i.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/listapasajero/"+r+"/"+a+"/"+n,{method:"GET",headers:i});case 6:return s=e.sent,e.next=9,s.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor para obtener la hora."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a,n){return e.apply(this,arguments)}}(),searchHoraReprogramacion_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n){var i,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(i=new Headers).append("Content-Type","application/json"),i.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/listapasajero2/"+r+"/"+a+"/"+n,{method:"GET",headers:i});case 6:return s=e.sent,e.next=9,s.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al solicitar la hora de programaci\xf3n"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a,n){return e.apply(this,arguments)}}(),searchNumeroServicio_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a){var n,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/servicio/"+r+"/"+a+"/max",{method:"GET",headers:n});case 6:return i=e.sent,e.next=9,i.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"No se proceso el numero de servicio"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a){return e.apply(this,arguments)}}(),searchListaReprogramados_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n){var i,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(i=new Headers).append("Content-Type","application/json"),i.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/ListaReprogramados/"+r+"/"+a+"/"+n,{method:"GET",headers:i});case 6:return s=e.sent,e.next=9,s.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"No se proceso el numero de servicio"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a,n){return e.apply(this,arguments)}}(),searchServiciosfetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n,i,s){var o,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(o=new Headers).append("Content-Type","application/json"),o.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/servicio/"+r+"/"+a+"/"+n+"/"+i+"/"+s,{method:"GET",headers:o});case 6:return c=e.sent,e.next=9,c.json();case 9:return l=e.sent,e.abrupt("return",l);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al buscar los servicios."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a,n,i,s){return e.apply(this,arguments)}}(),updateFFAT_fecth:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/TipoEstadoMov",{method:"PUT",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al actualizar el Estado de Movilizaci\xf3n"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),saveFFAT_fecth:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/TipoEstadoMov",{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al crear el Estado de Movilizaci\xf3n"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),reporteLiquidacionCabecera_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n,i,s,o,c){var l,u,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(l=new Headers).append("Content-Type","application/json"),l.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/servicio/"+r+"/"+a+"/"+n+"/"+i+"/"+s+"/"+o+"/"+c,{method:"GET",headers:l});case 6:return u=e.sent,e.next=9,u.json();case 9:return d=e.sent,e.abrupt("return",d);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al buscar la cabecera del reporte"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a,n,i,s,o,c){return e.apply(this,arguments)}}(),reporteLiquidacionDetalle_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n,i,s,o,c){var l,u,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(l=new Headers).append("Content-Type","application/json"),l.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/listapasajero/"+r+"/"+a+"/"+n+"/"+i+"/"+s+"/"+o+"/"+c,{method:"GET",headers:l});case 6:return u=e.sent,e.next=9,u.json();case 9:return d=e.sent,e.abrupt("return",d);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al buscar el detalle del reporte"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a,n,i,s,o,c){return e.apply(this,arguments)}}(),eliminarListaPasajero_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n,i,s){var o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(o=new Headers).append("Content-Type","application/json"),o.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/ListaPasajero/"+r+"/"+a+" "+n+":00/"+i+" "+s+":00",{method:"DELETE",headers:o});case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor al eliminar la lista de pasajero."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,a,n,i,s){return e.apply(this,arguments)}}(),eliminarPasajero_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n,i,s){var o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(o=new Headers).append("Content-Type","application/json"),o.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/ListaPasajero/").concat(r,"/").concat(a,"/").concat(n,"/").concat(i,"/").concat(s),{method:"DELETE",headers:o});case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al eliminar al pasajero."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,a,n,i,s){return e.apply(this,arguments)}}(),eliminarEstadoMovilizacion_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/TipoEstadoMov/").concat(r),{method:"DELETE",headers:a});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al eliminar el Estado de Movilizaci\xf3n"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),reprogramacion_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n,i){var s,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/listapasajero/"+r+"/"+a+"/"+n+"/"+i,{method:"GET",headers:s});case 6:return o=e.sent,e.next=9,o.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Error en la consulta de ReProgramacion"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a,n,i){return e.apply(this,arguments)}}(),GET_distrito_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t){var r,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/distrito"),{method:"GET",headers:r});case 6:return a=e.sent,e.next=9,a.json();case 9:return n=e.sent,e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error con el servidor."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),POST_distrito_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/distrito"),{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al crear un nuevo distrito, es posible que ya exista."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),PUT_distrito_fecth:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/distrito"),{method:"PUT",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al actualizar el distrito"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),DELETE_distrito_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/distrito/").concat(r),{method:"DELETE",headers:a});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al eliminar el distrito"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),searchAerolineafetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/cuenta/"+r+"/01",{method:"GET",headers:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error con la lista de aerolineas"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),searchAerolineafetch_02:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/cuenta/"+r+"/02",{method:"GET",headers:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),POST_aerolinea_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/Cuenta"),{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al crear una nueva aerolinea, es posible que ya exista."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),PUT_aerolinea_fecth:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/Cuenta"),{method:"PUT",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al actualizar la aerolinea"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),DELETE_aerolinea_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a){var n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/Cuenta/").concat(r,"/").concat(a),{method:"DELETE",headers:n});case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al eliminar una aerolinea"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,a){return e.apply(this,arguments)}}(),searchUnidadesChofer_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a){var n,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new Headers).append("Content-Type","application/json"),n.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/"+r+"/"+a,{method:"GET",headers:n});case 6:return i=e.sent,e.next=9,i.json();case 9:return s=e.sent,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,a){return e.apply(this,arguments)}}(),POST_chofer_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/chofer"),{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"El chofer ya se encuentra registrado"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),PUT_chofer_fecth:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/chofer"),{method:"PUT",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error con la informaci\xf3n enviada."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),DELETE_chofer_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/chofer/").concat(r,"/"),{method:"DELETE",headers:a});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al eliminar un chofer"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),POST_vehiculo_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/UNIDAD"),{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al actualizar la unidad."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),PUT_vehiculo_fecth:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/UNIDAD"),{method:"PUT",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error con la informaci\xf3n enviada."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),DELETE_vehiculo_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch("".concat(O,"/UNIDAD/").concat(r,"/"),{method:"DELETE",headers:a});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error al eliminar la unidad."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),searchTarifa_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/ListaPrecioManten/"+r,{method:"GET",headers:a});case 6:return n=e.sent,e.next=9,n.json();case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}(),deleteTarifa_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n,i){var s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new Headers).append("Content-Type","application/json"),s.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/ListaPrecioManten/"+r+"/"+a+"/"+n+"/"+i,{method:"DELETE",headers:s});case 6:return o=e.sent,e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,a,n,i){return e.apply(this,arguments)}}(),postTarifa_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/listaPrecioManten",{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),searchTipoServicio_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t){var r,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new Headers).append("Content-Type","application/json"),r.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/tipoServicio",{method:"GET",headers:r});case 6:return a=e.sent,e.next=9,a.json();case 9:return n=e.sent,e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),deleteTipoServicio_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/tipoServicio/"+r,{method:"DELETE",headers:a});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),postTipoServicio_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/tipoServicio",{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),putTipoServicio_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/tipoServicio",{method:"PUT",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),postCliente_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/cliente",{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),putCliente_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/cliente",{method:"PUT",headers:a,body:JSON.stringify(r)});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),deleteCliente_fetch:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-Type","application/json"),a.append("Authorization","Bearer "+t),e.next=6,fetch(O+"/cliente/"+r,{method:"DELETE",headers:a});case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:"Ocurrio un error en el servidor."});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()},C=r.p+"static/media/loader.4b206b15.gif",S=r(2),w=r.n(S),k=r(0),F=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).settings={dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1},e.state={usuario:"",password:"",client:"X",stateBtn:!0,allClient:[],stateDisabled:!1,url:"http://192.168.1.12:8082/api"},e.validar=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),"X"===e.state.client){t.next=20;break}return e.setState({stateBtn:!1,stateDisabled:!0}),t.next=5,e.login_fetch();case 5:if(!(a=t.sent).error){t.next=10;break}return w()("Mensaje",a.error,"error"),e.setState({stateBtn:!0,stateDisabled:!1}),t.abrupt("return");case 10:if(a.token){t.next=14;break}return w()("Mensaje","Credenciales no validas.","info"),e.setState({stateBtn:!0,stateDisabled:!1}),t.abrupt("return");case 14:return n=e.state.allClient.filter((function(t){return t.id_cliente===e.state.client})),g.iniciarSesion(a.token,e.state.usuario,n[0]),t.next=18,e.props.accesoLogin(!0,e.state.usuario,a.token);case 18:t.next=21;break;case 20:w()("Mensaje","Debe de seleccionar una Compa\xf1ia.","info");case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.login_fetch=Object(x.a)(f.a.mark((function t(){var r,a,n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={id_usuario:e.state.usuario,pass_word:e.state.password},(a=new Headers).append("Content-Type","application/json"),t.next=6,fetch(e.state.url+"/login",{method:"POST",headers:a,body:JSON.stringify(r)});case 6:return n=t.sent,t.next=9,n.json();case 9:return i=t.sent,t.abrupt("return",i);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{error:"Ocurrio un error con el servicio de acceso."});case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),e.changeText=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=document.domain;"localhost"===t||"192.168.1.12"===t?this.setState({url:"http://192.168.1.12:8082/api"}):this.setState({url:"http://190.116.6.12:8082/api"}),function(){var t=Object(x.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.searchClient_fetchSinToken();case 2:if(!(r=t.sent).error){t.next=6;break}return w()("Mensaje",r.error),t.abrupt("return");case 6:e.setState({allClient:r});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}},{key:"render",value:function(){return Object(k.jsxs)("div",{style:{height:"100vh",backgroundColor:"#F4F4F4"},children:[Object(k.jsx)("div",{style:{backgroundColor:"#9e2b19",height:"10px"}}),Object(k.jsxs)("div",{className:"loginPrueba",children:[Object(k.jsx)("div",{className:"logoPrueba",children:Object(k.jsx)("img",{src:m,alt:"logo",style:{maxWidth:"60%"}})}),Object(k.jsx)("div",{className:"formPrueba",children:Object(k.jsxs)("form",{onSubmit:this.validar,method:"POST",className:"form",children:[Object(k.jsx)("input",{type:"text",name:"usuario",placeholder:"Usuario",required:!0,value:this.state.usuario,onChange:this.changeText,disabled:this.state.stateDisabled,autoComplete:"off"}),Object(k.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",required:!0,value:this.state.password,onChange:this.changeText,disabled:this.state.stateDisabled}),Object(k.jsxs)("select",{name:"client",value:this.state.client,onChange:this.changeText,disabled:this.state.stateDisabled,children:[Object(k.jsx)("option",{value:"X",children:"Seleccionar Compa\xf1ia.."}),this.state.allClient.map((function(e){return Object(k.jsx)("option",{value:e.id_cliente,children:e.descripcion_corta},e.id_cliente)}))]}),this.state.stateBtn?Object(k.jsx)("input",{type:"submit",value:"INGRESAR"}):Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"45",alt:"loader"})]})]})}),Object(k.jsx)("div",{className:"comentarioPrueba",children:Object(k.jsx)("p",{children:"Desarrollado por: Area de Sistemas Grupo Petroamerica"})})]})]})}}]),r}(a.Component),N=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){return Object(k.jsx)(p.a,{to:"/"})}}]),r}(a.Component),T=(r(91),r.p+"static/media/user_prueba.9c0beabd.svg"),A=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={data:""},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:t=e.sent,r=t.estadoLocalStorage,a=t.data,r?this.setState({data:a}):this.setState({data:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=(this.state.data?this.state.data[1]:{name:""}).name,t=(this.state.data?this.state.data[0]:{descripcion_corta:""}).descripcion_corta;return Object(k.jsxs)("header",{children:[Object(k.jsx)("div",{className:"header_div",children:Object(k.jsxs)("div",{className:"header_div2",children:[Object(k.jsx)("img",{src:T,alt:"icon"}),Object(k.jsxs)("label",{children:["Bienvenido(a) : ",Object(k.jsx)("b",{children:e})]}),Object(k.jsxs)("label",{children:["Compa\xf1ia : ",Object(k.jsx)("b",{children:t})]})]})}),Object(k.jsxs)("ul",{className:"nav",children:[Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/GacelaWeb",activeClassName:"active",token:"dsd",children:"Inicio"})}),Object(k.jsxs)("li",{children:[Object(k.jsx)(d.b,{exact:!0,to:"/programacion",activeClassName:"active",children:"Procesos "}),Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/programacion",activeClassName:"active",children:"Programacion "})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/reprogramacion",activeClassName:"active",children:"ReProgramacion "})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/liquidacion",activeClassName:"active",children:"Liquidacion "})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/eliminarLista",activeClassName:"active",children:"Eliminar Lista de Pasajeros"})})]})]}),Object(k.jsxs)("li",{children:[Object(k.jsx)(d.b,{exact:!0,to:"/carga_ListaPasajeros",activeClassName:"active",children:"Carga de informacion "}),Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/carga_ListaPasajeros",activeClassName:"active",children:"Cargar Lista de Pasajeros"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/carga_Pasajero",activeClassName:"active",children:"Cargar de Pasajeros"})})]})]}),Object(k.jsxs)("li",{children:[Object(k.jsx)(d.b,{exact:!0,to:"/pasajero",activeClassName:"active",children:"Mantenimiento"}),Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/pasajero",activeClassName:"active",children:"Pasajero"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/distrito",activeClassName:"active",children:"Distrito"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/precio",activeClassName:"active",children:"Precio"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/tipoServicio",activeClassName:"active",children:"Tipo de Servicio"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/aerolinea",activeClassName:"active",children:"Aerolinea"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/vehiculo",activeClassName:"active",children:"Vehiculo"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/chofer",activeClassName:"active",children:"Chofer"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/estadoMovilizacion",activeClassName:"active",children:"Estado de Movilizaci\xf3n"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/cliente",activeClassName:"active",children:"Cliente"})})]})]}),Object(k.jsxs)("li",{children:[Object(k.jsx)(d.b,{exact:!0,to:"/reporte_liquidacion",activeClassName:"active",children:"Repote"}),Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/reporte_programacion",activeClassName:"active",children:"Programacion"})}),Object(k.jsx)("li",{children:Object(k.jsx)(d.b,{exact:!0,to:"/reporte_liquidacion",activeClassName:"active",children:"Liquidacion"})})]})]}),Object(k.jsx)("li",{children:Object(k.jsx)("a",{href:"/",onClick:function(){g.cerrarSesion()},children:"Cerrar sesi\xf3n"})})]})]})}}]),r}(a.Component),M=(r(25),r(92),r(93),r(94),function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){return Object(k.jsx)("div",{})}}]),r}(a.Component)),D=r(19),P=(r(95),r(7)),E=r(33),I=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props.data;return Object(k.jsxs)("div",{className:"abajo-derecha",children:[Object(k.jsxs)("div",{className:"toltip",children:[0!==e.numServicio?e.numServicio:e.numViaje,this.props.numero_viaje||""]}),Object(k.jsx)("div",{className:"abajo-derecha1",children:Object(k.jsxs)("label",{children:[Object(k.jsx)("b",{children:"Pasajero: "}),e.descripcion_pasajero]})})]})}}]),r}(a.Component),z=r.p+"static/media/map.0c0840fc.svg",L=r.p+"static/media/userPruebaAdd.c5151802.svg",R=r.p+"static/media/edit_map.13471c8d.svg",H=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=this.props.data;return Object(k.jsxs)("div",{className:"abajo-derecha",onClick:function(){e.props.pre_solicitud(t)},children:[Object(k.jsx)("div",{className:"toltip",children:this.props.indice}),Object(k.jsx)("div",{className:"abajo-derecha1",children:Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Pasajero: "}),t.descripcion_pasajero]})})]})}}]),r}(a.Component),B=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsx)(k.Fragment,{children:"programacion.js"===this.props.destino?Object(k.jsxs)("li",{onClick:function(){e.props.quitarPasajero(e.props.id)},children:[Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Numero de viaje:"})," ",this.props.numServicio]}),Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Pasajero:"})," ",this.props.nombre]}),Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Distrito:"})," ",this.props.descripcion_distrito]}),Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Hora:"})," ",this.props.hora]})]}):Object(k.jsxs)("li",{onClick:function(){0===e.props.numServicio?e.props.quitarPasajero(e.props.id):console.warn("x")},children:[Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Numero de viaje:"})," ",this.props.numServicio]}),Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Pasajero:"})," ",this.props.nombre]}),Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Distrito:"})," ",this.props.descripcion_distrito]}),Object(k.jsxs)("span",{children:[Object(k.jsx)("b",{children:"Hora:"})," ",this.props.hora]})]})})}}]),r}(a.Component),V=r.p+"static/media/close.fa7e5ead.svg",G=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"cuadroMapa",children:[Object(k.jsxs)("div",{className:"mapa",children:[Object(k.jsx)(E.a,{bootstrapURLKeys:{key:"AIzaSyDrq4sz8y-iJt4wEOWpbdOFVGDy8XUQqbY"},defaultCenter:this.props.center,defaultZoom:this.props.zoom,onClick:function(e){return console.log(e)},children:this.props.estadoMarcador?this.props.listaMarcadores.map((function(t,r){return Object(k.jsx)(H,{indice:r+1,lat:t.latitud,lng:t.longitud,data:t,pre_solicitud:e.props.agreparPasajeros},t.id_pasajero)})):null}),Object(k.jsxs)("div",{style:{width:"100%",backgroundColor:"black",display:"flex",justifyContent:"space-between",padding:"5px 4px"},children:[Object(k.jsx)("span",{style:{color:"white"},children:"0"===this.props.numero_servicio?"Pasajeros sin servicio":"servicio "+this.props.numero_servicio}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){e.props.mostrarMapa()},children:Object(k.jsx)("img",{src:V,width:"15",alt:"img"})})]})]}),Object(k.jsx)("div",{className:"mapaSeleccion",children:Object(k.jsxs)("ul",{children:[this.props.pre_solicitud.map((function(t){return Object(k.jsx)(B,{id:t.id_pasajero,quitarPasajero:e.props.quitarPasajero,nombre:t.descripcion_pasajero,descripcion_distrito:t.descripcion_distrito,hora:t.hora,numServicio:t.numServicio,destino:e.props.destino},t.id_pasajero)})),Object(k.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:Object(k.jsx)("input",{type:"button",id:"botonReserva",value:this.props.btn_botonReserva,className:"botonReserva",disabled:this.props.reservarStatus,onClick:function(){e.props.agregarSolicitud()},style:{width:"120px"}})})]})})]})}}]),r}(a.Component);G.defaultProps={center:{lat:-12.046198828462366,lng:-77.04127501255363},zoom:11};var U=r(34),q=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=this.props.pasajeroSeleccionado?this.props.pasajeroSeleccionado:[];return Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Ingresar nuevo pasajero "}),Object(k.jsx)("span",{onClick:function(){return e.props.cerrarModal()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){e.props.guarDardatosModal(t)},children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Pasajero"}),Object(k.jsx)("input",{type:"text",name:"MIN_PASAJERO",className:"inputFormulario inputFormularioText invalido",onChange:this.props.buscarPasajero,required:!0,autoComplete:"off",value:t[0].descripcion,style:{textTransform:"uppercase"}})]}),this.props.newArrayPassenger.length>0?Object(k.jsx)("div",{className:"listPassenger",style:{marginTop:"0px"},children:this.props.newArrayPassenger.map((function(t){return Object(k.jsxs)("span",{style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",minHeight:"25px",borderRadius:"4px",border:"1px solid #1A1C20",color:"#1A1C20",margin:"3px",padding:"4px"},onClick:function(t){return e.props.escogerPasajero(t)},id:[t.id_pasajero,t.id_cliente,t.id_tipo_di],children:[t.id_pasajero," - ",t.descripcion]},t.id_pasajero)}))}):null,Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Hora de llegada"}),Object(k.jsx)("input",{type:"text",name:"MIN_PASAJERO",className:"inputFormulario inputFormularioText invalido",required:!0,onChange:this.props.agregarHora,autoComplete:"off",value:this.props.horaServicio,pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",maxLength:"5"})]}),Object(k.jsx)("br",{}),void 0===this.props._ffat?null:Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Estado de Movilidad del Pasajero"}),Object(k.jsxs)("select",{value:this.props._ffat||"",style:{outline:"none"},onChange:this.props.agregarffat,className:"selectFormulario fontSize09em",children:[Object(k.jsx)("option",{value:"",children:"Seleccionar"}),this.props.ffat.map((function(e){return Object(k.jsx)("option",{value:e.id_tipo_estado_mov,children:e.descripcion},e.id_tipo_estado_mov)}))]})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Aerolinea"}),Object(k.jsxs)("select",{onChange:this.props.agregarAerolinea,style:{outline:"none"},value:this.props.cuenta||"",className:"selectFormulario fontSize09em",children:[Object(k.jsx)("option",{value:"",children:"Seleccionar.."}),this.props.aerolinea.map((function(e){return Object(k.jsx)("option",{defaultValue:e.id_cuenta,value:e.id_cuenta,children:e.descripcion},e.id_cuenta)}))]})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})}),Object(k.jsx)("div",{className:"filasFormulario",style:{textAlign:"center"},children:Object(k.jsx)(d.b,{exact:!0,to:"/GacelaWeb/",style:{color:"black"},rel:"noopener noreferrer",target:"_blank",children:"\xbfCrear nuevo pasajero?"})})]})})]})})}}]),r}(a.Component),Y=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={displayMapa:!1,displayMapaActualizar:!1,marcadorCerrado:!0,reservarStatus:!0,modalNuevoPasajero:!1,bloqueServicio:null,gruposView:[],grupos:[],preGrupos:[],newArrayPassenger:[],pasajeroSeleccionado:[{descripcion:""}],btn_botonReserva:"Reservar",indice_modificar:0,horaServicio:"",aerolinea:"",numero_servicio:"0"},e.mostrarMapa=function(t,r){e.setState({displayMapa:!0,gruposView:t,numero_servicio:r})},e.mostrarMapaActualizar=function(t,r,a){var n=e.state.preGrupos;n.length>0?w()({title:"Mensaje",text:"\xbfQuieres descartar los cambios?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t&&(n.forEach((function(t){e.props.pasajeros.forEach((function(r,a){r.id_pasajero===t.id_pasajero&&(e.props.pasajeros[a].estado=!0)}))})),e.setState({displayMapaActualizar:!e.state.displayMapaActualizar,preGrupos:[]}))})):e.setState({displayMapaActualizar:!e.state.displayMapaActualizar,grupos:t,indice_modificar:r,numero_servicio:a})},e.agreparPasajeros=function(t){e.validarPasajeroDuplicado(t)||e.setState({preGrupos:[].concat(Object(D.a)(e.state.preGrupos),[t]),grupos:[].concat(Object(D.a)(e.state.grupos),[t])}),e.props.pasajeros.map((function(r,a){return r.id_pasajero===t.id_pasajero?e.props.pasajeros[a].estado=!1:null})),e.props.modificarGrupo(e.props.pasajeros),setTimeout((function(){var t=e.state.grupos.length<1;e.setState({reservarStatus:t})}),1e3)},e.quitarPasajero=function(t){w()({title:"Mensaje",text:"\xbfSegura que retirar a este pasajerodasdasd?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(r){if(r){var a=e.state.grupos.filter((function(e){return e.id_pasajero!==t}));setTimeout((function(){var t=e.state.grupos.length<1;e.setState({reservarStatus:t,grupos:a})}),1e3),e.props.pasajeros.map((function(e){return e.id_pasajero===t?(e.estado=!0,e.numServicio=0):null})),e.props.modificarGrupo(e.props.pasajeros)}}))},e.agregarSolicitud=function(){e.setState({btn_botonReserva:"Cargando..."}),e.setState({marcadorCerrado:!1}),document.getElementById("botonReserva").disabled=!0,new Promise((function(t,r){var a={data:[]};e.state.grupos.map((function(e){return a.data.push(e)})),setTimeout((function(){t(a)}),1e3)})).then((function(t){t.data.map((function(e,t){return e.numServicio=t+1}));var r=e.props.solicitud[e.state.indice_modificar].cab.hora_servicio,a=e.props.solicitud[e.state.indice_modificar].cab.nro_servicio;t.cab={hora_servicio:r,nro_servicio:a},e.props.solicitud.splice(e.state.indice_modificar,1,t),"reprogramacion"===e.props.nombre_componente&&e.state.preGrupos.forEach((function(t){e.props.servicioReprogramados.push({id_pasajero:t.id_pasajero,data_start:a,data_end:a})})),e.setState({btn_botonReserva:"Reservar",reservarStatus:!0,marcadorCerrado:!0,displayMapaActualizar:!e.state.displayMapaActualizar,preGrupos:[]})}))},e.cerrarModal=function(){e.setState({modalNuevoPasajero:!1,pasajeroSeleccionado:[{descripcion:""}],newArrayPassenger:[],bloqueServicio:null})},e.agregarUsuarioServicio=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.todosPasajeros();case 2:e.setState({modalNuevoPasajero:!0,bloqueServicio:a,horaServicio:n});case 3:case"end":return t.stop()}}),t)})));return function(e,r,a){return t.apply(this,arguments)}}(),e.guarDardatosModal=function(t){t.preventDefault(),void 0===e.state.pasajeroSeleccionado[0].id_pasajero?w()("Mensaje","No se encontro a este pasajero, por favor ingresarlo de ser necesario","info"):(e.props.nuevoPasajeroServicio(e.state.pasajeroSeleccionado,e.state.horaServicio,e.state.bloqueServicio,e.state.aerolinea),e.setState({modalNuevoPasajero:!1,aerolinea:"",horaServicio:""}))},e.buscarPasajero=function(t){t.target.value.length>0?e.searchPassenger(t.target.value):e.setState({newArrayPassenger:[]}),e.setState({pasajeroSeleccionado:[{descripcion:t.target.value}]})},e.agregarHora=function(t){e.setState({horaServicio:t.target.value})},e.agregarAerolinea=function(t){e.setState({aerolinea:t.target.value})},e.searchPassenger=function(t){var r=e.props.listPassanger.filter((function(e){return-1!==e.id_pasajero.indexOf(t)||-1!==e.descripcion.indexOf(t.toUpperCase())}));e.setState({newArrayPassenger:r})},e.escogerPasajero=function(t){var r=t.target.id.split(",");e.props.listPassanger.forEach((function(t){if(t.id_pasajero===r[0])return e.setState({pasajeroSeleccionado:[t]})})),e.setState({newArrayPassenger:[]})},e}return Object(c.a)(r,[{key:"StyleCompleted",value:function(){return{display:"flex",flexDirection:"row",height:" 100vh",width:"100vw",flexWrap:"wrap",position:"fixed",zIndex:"100",padding:"100px",left:"0",top:"0",overflow:"auto",backgroundColor:"rgba(0,0,0,0.4)"}}},{key:"validarPasajeroDuplicado",value:function(e){var t=!1;return this.state.grupos.forEach((function(r){r.id_pasajero===e.id_pasajero&&(t=!0)})),t}},{key:"render",value:function(){var e=this,t=this.props.pasajeros.filter((function(e){return!0===e.estado}));return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{style:{overflowY:"scroll",maxHeight:"800px",marginTop:"15px"},children:Object(k.jsxs)("table",{border:"1",style:{width:"100%",borderCollapse:"collapse"},className:"table_solicitudes",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#d9a600",color:"white",fontSize:"0.8em"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"20px",padding:"10px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"N\xb0 Orden"}),Object(k.jsx)("th",{style:{width:"60px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Hora"}),Object(k.jsx)("th",{style:{width:"40px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"D.N.I"}),Object(k.jsx)("th",{style:{width:"40px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Aerolinea"}),Object(k.jsx)("th",{style:{width:"250px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Nombre"}),Object(k.jsx)("th",{style:{width:"250px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Direcci\xf3n"}),Object(k.jsx)("th",{style:{width:"120px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Distrito"}),Object(k.jsx)("th",{style:{width:"20px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Opciones"})]})}),Object(k.jsx)(U.a,{onDragEnd:function(t){var r=t.source,a=t.destination;a&&(r.index===a.index&&r.droppableId===a.droppableId||e.props.modifyService(e.props.solicitud,r,a))},children:this.props.solicitud.map((function(t,r){return Object(k.jsx)(U.c,{droppableId:""+r,children:function(a){return Object(k.jsxs)("tbody",{ref:a.innerRef,children:[Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{colSpan:"7",style:{padding:"5px",fontSize:"0.8em"},children:[Object(k.jsxs)("span",{children:["Servicio ",Object(k.jsx)("b",{children:t.cab.nro_servicio})]}),Object(k.jsxs)("span",{onClick:function(){e.mostrarMapa(t.data,r+1)},style:{fontSize:"0.9em",marginLeft:"15px",cursor:"pointer"},children:[" ",Object(k.jsx)("img",{src:z,alt:"ver mapa",width:"15"})]}),Object(k.jsxs)("span",{onClick:function(){e.mostrarMapaActualizar(t.data,r,r+1)},style:{fontSize:"0.9em",marginLeft:"15px",cursor:"pointer"},children:[" ",Object(k.jsx)("img",{src:R,alt:"actualizar mapa",width:"15"})," "]}),Object(k.jsxs)("span",{onClick:function(){e.agregarUsuarioServicio(t.data,r,void 0===t.data[0]?"":t.data[0].hora)},style:{fontSize:"0.9em",marginLeft:"15px",cursor:"pointer"},children:[" ",Object(k.jsx)("img",{src:L,alt:"agregar nuevo usuario",width:"18"})]}),Object(k.jsx)("b",{children:Object(k.jsx)("span",{style:{marginLeft:"15px"},children:"Hora de Inicio: "})}),Object(k.jsx)("input",{required:!0,className:"invalido",style:{marginLeft:"3px",width:"40px",paddingLeft:"3px"},name:"_horaS",type:"text",autoComplete:"off",value:t.cab.hora_servicio||"",onChange:function(t){return e.props.asignarHoraServicio(t,r)},pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",maxLength:"5"})]}),Object(k.jsx)("td",{colSpan:"1",style:{padding:"5px",fontSize:"0.8em"},align:"center",children:Object(k.jsx)("span",{className:"botonEliminar",children:"Eliminar servicio"})})]}),t.data.map((function(t,a){return Object(k.jsx)(U.b,{draggableId:t.id_pasajero,index:a,children:function(n){return Object(k.jsx)("tr",Object(P.a)(Object(P.a)(Object(P.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("td",{style:{width:"20px",padding:"4px",fontSize:"0.7em"},align:"center",children:t.numServicio}),Object(k.jsx)("td",{style:{width:"60px",padding:"4px",fontSize:"0.7em"},align:"center",children:t.hora}),Object(k.jsx)("td",{style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:t.id_pasajero}),Object(k.jsx)("td",{style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:t.id_cuenta}),Object(k.jsx)("td",{style:{maxWidth:"250px",height:"30px",padding:" 5px 4px"},children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:t.descripcion_pasajero})}),Object(k.jsx)("td",{style:{maxWidth:"250px",height:"30px",padding:" 5px 4px"},children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:t.direccion})}),Object(k.jsx)("td",{style:{maxWidth:"120px",height:"30px",padding:" 5px 4px"},children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:t.descripcion_distrito})}),Object(k.jsx)("td",{style:{width:"20px",padding:"4px",fontSize:"0.7em"},align:"center",children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"botonLiberar",onClick:function(){return e.props.retirarPasajeroSolicitud(r,a,t.id_pasajero)},children:"Liberar"}),Object(k.jsx)("span",{className:"botonEliminar",onClick:function(){return e.props.eliminarPasajeroSolicitud(r,a,t)},children:"Eliminar"})]})})]})}))}},t.id_pasajero)})),a.placeholder]})}},r)}))})]})}),this.state.modalNuevoPasajero?Object(k.jsx)(q,{cerrarModal:this.cerrarModal,buscarPasajero:this.buscarPasajero,escogerPasajero:this.escogerPasajero,agregarHora:this.agregarHora,agregarAerolinea:this.agregarAerolinea,guarDardatosModal:this.guarDardatosModal,newArrayPassenger:this.state.newArrayPassenger,pasajeroSeleccionado:this.state.pasajeroSeleccionado,horaServicio:this.state.horaServicio,aerolinea:this.props.aerolinea,cuenta:this.state.aerolinea}):null,this.state.displayMapa?Object(k.jsx)("div",{style:this.StyleCompleted(),children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},children:[Object(k.jsx)(E.a,{bootstrapURLKeys:{key:"AIzaSyDrq4sz8y-iJt4wEOWpbdOFVGDy8XUQqbY"},defaultCenter:this.props.center,defaultZoom:this.props.zoom,onClick:function(e){return console.log(e)},children:this.state.gruposView.map((function(e,t){return Object(k.jsx)(I,{lat:e.latitud,lng:e.longitud,data:e},e.id_pasajero)}))}),Object(k.jsxs)("div",{style:{width:"100%",backgroundColor:"black",display:"flex",justifyContent:"space-between",padding:"5px 4px"},children:[Object(k.jsx)("span",{style:{color:"white"},children:"0"===this.state.numero_servicio?"Pasajeros sin servicio":"servicio "+this.state.numero_servicio}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){e.setState({displayMapa:!1})},children:Object(k.jsx)("img",{src:V,width:"15",alt:"img"})})]})]})}):null,this.state.displayMapaActualizar?Object(k.jsx)(G,{agreparPasajeros:this.agreparPasajeros,mostrarMapa:this.mostrarMapaActualizar,quitarPasajero:this.quitarPasajero,agregarSolicitud:this.agregarSolicitud,estadoMarcador:this.state.marcadorCerrado,listaMarcadores:t,btn_botonReserva:this.state.btn_botonReserva,reservarStatus:this.state.reservarStatus,pre_solicitud:this.state.grupos,numero_servicio:this.state.numero_servicio,destino:"solicitudes.js"}):null]})}}]),r}(a.Component);Y.defaultProps={center:{lat:-12.046198828462366,lng:-77.04127501255363},zoom:11};var W=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={user:"",token:"",fechaI:"",cliente:"",horaI:"",usuario:"",cliente_descp:"",origen:"_ori_NA",btn_botonReserva:"Reservar",numeroServicio:0,numeroServicio_fetch:0,mapaDisplay:!1,listadeGrupoDisplay:!1,reservarStatus:!0,marcadorCerrado:!0,viewHora:!0,viewLoader:!0,Pasajeros:[],pre_solicitud:[],solicitud:[],listPassanger:[],pasajeroServicio:[],listaHoras:[],aerolinea:[]},e.todosPasajeros=Object(x.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.passangerProgramacion_fetch(e.state.token,e.state.cliente);case 2:if(!(r=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",r.error,"Error");case 10:return t.abrupt("return");case 11:e.setState({listPassanger:r});case 12:case"end":return t.stop()}}),t)}))),e.onsubmit=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),a=!1,!(e.state.solicitud.length>0)){t.next=9;break}return t.next=5,w()({title:"Mensaje",text:"Tiene servicios creados sin guardar, \xbfDeseas continuar y perder los cambios realizados?",icon:"warning",buttons:!0,dangerMode:!0});case 5:t.sent&&(a=!0),t.next=10;break;case 9:a=!0;case 10:if(!a){t.next=37;break}if(!(e.state.fechaI&&e.state.cliente&&"_cli_NA"!==e.state.cliente&&e.state.origen&&"_ori_NA"!==e.state.origen&&""!==e.state.horaI)){t.next=36;break}return e.setState({Pasajeros:[],pre_solicitud:[],solicitud:[],viewLoader:!1}),t.next=15,_.searchListaPasajero(e.state.token,e.state.cliente,e.state.fechaI,e.state.origen,e.state.horaI,e.state.horaI,"a");case 15:return n=t.sent,t.next=18,_.searchAerolineafetch(e.state.token,e.state.cliente);case 18:return i=t.sent,t.next=21,_.searchNumeroServicio_fetch(e.state.token,e.state.cliente,e.state.fechaI);case 21:if(s=t.sent,!(n.error||i.error||s.error)){t.next=31;break}if(g.validarCookies()){t.next=27;break}return t.next=26,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 26:g.cerrarSesion();case 27:return e.setState({listadeGrupoDisplay:!0,viewLoader:!0}),t.next=30,w()("Mensaje",n.error||i.error||s.error,"error");case 30:return t.abrupt("return");case 31:n.forEach((function(e,t){e.estado=!0,e.numViaje=t+1,e.numServicio=0})),e.setState({numeroServicio:s[0].campo,numeroServicio_fetch:s[0].campo,aerolinea:i,Pasajeros:n}),e.setState({listadeGrupoDisplay:!0,viewLoader:!0}),t.next=37;break;case 36:w()("Mensaje","Debe completar todos los campos para procesar la programaci\xf3n.","info");case 37:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.agreparPasajeros=function(t){e.setState({reservarStatus:!1}),e.validarPasajeroDuplicado(t)||e.setState({pre_solicitud:[].concat(Object(D.a)(e.state.pre_solicitud),[t])}),e.state.Pasajeros.map((function(r){return r.id_pasajero===t.id_pasajero?(r.estado=!1,r.numServicio=e.state.pre_solicitud.length+1):null})),e.setState({Pasajeros:e.state.Pasajeros})},e.quitarPasajero=function(t){w()({title:"Mensaje",text:"\xbfSeguro de retirar a este pasajero?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(r){if(r){var a=e.state.pre_solicitud.filter((function(e){return e.id_pasajero!==t}));a.map((function(e,t){return e.numServicio=t+1})),e.state.Pasajeros.map((function(e){return e.id_pasajero===t?(e.estado=!0,e.numServicio=0):null})),e.setState({pre_solicitud:a,Pasajeros:e.state.Pasajeros,reservarStatus:e.state.pre_solicitud.length-1<1})}}))},e.modificarGrupo=function(t){e.setState({Pasajeros:t})},e.agregarSolicitud=function(){e.setState({btn_botonReserva:"Cargando..."}),e.setState({marcadorCerrado:!1}),document.getElementById("botonReserva").disabled=!0,new Promise((function(t,r){var a={data:[],cab:[]};e.state.pre_solicitud.map((function(e){return a.data.push(e)})),a.cab={hora_servicio:"",nro_servicio:e.state.numeroServicio+1},setTimeout((function(){t(a)}),1e3)})).then((function(t){e.setState({solicitud:[].concat(Object(D.a)(e.state.solicitud),[t]),pre_solicitud:[],btn_botonReserva:"Reservar",reservarStatus:!0,marcadorCerrado:!0,numeroServicio:e.state.numeroServicio+1})}))},e.retirarPasajeroSolicitud=function(t,r,a){w()({title:"Mensaje",text:"\xbfEstas seguro de LIBERAR a este pasajero del servicio para volver a seleccionarlo?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(n){if(n){e.state.solicitud.forEach((function(n,i){i===t&&(1===n.data.length&&e.state.solicitud.splice(t,1),n.data.splice(r,1),e.state.Pasajeros.map((function(e,t){return e.id_pasajero===a?(e.estado=!0,e.numServicio=0):null})),e.setState({Pasajeros:e.state.Pasajeros}))})),e.state.solicitud.map((function(e,r){return r===t?e.data.map((function(e,t){return e.numServicio=t+1})):null}));var i=e.recorrerNumeroServicio(e.state.solicitud);e.setState({solicitud:i})}}))},e.eliminarPasajeroSolicitud=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n){var i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({title:"Mensaje",text:"\xbfEstas seguro de ELIMINAR a este pasajero de la lista?",icon:"warning",buttons:!0,dangerMode:!0});case 2:if(!t.sent){t.next=23;break}return t.next=6,_.eliminarPasajero_fetch(e.state.token,e.state.cliente,n.id_pasajero,e.state.fechaI,e.state.origen,n.hora);case 6:if(!(i=t.sent).error){t.next=15;break}if(g.validarCookies()){t.next=12;break}return t.next=11,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 11:g.cerrarSesion();case 12:return t.next=14,w()("Mensaje",i.error,"error");case 14:return t.abrupt("return");case 15:if(200===i.status){t.next=18;break}return w()("Mensaje","Ocurrio un error en el proceso de la eliminacion, intentarlo nuevamente por favor.","error"),t.abrupt("return");case 18:w()("Mensaje",n.descripcion_pasajero+" se elimino de la Lista de Pasajeros.","success"),e.state.solicitud.forEach((function(t,i){i===r&&(1===t.data.length&&e.state.solicitud.splice(r,1),t.data.splice(a,1),e.state.Pasajeros.map((function(t,r){return t.id_pasajero===n.id_pasajero?e.state.Pasajeros.splice(r,1):null})),e.setState({Pasajeros:e.state.Pasajeros}))})),e.state.solicitud.map((function(e,t){return t===r?e.data.map((function(e,t){return e.numServicio=t+1})):null})),s=e.recorrerNumeroServicio(e.state.solicitud),e.setState({solicitud:s});case 23:case"end":return t.stop()}}),t)})));return function(e,r,a){return t.apply(this,arguments)}}(),e.mostrarMapa=function(){var t=e.state.pre_solicitud;t.length>0?w()({title:"Mensaje",text:"\xbfQuieres descartar los cambios?",icon:"warning",buttons:!0,dangerMode:!0}).then((function(r){r&&(e.state.Pasajeros.map((function(e,r){return t.map((function(t,r){return e.id_pasajero===t.id_pasajero?(t.estado=!0,e.numServicio=0):null}))})),e.setState({mapaDisplay:!1,pre_solicitud:[]}))})):e.setState({mapaDisplay:!1})},e.BtnSave_Services=Object(x.a)(f.a.mark((function t(){var r,a,n,i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new RegExp(/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/),a=!1,e.state.solicitud.map((function(e){return""!==e.cab.hora_servicio&&r.test(e.cab.hora_servicio)?null:a=!0})),a){t.next=30;break}return t.next=6,w()({title:"Mensaje",text:"\xbfEstas seguro de guardar los servicios?",icon:"warning",buttons:!0,dangerMode:!0});case 6:if(!t.sent){t.next=28;break}return n=[],i=-1,e.state.solicitud.forEach((function(t,r){t.data.forEach((function(r,a){n.push({id_cliente:e.state.cliente,id_pasajero:r.id_pasajero,fecha:e.state.fechaI,origen:e.state.origen,hora:r.hora,nro_servicio:t.cab.nro_servicio,usuario:e.state.user.toUpperCase(),Orden_recojo:r.numServicio,id_cuenta:r.id_cuenta})})),i!==r&&n.push({hora_inicio:t.cab.hora_servicio,id_cliente:e.state.cliente,nro_servicio:t.cab.nro_servicio,fecha:e.state.fechaI,hora:t.data[0].hora,usuario:e.state.user.toUpperCase(),origen:e.state.origen}),i=r})),t.next=13,_.saveServices_fetch(e.state.token,n,"u");case 13:if(!(s=t.sent).error){t.next=22;break}if(g.validarCookies()){t.next=19;break}return t.next=18,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 18:g.cerrarSesion();case 19:return t.next=21,w()("Mensaje",s.error,"error");case 21:return t.abrupt("return");case 22:if(200===s.status){t.next=25;break}return w()("Mensaje","Se genero un error. Por favor intentarlo nuevamente.","error"),t.abrupt("return");case 25:w()("Mensaje","Servicio guardado satisfactoriamente.","success"),e.setState({solicitud:[]}),e.filtrarHoras();case 28:t.next=31;break;case 30:w()("Mensaje","La hora del servicio esta ingresado incorrectamente.","info");case 31:case"end":return t.stop()}}),t)}))),e.modifyService=function(t,r,a){var n=Object(D.a)(t),i={};n.forEach((function(e,t){t===parseInt(r.droppableId)&&(i=e.data[r.index],e.data.splice(r.index,1))})),n.forEach((function(e,t){t===parseInt(a.droppableId)&&e.data.splice(a.index,0,i)})),n.forEach((function(e){var t=1;e.data.forEach((function(e){e.numServicio=t++}))}));var s=e.validadServicioVacio(t),o=[];null!==s?(n.splice(s,1),o=e.recorrerNumeroServicio(n)):o=n,e.setState({solicitud:o})},e.validadServicioVacio=function(e){var t=null;return e.forEach((function(e,r){0===e.data.length&&(t=r)})),t},e.recorrerNumeroServicio=function(t){var r=e.state.numeroServicio_fetch+1;return t.map((function(e){return e.cab.nro_servicio=r,r++})),e.setState({numeroServicio:r-1}),t},e.nuevoPasajeroServicio=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n,i){var s,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.state.Pasajeros.filter((function(e){return e.id_pasajero===r[0].id_pasajero})).length>0)){t.next=5;break}w()("Mensaje","Este pasajero ya se encuentra en servicio","error"),t.next=25;break;case 5:return s=e.state.solicitud[n].data.length,r.map((function(t){return t.estado=!1,t.numServicio=s+1,t.hora=a,t.descripcion_pasajero=t.descripcion,t.numViaje=0,t.descripcion_distrito=t.id_distrito,t.id_cuenta=i,t.fecha=e.state.fechaI,t.origen=e.state.origen,t.usuario=e.state.user.toUpperCase()})),t.next=9,_.saveServices_fetch(e.state.token,r,"i");case 9:if(!(o=t.sent).error){t.next=18;break}if(g.validarCookies()){t.next=15;break}return t.next=14,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 14:g.cerrarSesion();case 15:return t.next=17,w()("Mensaje",o.error,"error");case 17:return t.abrupt("return");case 18:if(200===o.status){t.next=21;break}return w()("Mensaje","Se genero un error. Por favor intentarlo nuevamente.","error"),t.abrupt("return");case 21:e.state.Pasajeros.push(r[0]),e.state.solicitud[n].data.push(r[0]),e.setState({solicitud:e.state.solicitud}),w()("Mensaje","Nuevo pasajero agregado.","success");case 25:case"end":return t.stop()}}),t)})));return function(e,r,a,n){return t.apply(this,arguments)}}(),e.change_hora=function(t){"fechaI"===t.target.name&&e.setState({fechaI:t.target.value}),"origen"===t.target.name&&e.setState({origen:t.target.value}),e.setState({viewHora:!1}),setTimeout((function(){""!==e.state.fechaI&&"_ori_NA"!==e.state.origen&&e.filtrarHoras()}),1e3)},e.filtrarHoras=Object(x.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.searchHora_fetch(e.state.token,e.state.cliente,e.state.fechaI,e.state.origen);case 2:if(!(r=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",r.error,"error");case 10:return t.abrupt("return");case 11:e.setState({listaHoras:r,viewHora:!0});case 12:case"end":return t.stop()}}),t)}))),e.asignarHoraServicio=function(t,r){e.state.solicitud.map((function(e,a){return a===r?e.cab.hora_servicio=t.target.value:null})),e.setState({solicitud:e.state.solicitud})},e.AumentarNumeroServicio=function(t){e.setState({numeroServicio:t})},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,n=t.name,i=t.id_cliente,s=t.descripcion,!r){e.next=12;break}this.setState({cliente:i,user:n,cliente_descp:s,token:a}),e.next=15;break;case 12:return e.next=14,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 14:this.setState({cliente:"",user:"",cliente_descp:"",token:""});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validarPasajeroDuplicado",value:function(e){for(var t=!1,r=0;r<this.state.pre_solicitud.length;r++)if(this.state.pre_solicitud[r].id_pasajero===e.id_pasajero){t=!0;break}return t}},{key:"render",value:function(){var e=this,t=this.state.Pasajeros.filter((function(e){return!0===e.estado})),r=this.state.solicitud.length>0;return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Proceso > Programacion"}),Object(k.jsx)("div",{className:"cuadro_PROCESO_PROGRAMACION",children:Object(k.jsx)("form",{onSubmit:this.onsubmit,children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"col1",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{children:"Fecha"}),Object(k.jsx)("input",{type:"date",name:"fechaI",value:this.state.fechaI,style:{width:"150px",border:"1px solid #d9a600",padding:"3px",fontSize:"1em"},onChange:function(t){return e.change_hora(t)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{children:"Servicio"}),Object(k.jsxs)("select",{name:"origen",value:this.state.origen,onChange:function(t){return e.change_hora(t)},children:[Object(k.jsx)("option",{value:"_ori_NA",children:"Seleccionar"}),Object(k.jsx)("option",{value:"E",children:"Entrada"}),Object(k.jsx)("option",{value:"S",children:"Salida"})]})]})]}),Object(k.jsxs)("div",{className:"col2",children:[Object(k.jsxs)("div",{style:{alignItems:"center"},children:[Object(k.jsx)("span",{children:"Hora I."}),this.state.viewHora?Object(k.jsxs)("select",{name:"hora",style:{width:"150px",border:"1px solid #d9a600",padding:"3px",fontSize:"1em"},onChange:function(t){return e.setState({horaI:t.target.value})},children:[Object(k.jsx)("option",{value:"",children:"Seleccionar"}),this.state.listaHoras?this.state.listaHoras.map((function(e){return Object(k.jsx)("option",{value:e.campo,children:e.campo},e.campo)})):null]}):Object(k.jsx)("span",{children:Object(k.jsx)("img",{src:C,alt:"loader",width:"35"})})]}),Object(k.jsx)("div",{children:this.state.viewLoader?Object(k.jsx)("input",{type:"submit",value:"Procesar"}):Object(k.jsx)("span",{children:Object(k.jsx)("img",{src:C,alt:"loader",width:"35"})})})]})]})})}),this.state.listadeGrupoDisplay?this.state.mapaDisplay?Object(k.jsx)(G,{estadoMarcador:this.state.marcadorCerrado,listaMarcadores:t,agreparPasajeros:this.agreparPasajeros,mostrarMapa:this.mostrarMapa,pre_solicitud:this.state.pre_solicitud,quitarPasajero:this.quitarPasajero,agregarSolicitud:this.agregarSolicitud,btn_botonReserva:this.state.btn_botonReserva,reservarStatus:this.state.reservarStatus,limpiarpreSolicitud:this.limpiarpreSolicitud,destino:"programacion.js",numero_servicio:"0"}):Object(k.jsx)("hr",{style:{border:"1.2px solid #F4F4F4"}}):null,this.state.listadeGrupoDisplay?Object(k.jsxs)("div",{className:"grupos",children:[Object(k.jsxs)("div",{style:{margin:"5px 0px",display:"flex",alignItems:"center"},children:[Object(k.jsx)("h4",{children:"Lista de Grupos"}),Object(k.jsx)("input",{type:"button",value:"Mostrar mapa",id:"mostrarMapa",className:"mostrarMapa",onClick:function(){e.setState({mapaDisplay:!0})}}),r?Object(k.jsx)("input",{type:"button",value:"Guardar Servicios",className:"mostrarMapa",onClick:function(){return e.BtnSave_Services()}}):null]}),Object(k.jsx)(Y,{retirarPasajeroSolicitud:this.retirarPasajeroSolicitud,eliminarPasajeroSolicitud:this.eliminarPasajeroSolicitud,modifyService:this.modifyService,modificarGrupo:this.modificarGrupo,nuevoPasajeroServicio:this.nuevoPasajeroServicio,todosPasajeros:this.todosPasajeros,asignarHoraServicio:this.asignarHoraServicio,AumentarNumeroServicio:this.AumentarNumeroServicio,numeroServicio:this.state.numeroServicio,listaMarcadores:t,solicitud:this.state.solicitud,pasajeros:this.state.Pasajeros,listPassanger:this.state.listPassanger,pasajeroServicio:this.state.pasajeroServicio,aerolinea:this.state.aerolinea,nombre_componente:"programacion"})]}):null]})}}]),r}(a.Component),J=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={user:"",token:"",fechaI:"",cliente:"",horaI:"",usuario:"",origen:"_ori_NA",btn_botonReserva:"Reservar",cliente_descp:"",numeroServicio:0,numeroServicio_fetch:0,mapaDisplay:!1,listadeGrupoDisplay:!1,reservarStatus:!0,marcadorCerrado:!0,viewHora:!0,viewLoader:!0,Pasajeros:[],pre_solicitud:[],solicitud:[],listPassanger:[],pasajeroServicio:[],listaHoras:[],aerolinea:[],servicioReprogramados:[]},e.todosPasajeros=Object(x.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.passangerProgramacion_fetch(e.state.token,e.state.cliente);case 2:if(!(r=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",r.error,"error");case 10:return t.abrupt("return");case 11:e.setState({listPassanger:r});case 12:case"end":return t.stop()}}),t)}))),e.onsubmit=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i,s,o,c,l,u,d,p,h,j,b,x,m;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),""===e.state.horaI||"_ori_NA"===e.state.origen){t.next=67;break}if(a=e.pasajeroSinServicio(),n=e.servicioSinPasajero(),i=e.comprobarHoraServicio(),!a&&!i){t.next=9;break}w()("Mensaje","Antes de procesar otro servicio, considere no tener pasajeros sin servicio y servicios sin pasajeros.","error"),t.next=66;break;case 9:if(!n){t.next=39;break}if(!(e.state.solicitud.length>0)){t.next=13;break}return t.next=13,e.BtnSave_PreSubmit();case 13:return t.next=15,_.reprogramacion_fetch(e.state.token,e.state.cliente,e.state.fechaI,e.state.origen,e.state.horaI);case 15:return s=t.sent,t.next=18,_.searchAerolineafetch(e.state.token,e.state.cliente);case 18:return o=t.sent,t.next=21,_.searchNumeroServicio_fetch(e.state.token,e.state.cliente,e.state.fechaI);case 21:if(c=t.sent,!(s.error||o.error||c.error)){t.next=30;break}if(g.validarCookies()){t.next=27;break}return t.next=26,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 26:g.cerrarSesion();case 27:return t.next=29,w()("Mensaje",s.error||o.error||c.error,"error");case 29:return t.abrupt("return");case 30:s.map((function(e,t){return e.estado=!1,e.numServicio=e.orden_recojo,e.numViaje=t+1})),e.setState({numeroServicio:c[0].campo,numeroServicio_fetch:c[0].campo,aerolinea:o}),l=[],u=s[0].nro_servicio,d={data:[],cab:[]},s.forEach((function(e,t){e.nro_servicio===u?(d.data.push(e),d.cab={hora_servicio:e.hora_inicio,nro_servicio:e.nro_servicio}):(l.push(d),(d={data:[],cab:[]}).data.push(e),d.cab={hora_servicio:e.hora_inicio,nro_servicio:e.nro_servicio}),s.length===t+1&&l.push(d),u=e.nro_servicio})),e.setState({solicitud:l,Pasajeros:s}),t.next=66;break;case 39:if(!(e.state.solicitud.length>0)){t.next=42;break}return t.next=42,e.BtnSave_PreSubmit();case 42:return t.next=44,_.reprogramacion_fetch(e.state.token,e.state.cliente,e.state.fechaI,e.state.origen,e.state.horaI);case 44:return p=t.sent,t.next=47,_.searchAerolineafetch(e.state.token,e.state.cliente);case 47:return h=t.sent,t.next=50,_.searchNumeroServicio_fetch(e.state.token,e.state.cliente,e.state.fechaI);case 50:if(j=t.sent,!(p.error||h.error||j.error)){t.next=59;break}if(g.validarCookies()){t.next=56;break}return t.next=55,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 55:g.cerrarSesion();case 56:return t.next=58,w()("Mensaje",p.error||h.error||j.error,"error");case 58:return t.abrupt("return");case 59:p.map((function(e,t){return e.estado=!1,e.numServicio=e.orden_recojo,e.numViaje=t+1})),e.setState({numeroServicio:j[0].campo,numeroServicio_fetch:j[0].campo,aerolinea:h}),b=[],x=p[0].nro_servicio,m={data:[],cab:[]},p.forEach((function(e,t){e.nro_servicio===x?(m.data.push(e),m.cab={hora_servicio:e.hora_inicio,nro_servicio:e.nro_servicio}):(b.push(m),(m={data:[],cab:[]}).data.push(e),m.cab={hora_servicio:e.hora_inicio,nro_servicio:e.nro_servicio}),p.length===t+1&&b.push(m),x=e.nro_servicio})),e.setState({solicitud:b,Pasajeros:p});case 66:e.setState({listadeGrupoDisplay:!0,viewLoader:!0});case 67:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.modificarFormulario=function(t){"fechaI"===t.target.name&&e.setState({fechaI:t.target.value}),"origen"===t.target.name&&e.setState({origen:t.target.value}),e.setState({viewHora:!1}),setTimeout((function(){""!==e.state.fechaI&&"_ori_NA"!==e.state.origen&&e.filtrarHoras()}),1e3)},e.filtrarHoras=Object(x.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.searchHoraReprogramacion_fetch(e.state.token,e.state.cliente,e.state.fechaI,e.state.origen);case 2:if(!(r=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",r.error,"error");case 10:return t.abrupt("return");case 11:e.setState({listaHoras:r,viewHora:!0});case 12:case"end":return t.stop()}}),t)}))),e.agreparPasajeros=function(t){e.setState({reservarStatus:!1}),e.validarPasajeroDuplicado(t)||e.setState({pre_solicitud:[].concat(Object(D.a)(e.state.pre_solicitud),[t])}),e.state.Pasajeros.map((function(r){return r.id_pasajero===t.id_pasajero?(r.estado=!1,r.numServicio=e.state.pre_solicitud.length+1):null})),e.setState({Pasajeros:e.state.Pasajeros})},e.quitarPasajero=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({title:"Mensaje",text:"\xbfSeguro de retirar a este pasajero?",icon:"warning",buttons:!0,dangerMode:!0});case 2:t.sent&&((a=e.state.pre_solicitud.filter((function(e){return e.id_pasajero!==r}))).map((function(e,t){return e.numServicio=t+1})),e.state.Pasajeros.map((function(e){return e.id_pasajero===r?(e.estado=!0,e.numServicio=0):null})),e.setState({pre_solicitud:a,Pasajeros:e.state.Pasajeros,reservarStatus:e.state.pre_solicitud.length-1<1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.modificarGrupo=function(t){e.setState({Pasajeros:t})},e.agregarSolicitud=function(){e.setState({btn_botonReserva:"Cargando...",marcadorCerrado:!1}),document.getElementById("botonReserva").disabled=!0,new Promise((function(t,r){var a={data:[],cab:[]};e.state.pre_solicitud.map((function(e){return a.data.push(e)})),a.cab={hora_servicio:"",nro_servicio:e.state.numeroServicio+1},setTimeout((function(){t(a)}),1e3)})).then(function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({solicitud:[].concat(Object(D.a)(e.state.solicitud),[r]),pre_solicitud:[],btn_botonReserva:"Reservar",reservarStatus:!0,marcadorCerrado:!0,numeroServicio:e.state.numeroServicio+1}),t.next=3,e.BtnSave_Services(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.retirarPasajeroSolicitud=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.state.solicitud[r].cab.nro_servicio,t.next=3,w()({title:"Mensaje",text:"\xbfEstas seguro de LIBERAR a este pasajero del servicio para volver a seleccionarlo?",icon:"warning",buttons:!0,dangerMode:!0});case 3:t.sent&&(e.state.solicitud.forEach((function(t,i){i===r&&(t.data.splice(a,1),e.state.Pasajeros.map((function(e,t){return e.id_pasajero===n?(e.estado=!0,e.numServicio=0):null})),e.setState({Pasajeros:e.state.Pasajeros}))})),e.state.solicitud.map((function(e,t){return t===r?e.data.map((function(e,t){return e.numServicio=t+1})):null})),e.setState({solicitud:e.state.solicitud}),e.state.servicioReprogramados.push({id_pasajero:n,data_start:i,data_end:i}));case 5:case"end":return t.stop()}}),t)})));return function(e,r,a){return t.apply(this,arguments)}}(),e.eliminarPasajeroSolicitud=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n){var i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.state.solicitud[r].cab.nro_servicio,t.next=3,w()({title:"Mensaje",text:"\xbfEstas seguro de ELIMINAR a este pasajero de la lista?",icon:"warning",buttons:!0,dangerMode:!0});case 3:if(!t.sent){t.next=24;break}return t.next=7,_.eliminarPasajero_fetch(e.state.token,e.state.cliente,n.id_pasajero,e.state.fechaI,e.state.origen,n.hora);case 7:if(!(s=t.sent).error){t.next=16;break}if(g.validarCookies()){t.next=13;break}return t.next=12,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 12:g.cerrarSesion();case 13:return t.next=15,w()("Mensaje",s.error,"error");case 15:return t.abrupt("return");case 16:if(200===s.status){t.next=19;break}return w()("Mensaje","Ocurrio un error en el proceso de la eliminacion, intentarlo nuevamente por favor.","error"),t.abrupt("return");case 19:w()("Mensaje",n.descripcion_pasajero+" se elimino de la Lista de Pasajeros.\nPara organizar de nuevo el numero de recojo debe guardar la reprogramaci\xf3n.","success"),e.state.solicitud.forEach((function(t,i){i===r&&(t.data.splice(a,1),e.state.Pasajeros.map((function(t,r){return t.id_pasajero===n.id_pasajero?e.state.Pasajeros.splice(r,1):null})),e.setState({Pasajeros:e.state.Pasajeros}))})),e.state.solicitud.map((function(e,t){return t===r?e.data.map((function(e,t){return e.numServicio=t+1})):null})),e.setState({solicitud:e.state.solicitud}),e.state.servicioReprogramados.push({id_pasajero:n.id_pasajero,data_start:i,data_end:i});case 24:case"end":return t.stop()}}),t)})));return function(e,r,a){return t.apply(this,arguments)}}(),e.eliminarServiciosSolicitud=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(r),t.next=3,w()({title:"Mensaje",text:"\xbfEstas seguro de ELIMINAR a este servicio?",icon:"warning",buttons:!0,dangerMode:!0});case 3:t.sent&&(a=e.state.solicitud.filter((function(e){return e.cab.nro_servicio!==r.cab.nro_servicio})),console.log(a),e.setState({solicitud:Object(D.a)(a)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.mostrarMapa=Object(x.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=e.state.pre_solicitud).length>0)){t.next=8;break}return t.next=4,w()({title:"Mensaje",text:"\xbfQuieres descartar los cambios?",icon:"warning",buttons:!0,dangerMode:!0});case 4:t.sent&&(e.state.Pasajeros.map((function(e,t){return r.map((function(t,r){return e.id_pasajero===t.id_pasajero?(t.estado=!0,e.numServicio=0):null}))})),e.setState({mapaDisplay:!1,pre_solicitud:[]})),t.next=9;break;case 8:e.setState({mapaDisplay:!1});case 9:case"end":return t.stop()}}),t)}))),e.BtnSave_Services=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n=-1,r.data.forEach((function(t,i){a.push({id_cliente:e.state.cliente,id_pasajero:t.id_pasajero,fecha:e.state.fechaI,origen:e.state.origen,hora:t.hora,nro_servicio:r.cab.nro_servicio,usuario:e.state.user.toUpperCase(),Orden_recojo:t.numServicio,id_cuenta:t.id_cuenta}),-1===n&&a.push({hora_inicio:null,id_cliente:e.state.cliente,nro_servicio:r.cab.nro_servicio,fecha:e.state.fechaI,hora:t.hora,usuario:e.state.user.toUpperCase(),origen:e.state.origen}),n=i})),t.next=5,_.saveServices_fetch(e.state.token,a,"u");case 5:if(!(i=t.sent).error){t.next=14;break}if(g.validarCookies()){t.next=11;break}return t.next=10,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 10:g.cerrarSesion();case 11:return t.next=13,w()("Mensaje",i.error,"error");case 13:return t.abrupt("return");case 14:if(200===i.status){t.next=17;break}return w()("Mensaje","Se genero un error. Por favor intentarlo nuevamente.","error"),t.abrupt("return");case 17:w()("Mensaje","Nuevo servicio agregado.","success");case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.BtnSeve_Services2=Object(x.a)(f.a.mark((function t(){var r,a,n,i,s,o,c,l,u,d,p,h,j;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.pasajeroSinServicio(),a=e.servicioSinPasajero(),n=e.comprobarHoraServicio(),!r){t.next=7;break}w()("Mensaje","Tiene pasajeros sin servicio, por favor asignarlo antes de guardar la reprogramaci\xf3n.","error"),t.next=66;break;case 7:if(!a){t.next=36;break}return t.next=10,w()({title:"Mensaje",text:"\xbfEsta seguro de eliminar los servicios sin pasajero? podrian ir vacios en Velsat.",icon:"warning",buttons:!0,dangerMode:!0});case 10:if(!t.sent){t.next=34;break}return i=[],e.state.servicioReprogramados.forEach((function(e){i.push(e.data_start),i.push(e.data_end)})),s=Object(D.a)(new Set(i)),o=e.state.solicitud.filter((function(e){return s.includes(e.cab.nro_servicio)})),c=[],o.forEach((function(t,r){if(t.data.length>0){var a=-1;t.data.forEach((function(r,a){c.push({id_cliente:e.state.cliente,id_pasajero:r.id_pasajero,fecha:e.state.fechaI,origen_servicio:e.state.origen,hora:r.hora,nro_servicio:t.cab.nro_servicio,usuario:e.state.user.toUpperCase(),orden_recojo:r.numServicio,id_cuenta:""===r.id_cuenta?null:r.id_cuenta})})),-1===a&&c.push({id_cliente:e.state.cliente,fecha:e.state.fechaI,hora:t.data[0].hora,Hora_inicio:t.cab.hora_servicio,usuario:e.state.user.toUpperCase(),nro_servicio:t.cab.nro_servicio}),a=r}})),t.next=20,_.updateListaPasajeros_fecth(e.state.token,c,"Rep");case 20:if(!(l=t.sent).error){t.next=29;break}if(g.validarCookies()){t.next=26;break}return t.next=25,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 25:g.cerrarSesion();case 26:return t.next=28,w()("Mensaje",l.error,"error");case 28:return t.abrupt("return");case 29:if(200===l.status){t.next=32;break}return w()("Mensaje","Se genero un error. Por favor intentarlo nuevamente.","error"),t.abrupt("return");case 32:w()("Mensaje","Cambios guardados satisfactoriamente.","success"),e.setState({servicioReprogramados:[]});case 34:t.next=66;break;case 36:if(!n){t.next=40;break}w()("Mensaje","Deben de ingresar correctamente las horas de inicio en el Servicio.","error"),t.next=66;break;case 40:return t.next=42,w()({title:"Mensaje",text:"\xbfEstas seguro de guardar los servicios?",icon:"warning",buttons:!0,dangerMode:!0});case 42:if(!t.sent){t.next=66;break}return u=[],e.state.servicioReprogramados.forEach((function(e){u.push(e.data_start),u.push(e.data_end)})),d=Object(D.a)(new Set(u)),p=e.state.solicitud.filter((function(e){return d.includes(e.cab.nro_servicio)})),h=[],p.forEach((function(t,r){var a=-1;t.data.forEach((function(r,a){h.push({id_cliente:e.state.cliente,id_pasajero:r.id_pasajero,fecha:e.state.fechaI,origen_servicio:e.state.origen,hora:r.hora,nro_servicio:t.cab.nro_servicio,usuario:e.state.user.toUpperCase(),orden_recojo:r.numServicio,id_cuenta:""===r.id_cuenta?null:r.id_cuenta})})),-1===a&&h.push({id_cliente:e.state.cliente,fecha:e.state.fechaI,hora:t.data[0].hora,Hora_inicio:t.cab.hora_servicio,usuario:e.state.user.toUpperCase(),nro_servicio:t.cab.nro_servicio}),a=r})),t.next=52,_.updateListaPasajeros_fecth(e.state.token,h,"Rep");case 52:if(!(j=t.sent).error){t.next=61;break}if(g.validarCookies()){t.next=58;break}return t.next=57,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 57:g.cerrarSesion();case 58:return t.next=60,w()("Mensaje",j.error,"error");case 60:return t.abrupt("return");case 61:if(200===j.status){t.next=64;break}return w()("Mensaje","Se genero un error. Por favor intentarlo nuevamente.","error"),t.abrupt("return");case 64:e.setState({servicioReprogramados:[]}),w()("Mensaje","Cambios guardados satisfactoriamente.","success");case 66:case"end":return t.stop()}}),t)}))),e.BtnSave_PreSubmit=Object(x.a)(f.a.mark((function t(){var r,a,n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],a=[],e.state.servicioReprogramados.forEach((function(e){a.push(e.data_start),a.push(e.data_end)})),n=Object(D.a)(new Set(a)),e.state.solicitud.filter((function(e){return n.includes(e.cab.nro_servicio)})).forEach((function(t,a){var n=-1;t.data.forEach((function(a,n){r.push({id_cliente:e.state.cliente,id_pasajero:a.id_pasajero,fecha:e.state.fechaI,origen_servicio:e.state.origen,hora:a.hora,nro_servicio:t.cab.nro_servicio,usuario:e.state.user.toUpperCase(),orden_recojo:a.numServicio,id_cuenta:""===a.id_cuenta?null:a.id_cuenta})})),-1===n&&r.push({id_cliente:e.state.cliente,fecha:e.state.fechaI,hora:t.data[0].hora,Hora_inicio:t.cab.hora_servicio,usuario:e.state.user.toUpperCase(),nro_servicio:t.cab.nro_servicio}),n=a})),t.next=8,_.updateListaPasajeros_fecth(e.state.token,r,"Rep");case 8:if(!(i=t.sent).error){t.next=17;break}if(g.validarCookies()){t.next=14;break}return t.next=13,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 13:g.cerrarSesion();case 14:return t.next=16,w()("Mensaje",i.error,"error");case 16:return t.abrupt("return");case 17:if(200===i.status){t.next=20;break}return console.log("se genero un error"),t.abrupt("return");case 20:e.setState({servicioReprogramados:[]});case 21:case"end":return t.stop()}}),t)}))),e.pasajeroSinServicio=function(){var t=!1;return e.state.Pasajeros.filter((function(e){return!0===e.estado})).length>0&&(t=!0),t},e.servicioSinPasajero=function(){var t=!1;return e.state.solicitud.forEach((function(e){0===e.data.length&&(t=!0)})),t},e.comprobarHoraServicio=function(){var t=new RegExp(/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/),r=!1;return e.state.solicitud.forEach((function(e){""!==e.cab.hora_servicio&&t.test(e.cab.hora_servicio)||(r=!0)})),r},e.modifyService=function(t,r,a){var n=Object(D.a)(t),i={},s=[],o=[],c=-1;if(t[r.droppableId].data.length<2)w()("Mensaje","Este servicio se quedara sin pasajeros, debe contener al menos uno.","info");else{n.forEach((function(e,t){t===parseInt(r.droppableId)&&(i=e.data[r.index],e.data.splice(r.index,1),s=e.cab.nro_servicio)})),n.forEach((function(e,t){t===parseInt(a.droppableId)&&(e.data.splice(a.index,0,i),o=e.cab.nro_servicio)})),n.forEach((function(e){var t=1;e.data.forEach((function(e){e.numServicio=t++}))}));var l=e.state.servicioReprogramados.filter((function(e){return e.id_pasajero===i.id_pasajero}));l.length<1?e.setState({servicioReprogramados:[].concat(Object(D.a)(e.state.servicioReprogramados),[{id_pasajero:i.id_pasajero,data_start:s,data_end:o,inicio:r.index+1}])}):l[0].data_start===o&&l[0].inicio===a.index+1?(c=e.state.servicioReprogramados.findIndex((function(e){return e.id_pasajero===l[0].id_pasajero})),e.state.servicioReprogramados.splice(c,1)):e.state.servicioReprogramados.map((function(e){return e.id_pasajero===i.id_pasajero?e.data_end=o:null})),setTimeout((function(){console.log(e.state.servicioReprogramados)}),1e3),e.setState({solicitud:n})}},e.nuevoPasajeroServicio=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n,i){var s,o,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(r,a,n,i),!(e.state.Pasajeros.filter((function(e){return e.id_pasajero===r[0].id_pasajero})).length>0)){t.next=6;break}w()("Mensaje","Este pasajero ya se encuentra en servicio","error"),t.next=28;break;case 6:return s=e.state.solicitud[n].data.length,o=e.state.solicitud[n].cab.nro_servicio,r.map((function(t){return t.estado=!1,t.numServicio=s+1,t.hora=a,t.descripcion_pasajero=t.descripcion,t.numViaje=0,t.descripcion_distrito=t.id_distrito,t.id_cuenta=""===i?null:i,t.fecha=e.state.fechaI,t.origen=e.state.origen,t.origen_servicio=e.state.origen,t.usuario=e.state.user.toUpperCase(),t.orden_recojo=s+1,t.nro_servicio=o})),t.next=11,_.saveServices_fetch(e.state.token,r,"i");case 11:if(!(c=t.sent).error){t.next=20;break}if(g.validarCookies()){t.next=17;break}return t.next=16,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 16:g.cerrarSesion();case 17:return t.next=19,w()("Mensaje",c.error,"error");case 19:return t.abrupt("return");case 20:if(200===c.status){t.next=23;break}return w()("Mensaje","Se genero un error. Por favor intentarlo nuevamente.","error"),t.abrupt("return");case 23:e.state.Pasajeros.push(r[0]),e.state.solicitud[n].data.push(r[0]),e.setState({solicitud:e.state.solicitud}),e.state.servicioReprogramados.push({id_pasajero:r[0].id_pasajero,data_start:o,data_end:o}),w()("Mensaje","Nuevo pasajero agregado.\nPara guardar en Velsat es necesario guardar el servicio.","success");case 28:case"end":return t.stop()}}),t)})));return function(e,r,a,n){return t.apply(this,arguments)}}(),e.asignarHoraServicio=function(t,r){var a=e.state.solicitud[r].cab.nro_servicio;e.state.solicitud.map((function(e,a){return a===r?e.cab.hora_servicio=t.target.value:null})),e.setState({solicitud:e.state.solicitud}),0===e.state.servicioReprogramados.filter((function(e){return e.id_pasajero===a})).length&&e.state.servicioReprogramados.push({id_pasajero:a,data_start:a,data_end:a})},e.AumentarNumeroServicio=function(t){e.setState({numeroServicio:t})},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,n=t.name,i=t.id_cliente,s=t.descripcion,!r){e.next=12;break}this.setState({cliente:i,user:n,cliente_descp:s,token:a}),e.next=15;break;case 12:return e.next=14,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 14:this.setState({cliente:"",user:"",cliente_descp:"",token:""});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validarPasajeroDuplicado",value:function(e){for(var t=!1,r=0;r<this.state.pre_solicitud.length;r++)if(this.state.pre_solicitud[r].id_pasajero===e.id_pasajero){t=!0;break}return t}},{key:"render",value:function(){var e=this,t=this.state.Pasajeros.filter((function(e){return!0===e.estado})),r=this.state.solicitud.length>0;return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Proceso > Re Programacion"}),Object(k.jsx)("div",{className:"cuadro_PROCESO_PROGRAMACION",children:Object(k.jsx)("form",{onSubmit:this.onsubmit,children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"col1",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{children:"Fecha"}),Object(k.jsx)("input",{type:"date",name:"fechaI",value:this.state.fechaI,style:{width:"150px",border:"1px solid #F0A500",padding:"3px",fontSize:"1em"},onChange:function(t){return e.modificarFormulario(t)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{children:"Servicio"}),Object(k.jsxs)("select",{name:"origen",value:this.state.origen,onChange:function(t){return e.modificarFormulario(t)},children:[Object(k.jsx)("option",{value:"_ori_NA",children:"Seleccionar"}),Object(k.jsx)("option",{value:"E",children:"Entrada"}),Object(k.jsx)("option",{value:"S",children:"Salida"})]})]})]}),Object(k.jsxs)("div",{className:"col2",children:[Object(k.jsxs)("div",{style:{alignItems:"center"},children:[Object(k.jsx)("span",{children:"Hora I."}),this.state.viewHora?Object(k.jsxs)("select",{name:"hora",style:{width:"150px",border:"1px solid #F0A500",padding:"3px",fontSize:"1em"},onChange:function(t){return e.setState({horaI:t.target.value})},children:[Object(k.jsx)("option",{value:"",children:"Seleccionar"}),this.state.listaHoras?this.state.listaHoras.map((function(e){return Object(k.jsx)("option",{value:e.campo,children:e.campo},e.campo)})):null]}):Object(k.jsx)("span",{children:Object(k.jsx)("img",{src:C,alt:"loader",width:"35"})})]}),Object(k.jsx)("div",{children:this.state.viewLoader?Object(k.jsx)("input",{type:"submit",value:"Procesar"}):Object(k.jsx)("span",{children:Object(k.jsx)("img",{src:C,alt:"loader",width:"35"})})})]})]})})}),this.state.listadeGrupoDisplay?this.state.mapaDisplay?Object(k.jsx)(G,{estadoMarcador:this.state.marcadorCerrado,listaMarcadores:t,agreparPasajeros:this.agreparPasajeros,mostrarMapa:this.mostrarMapa,pre_solicitud:this.state.pre_solicitud,quitarPasajero:this.quitarPasajero,agregarSolicitud:this.agregarSolicitud,btn_botonReserva:this.state.btn_botonReserva,reservarStatus:this.state.reservarStatus,limpiarpreSolicitud:this.limpiarpreSolicitud,destino:"programacion.js",numero_servicio:"0"}):Object(k.jsx)("hr",{style:{border:"1.2px solid #F4F4F4"}}):null,this.state.listadeGrupoDisplay?Object(k.jsxs)("div",{className:"grupos",children:[Object(k.jsxs)("div",{style:{margin:"5px 0px",display:"flex",alignItems:"center"},children:[Object(k.jsx)("h4",{children:"Lista de Grupos"}),Object(k.jsx)("input",{type:"button",value:"Mostrar mapa",id:"mostrarMapa",className:"mostrarMapa",onClick:function(){e.setState({mapaDisplay:!0})}}),r?Object(k.jsx)("input",{type:"button",value:"Guardar Servicios",className:"mostrarMapa",onClick:function(){return e.BtnSeve_Services2()}}):null]}),Object(k.jsx)(Y,{eliminarServiciosSolicitud:this.eliminarServiciosSolicitud,retirarPasajeroSolicitud:this.retirarPasajeroSolicitud,eliminarPasajeroSolicitud:this.eliminarPasajeroSolicitud,modifyService:this.modifyService,modificarGrupo:this.modificarGrupo,nuevoPasajeroServicio:this.nuevoPasajeroServicio,todosPasajeros:this.todosPasajeros,asignarHoraServicio:this.asignarHoraServicio,AumentarNumeroServicio:this.AumentarNumeroServicio,numeroServicio:this.state.numeroServicio,listaMarcadores:t,solicitud:this.state.solicitud,pasajeros:this.state.Pasajeros,listPassanger:this.state.listPassanger,pasajeroServicio:this.state.pasajeroServicio,aerolinea:this.state.aerolinea,servicioReprogramados:this.state.servicioReprogramados,nombre_componente:"reprogramacion"})]}):null]})}}]),r}(a.Component),X=r.p+"static/media/mensajeP.93c3a107.svg",K=r.p+"static/media/3_points.77e6a8bc.svg",$=r.p+"static/media/print.f1d74131.svg",Q=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Ingresar un comentario para el pasajero: "}),Object(k.jsx)("span",{onClick:function(){return e.props.cerrarModalComentario()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){e.props.agregarComentario(t)},children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Pasajero"}),Object(k.jsx)("input",{type:"text",name:"comentario",readOnly:"readonly",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.pasajeroComentario.descripcion_pasajero})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Comentario"}),Object(k.jsx)("textarea",{onChange:this.props.modificarComentario,value:this.props.comentario||"",name:"comentario",className:"inputFormulario inputFormularioText",style:{marginTop:"10px",resize:"none",height:"120px"}})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})})]})})]})})}}]),r}(a.Component),Z=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=this.props.pasajeroSeleccionado?this.props.pasajeroSeleccionado:[];return Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Ingresar nuevo Servicio "}),Object(k.jsx)("span",{onClick:function(){return e.props.cerrarModalServicio()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){e.props.agregarServicio(t)},children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Asignar Vehiculo del Servicio"}),Object(k.jsx)("input",{type:"text",className:"inputFormulario inputFormularioText invalido",onChange:this.props.agregarVehiculo,autoComplete:"off",value:this.props.MAS_vehiculo||"",style:{textTransform:"uppercase"}})]}),this.props.newArrayVehiculo.length>0?Object(k.jsx)("div",{className:"listPassenger",style:{marginTop:"0px"},children:this.props.newArrayVehiculo.map((function(t){return Object(k.jsx)("span",{style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",minHeight:"25px",borderRadius:"4px",border:"1px solid #1A1C20",color:"#1A1C20",margin:"3px",padding:"4px"},onClick:function(){return e.props.seleccionarVehiculo(t.id_unidad)},children:t.id_unidad},t.id_unidad)}))}):null,Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Asignar Chofer del Servicio"}),Object(k.jsx)("input",{type:"text",className:"inputFormulario inputFormularioText invalido",onChange:this.props.agregarChofer,autoComplete:"off",value:this.props.MAS_chofer||"",style:{textTransform:"uppercase"}})]}),this.props.newArrayChofer.length>0?Object(k.jsx)("div",{className:"listPassenger",style:{marginTop:"0px"},children:this.props.newArrayChofer.map((function(t){return Object(k.jsxs)("span",{style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",minHeight:"25px",borderRadius:"4px",border:"1px solid #1A1C20",color:"#1A1C20",margin:"3px",padding:"4px"},onClick:function(){return e.props.seleccionarChofer(t.id_chofer)},children:[t.id_chofer," - ",t.descripcion]},t.id_chofer)}))}):null,Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Hora de Inicio del Servicio"}),Object(k.jsx)("input",{type:"text",className:"inputFormulario inputFormularioText invalido",required:!0,onChange:this.props.agregarHoraServicio,autoComplete:"off",value:this.props.horaDelServicio||"",pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",maxLength:"5"})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Asignar pasajero"}),Object(k.jsx)("input",{type:"text",name:"MIN_PASAJERO",className:"inputFormulario inputFormularioText invalido",onChange:this.props.buscarPasajero,required:!0,autoComplete:"off",value:t[0].descripcion,style:{textTransform:"uppercase"}})]}),this.props.newArrayPassenger.length>0?Object(k.jsx)("div",{className:"listPassenger",style:{marginTop:"0px"},children:this.props.newArrayPassenger.map((function(t){return Object(k.jsxs)("span",{style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",minHeight:"25px",borderRadius:"4px",border:"1px solid #1A1C20",color:"#1A1C20",margin:"3px",padding:"4px"},onClick:function(t){return e.props.escogerPasajero(t)},id:[t.id_pasajero,t.id_cliente,t.id_tipo_di],children:[t.id_pasajero," - ",t.descripcion]},t.id_pasajero)}))}):null,Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Hora de llegada del pasajero"}),Object(k.jsx)("input",{type:"text",name:"MIN_PASAJERO",className:"inputFormulario inputFormularioText invalido",required:!0,onChange:this.props.agregarHora,autoComplete:"off",value:this.props.horaServicio,pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",maxLength:"5"})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Estado de Movilizacion del pasajero"}),Object(k.jsxs)("select",{value:this.props._ffat||"",style:{outline:"none"},onChange:this.props.agregarffat,className:"selectFormulario fontSize09em",children:[Object(k.jsx)("option",{value:"",children:"Seleccionar"}),this.props.ffat.map((function(e){return Object(k.jsx)("option",{value:e.id_tipo_estado_mov,children:e.descripcion},e.id_tipo_estado_mov)}))]})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Aerolinea del pasajero"}),Object(k.jsxs)("select",{onChange:this.props.agregarAerolinea,style:{outline:"none"},value:this.props.cuenta||"",className:"selectFormulario fontSize09em",children:[Object(k.jsx)("option",{value:"",children:"Seleccionar.."}),this.props.aerolinea.map((function(e){return Object(k.jsx)("option",{defaultValue:e.id_cuenta,value:e.id_cuenta,children:e.descripcion},e.id_cuenta)}))]})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})}),Object(k.jsx)("div",{className:"filasFormulario",style:{textAlign:"center"},children:Object(k.jsx)(d.b,{exact:!0,to:"/GacelaWeb/",style:{color:"black"},rel:"noopener noreferrer",target:"_blank",children:"\xbfCrear nuevo pasajero?"})})]})})]})})}}]),r}(a.Component),ee=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Ultima modificaci\xf3n "}),Object(k.jsx)("span",{onClick:function(){return e.props.cerrarVentanaModificacion()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Usuario:"}),Object(k.jsx)("input",{type:"text",readOnly:"readonly",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.pasajeroComentario.usuario_asigna_servicio||""})]})})]})})}}]),r}(a.Component),te=r(17),re=r.n(te),ae=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={pasajeroSeleccionado:[{descripcion:""}],newArrayPassenger:[],pasajeroComentario:[],newArrayVehiculo:[],newArrayChofer:[],posicion:[],gruposView:[],modalNuevoPasajero:!1,modalComentario:!1,modalNuevoServicio:!1,modalModificacion:!1,displayMapa:!1,bloqueServicio:null,horaServicio:"",aerolinea:"",comentario:"",ffat:"",horaDelServicio:"",MAS_vehiculo:"",MAS_chofer:"",numero_servicio:""},e.agregarUsuarioServicio=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.todosPasajeros();case 2:e.setState({modalNuevoPasajero:!0,bloqueServicio:a,horaServicio:r.cabecera.hora});case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.cerrarModal=function(){e.setState({modalNuevoPasajero:!1,pasajeroSeleccionado:[{descripcion:""}],newArrayPassenger:[],bloqueServicio:null})},e.guarDardatosModal=function(t){t.preventDefault();for(var r=e.state.pasajeroSeleccionado[0].id_pasajero,a=e.props.listPassanger,n=!1,i=0;i<a.length;i++)if(a[i].id_pasajero===r){n=!0;break}void 0!==e.state.pasajeroSeleccionado[0].id_pasajero&&n&&""!==e.state.ffat?(e.props.nuevoPasajeroServicio(e.state.pasajeroSeleccionado,e.state.horaServicio,e.state.bloqueServicio,e.state.aerolinea,e.state.ffat),e.setState({modalNuevoPasajero:!1,aerolinea:"",horaServicio:"",ffat:""})):w()("Mensaje","Datos del formulario ingresados incorrectamente, por favor validarlo y volverlo a ingresar.","info")},e.buscarPasajero=function(t){t.target.value.length>0?e.searchPassenger(t.target.value):e.setState({newArrayPassenger:[]}),e.setState({pasajeroSeleccionado:[{descripcion:t.target.value}]})},e.searchPassenger=function(t){var r=e.props.listPassanger.filter((function(e){return-1!==e.id_pasajero.indexOf(t)||-1!==e.descripcion.indexOf(t.toUpperCase())}));e.setState({newArrayPassenger:r})},e.escogerPasajero=function(t){var r=t.target.id.split(",");e.props.listPassanger.forEach((function(t){if(t.id_pasajero===r[0])return e.setState({pasajeroSeleccionado:[t]})})),e.setState({newArrayPassenger:[]})},e.agregarHora=function(t){e.setState({horaServicio:t.target.value})},e.agregarHoraServicio=function(t){e.setState({horaDelServicio:t.target.value})},e.agregarAerolinea=function(t){e.setState({aerolinea:t.target.value})},e.agregarffat=function(t){e.setState({ffat:t.target.value})},e.modalComentario=function(t,r,a){e.setState({pasajeroComentario:t,modalComentario:!0,comentario:t.comentario,posicion:{key:r,subKey:a}})},e.cerrarModalComentario=function(){e.setState({modalComentario:!1,pasajeroComentario:[],comentario:"",posicion:[]})},e.modificarComentario=function(t){e.setState({comentario:t.target.value})},e.agregarComentario=function(t){t.preventDefault(),e.props.agregarComentario(e.state.pasajeroComentario,e.state.posicion,e.state.comentario)},e.modalServicio=Object(x.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.todosPasajeros();case 2:e.setState({modalNuevoServicio:!0});case 3:case"end":return t.stop()}}),t)}))),e.cerrarModalServicio=function(){e.setState({modalNuevoServicio:!1})},e.agregarServicio=function(t){t.preventDefault(),""===e.state.ffat?w()("Mensaje","Debe seleccionar un estado de movilizaci\xf3n.","info"):(e.props.nuevoServcio_Pasajero(e.state.MAS_chofer,e.state.MAS_vehiculo,e.state.pasajeroSeleccionado,e.state.horaDelServicio,e.state.horaServicio,e.state.ffat,e.state.aerolinea,t),e.setState({modalNuevoPasajero:!1,aerolinea:"",horaServicio:"",ffat:"",horaDelServicio:"",MAS_vehiculo:"",MAS_chofer:""}))},e.agregarVehiculo=function(t){t.target.value.length>0?(e.searchVichulo(t.target.value),e.setState({newArrayChofer:[]})):e.setState({newArrayVehiculo:[]}),e.setState({MAS_vehiculo:t.target.value})},e.searchVichulo=function(t){var r=e.props.listaAuto.filter((function(e){return-1!==e.id_unidad.indexOf(t)}));e.setState({newArrayVehiculo:r})},e.seleccionarVehiculo=function(t){e.setState({MAS_vehiculo:t,newArrayVehiculo:[]})},e.agregarChofer=function(t){t.target.value.length>0?(e.searchChofer(t.target.value),e.setState({newArrayVehiculo:[]})):e.setState({newArrayChofer:[]}),e.setState({MAS_chofer:t.target.value})},e.searchChofer=function(t){var r=e.props.listaChofer.filter((function(e){return-1!==e.id_chofer.indexOf(t)||-1!==e.descripcion.indexOf(t.toUpperCase())}));e.setState({newArrayChofer:r})},e.seleccionarChofer=function(t){e.setState({MAS_chofer:t,newArrayChofer:[]})},e.modalModificacion=function(t){e.setState({pasajeroComentario:t,modalModificacion:!0})},e.cerrarVentanaModificacion=function(){e.setState({pasajeroComentario:[],modalModificacion:!1})},e.onKeyPressed=function(t){"B"===t.key.toUpperCase()&&t.ctrlKey&&e.props.guardarCambios()},e.mostrarMapa=function(t,r){e.setState({displayMapa:!0,gruposView:t,numero_servicio:r})},e.imprimir=function(e){var t=window.open("","Reporte","height=400,width=600");return t.document.write("<html><head><title>Reporte</title>"),t.document.write("</head><body>"),t.document.write("<table border='1' style=\"border-collapse: collapse;\">"),t.document.write("<thead><tr>"),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">'.concat(e.cabecera.id_cliente,"</td>")),t.document.write("</tr><tr>"),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323; min-width: 50px">FECHA</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">TIPO SERVICIO</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">HORA INICIO</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">HORA LLEGADA</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">N\xb0 SERVICIO</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">AREA</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">AEROLINEA</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">NOMBRE</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">TELEFONO</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">DIRECCION</td>'),t.document.write('<td style="padding: 4px; font-size: 0.6em; background: #FFF323;">DISTRITO</td>'),t.document.write("</tr></thead>"),t.document.write("<tbody>"),e.data.forEach((function(r){["RE","CA","re","ca"].includes(r.id_tipo_estado_mov)||(t.document.write("<tr>"),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat(re()(e.cabecera.fecha).format("YYYY-MM-DD"),"</td>")),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat("E"===r.origen_servicio?"ENTRADA":"SALIDA","</td>")),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat(e.cabecera.hora_inicio,"</td>")),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat(r.hora,"</td>")),t.document.write("<td style=\"padding: 4px; font-size: 0.6em;\" align='center'>".concat(e.cabecera.nro_servicio,"</td>")),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat(r.id_area||"","</td>")),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat(r.id_cuenta||"","</td>")),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat(r.descripcion_pasajero||"","</td>")),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat(r.celular||"","</td>")),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat(r.direccion||"","</td>")),t.document.write('<td style="padding: 4px; font-size: 0.6em;">'.concat(r.descripcion_distrito||"","</td>")),t.document.write("</tr>"))})),t.document.write("</tbody></table>"),t.document.write("</body></html>"),t.print(),t.close(),!0},e}return Object(c.a)(r,[{key:"StyleCompleted",value:function(){return{display:"flex",flexDirection:"row",height:" 100vh",width:"100vw",flexWrap:"wrap",position:"fixed",zIndex:"100",padding:"100px",left:"0",top:"0",overflow:"auto",backgroundColor:"rgba(0,0,0,0.4)"}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPressed,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPressed,!1)}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{marginTop:"15px",padding:"0px 15px",marginBottom:"15px"},onKeyDown:this.onKeyPressed,tabIndex:-1,children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.2em",fontWeight:"bold",marginBottom:"10px"},children:[Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(k.jsx)("div",{style:{marginRight:"15px"},children:Object(k.jsx)("input",{onClick:function(){e.modalServicio()},type:"button",value:"Nuevo servicio",className:"botonAccionLiquidacion"})}),Object(k.jsx)("div",{children:Object(k.jsx)("input",{onClick:function(){e.props.guardarCambios()},type:"button",value:"Guardar cambios",className:"botonAccionLiquidacion"})})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{style:{color:"green"},children:"Estado de la liquidacion:  ACTIVO"}),"\xa0\xa0\xa0\xa0",Object(k.jsx)("span",{style:{color:"red"},children:"Costo: "}),Object(k.jsx)("span",{style:{color:"red"},children:parseFloat(this.props.costoTotal).toFixed(3)})]})]}),Object(k.jsx)("div",{style:{overflowY:"scroll",maxHeight:"800px"},children:Object(k.jsxs)("table",{border:"1",style:{width:"100%",borderCollapse:"collapse"},className:"table_solicitudes",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white",fontSize:"0.8em"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"20px",padding:"6px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"N\xb0 Orden"}),Object(k.jsx)("th",{style:{width:"60px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Hora"}),Object(k.jsx)("th",{style:{width:"40px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Aerolinea"}),Object(k.jsx)("th",{style:{width:"40px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Area"}),Object(k.jsx)("th",{style:{width:"40px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"D.N.I"}),Object(k.jsx)("th",{style:{width:"250px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Nombre"}),Object(k.jsx)("th",{style:{width:"250px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Direccion"}),Object(k.jsx)("th",{style:{width:"90px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Distrito"}),Object(k.jsx)("th",{style:{width:"40px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Telefono"}),Object(k.jsx)("th",{style:{width:"30px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Automovil"}),Object(k.jsx)("th",{style:{width:"30px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Costo"}),Object(k.jsx)("th",{style:{width:"30px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Est. Mov."}),Object(k.jsx)("th",{style:{width:"10px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Comentario"}),Object(k.jsx)("th",{style:{width:"10px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012"},children:"Cambios"})]})}),Object(k.jsx)(U.a,{onDragEnd:function(t){var r=t.source,a=t.destination;a&&(r.index===a.index&&r.droppableId===a.droppableId||e.props.modifyService(e.props.servicio,r,a))},children:this.props.servicio.map((function(t,r){return Object(k.jsx)(U.c,{droppableId:""+r,children:function(a){return Object(k.jsxs)("tbody",{ref:a.innerRef,style:{position:"relative"},children:[Object(k.jsx)("tr",{style:{backgroundColor:t.data.length>0?"white":"#F66767",color:t.data.length>0?"black":"white"},children:Object(k.jsxs)("td",{colSpan:"14",style:{padding:"5px",fontSize:"0.8em"},children:[Object(k.jsxs)("span",{children:["Servicio ",Object(k.jsx)("b",{children:t.cabecera.nro_servicio})]}),Object(k.jsxs)("span",{onClick:function(){e.imprimir(t,r)},style:{fontSize:"0.9em",marginLeft:"15px",cursor:"pointer"},children:[" ",Object(k.jsx)("img",{src:$,alt:"imprimir",width:"18"})]}),Object(k.jsxs)("span",{onClick:function(){e.agregarUsuarioServicio(t,r)},style:{fontSize:"0.9em",marginLeft:"15px",cursor:"pointer"},children:[" ",Object(k.jsx)("img",{src:L,alt:"agregar nuevo usuario",width:"18"})]}),Object(k.jsxs)("span",{onClick:function(){e.mostrarMapa(t.data,t.cabecera.nro_servicio)},style:{fontSize:"0.9em",marginLeft:"15px",cursor:"pointer"},children:[" ",Object(k.jsx)("img",{src:z,alt:"ver mapa",width:"15"})]}),Object(k.jsx)("b",{children:Object(k.jsx)("span",{style:{marginLeft:"15px"},children:"Hora de Inicio: "})}),Object(k.jsx)("input",{className:"invalido",style:{marginLeft:"3px",width:"50px",textAlign:"center"},name:"_horaS",type:"text",autoComplete:"off",maxLength:"5",pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",value:t.cabecera.hora_inicio,onChange:function(r){return e.props.cambiarHoraCabecera(r,t.cabecera.nro_servicio)},required:!0}),Object(k.jsx)("b",{children:Object(k.jsx)("span",{style:{marginLeft:"15px"},children:"Codigo del Automovil: "})}),Object(k.jsx)("input",{style:{marginLeft:"3px",width:"45px",paddingLeft:"5px"},name:"_auto",type:"text",onChange:function(a){return e.props.buscarListaAuto(a,r,t.cabecera.nro_servicio)},autoComplete:"off",value:t.cabecera.id_unidad||"",readOnly:!(t.data.length>0)}),e.props.numero_servicio===r&&e.props.filtroAuto.length>0?Object(k.jsx)("div",{style:{position:"absolute",left:"320px",height:"95px",display:"flex",flexDirection:"column",backgroundColor:"white",width:"250px",overflowY:"scroll",padding:"7px",zIndex:"1"},children:e.props.filtroAuto.map((function(r){return Object(k.jsx)("span",{style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",minHeight:"25px",borderRadius:"4px",border:"1px solid #1A1C20",color:"#1A1C20",margin:"3px",padding:"4px"},onClick:function(t){return e.props.seleccionarAuto(t)},id:[r.id_unidad,t.nro_servicio,r.placa],children:r.id_unidad},r.id_unidad)}))}):null,Object(k.jsx)("b",{children:Object(k.jsx)("span",{style:{marginLeft:"15px"},children:"Placa del Automovil: "})}),Object(k.jsx)("input",{style:{marginLeft:"3px",paddingLeft:"5px",width:"70px"},name:"_autoDescripcion",type:"text",autoComplete:"off",readOnly:!0,value:t.cabecera.placa||""}),Object(k.jsx)("b",{children:Object(k.jsx)("span",{style:{marginLeft:"15px"},children:"Codigo del chofer: "})}),Object(k.jsx)("input",{style:{marginLeft:"3px",paddingLeft:"5px",width:"75px"},name:"_chofer",type:"text",onChange:function(a){return e.props.buscarListaChofer(a,r,t.nro_servicio)},autoComplete:"off",value:t.cabecera.id_chofer||"",readOnly:!(t.data.length>0)}),e.props.numero_servicio===r&&e.props.filtroChofer.length>0?Object(k.jsx)("div",{style:{position:"absolute",left:"715px",height:"95px",display:"flex",flexDirection:"column",backgroundColor:"white",width:"250px",overflowY:"scroll",padding:"7px",zIndex:"1"},children:e.props.filtroChofer.map((function(r){return Object(k.jsxs)("span",{style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",minHeight:"25px",borderRadius:"4px",border:"1px solid #1A1C20",color:"#1A1C20",margin:"3px",padding:"4px"},onClick:function(t){return e.props.seleccionarChofer(t)},id:[r.id_chofer,t.nro_servicio,r.descripcion],children:[r.id_chofer," - ",r.descripcion]},r.id_chofer)}))}):null,Object(k.jsx)("b",{children:Object(k.jsx)("span",{style:{marginLeft:"15px"},children:"Nombre del Chofer: "})}),Object(k.jsx)("input",{style:{marginLeft:"3px"},name:"_choferDescripcion",type:"text",autoComplete:"off",readOnly:!0,value:t.cabecera.descripcion||""}),Object(k.jsx)("b",{children:Object(k.jsx)("span",{style:{marginLeft:"15px"},children:"Hora llegada: "})}),Object(k.jsx)("input",{style:{marginLeft:"3px",width:"50px",textAlign:"center"},type:"text",name:"_horaLlegada",autoComplete:"off",pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",className:"invalido",value:t.cabecera.hora_llegada||"",onChange:function(r){return e.props.cambiarHora_llegada(r,t.cabecera.nro_servicio)},maxLength:"5"})]})}),t.data.length>0?t.data.map((function(a,n){return Object(k.jsx)(U.b,{draggableId:a.id_pasajero+a.nro_servicio,index:n,children:function(i){return Object(k.jsx)("tr",Object(P.a)(Object(P.a)(Object(P.a)({ref:i.innerRef},i.draggableProps),i.dragHandleProps),{},{children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("td",{style:{width:"20px",padding:"4px",fontSize:"0.7em"},align:"center",children:a.orden_recojo}),Object(k.jsx)("td",{style:{width:"60px",padding:"4px",fontSize:"0.7em"},align:"center",children:Object(k.jsx)("input",{type:"text",value:null===a.hora?"":a.hora,style:{width:"35px"},maxLength:"5",className:"invalido",onChange:function(a){e.props.cambiarHoraDetalle(a,r,n,t.cabecera.nro_servicio)},pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$"})}),Object(k.jsx)("td",{style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:Object(k.jsxs)("select",{id:[r,a.id_pasajero],value:null===a.id_cuenta?"":a.id_cuenta,name:"id_cuenta",onChange:function(r){e.props.changeText(r,t.cabecera.nro_servicio)},children:[Object(k.jsx)("option",{value:"",children:"-"}),e.props.aerolinea.map((function(e){return Object(k.jsx)("option",{value:e.id_cuenta,defaultValue:e.id_cuenta,children:e.descripcion},e.id_cuenta)}))]})}),Object(k.jsx)("td",{style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:Object(k.jsxs)("select",{id:[r,a.id_pasajero],value:null===a.id_area?"":a.id_area,name:"id_area",onChange:function(r){e.props.changeText(r,t.cabecera.nro_servicio)},children:[Object(k.jsx)("option",{value:"",children:"-"}),e.props.listArea.map((function(e){return Object(k.jsx)("option",{value:e.id_area,defaultValue:e.id_area,children:e.id_area},e.id_area)}))]})}),Object(k.jsx)("td",{style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:a.id_pasajero}),Object(k.jsx)("td",{style:{maxWidth:"250px",height:"30px",padding:" 5px 4px"},children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:a.descripcion_pasajero})}),Object(k.jsx)("td",{style:{maxWidth:"250px",height:"30px",padding:" 5px 4px"},children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:a.direccion})}),Object(k.jsx)("td",{style:{maxWidth:"90px",height:"30px",padding:" 5px 4px"},align:"center",children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:a.descripcion_distrito})}),Object(k.jsx)("td",{style:{maxWidth:"90px",height:"30px",padding:" 5px 4px"},align:"center",children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:a.celular})}),Object(k.jsx)("td",{style:{width:"30px",padding:"4px",fontSize:"0.7em"},align:"center",children:a.id_tipo_servicio}),Object(k.jsx)("td",{style:{width:"30px",padding:"4px",fontSize:"0.7em"},align:"center",children:a.costo_pasajero&&"NaN"!==a.costo_pasajero?a.costo_pasajero:""}),Object(k.jsx)("td",{style:{width:"30px",padding:"4px",fontSize:"0.7em"},align:"center",children:Object(k.jsxs)("select",{id:[r,a.id_pasajero,t.cabecera.nro_servicio,a.descripcion_pasajero,a.descripcion_distrito],value:a.id_tipo_estado_mov||"",name:"id_tipo_estado_mov",onChange:function(r){e.props.changeText(r,t.cabecera.nro_servicio)},children:[Object(k.jsx)("option",{value:"",children:"-"}),e.props.ffat.map((function(e){return Object(k.jsx)("option",{value:e.id_tipo_estado_mov,children:e.id_tipo_estado_mov},e.id_tipo_estado_mov)}))]})}),Object(k.jsx)("td",{style:{width:"10px",padding:"4px",fontSize:"0.7em"},align:"center",children:Object(k.jsx)("button",{onClick:function(){e.modalComentario(a,r,n)},type:"button",style:{border:"none",cursor:"pointer",background:"none"},children:Object(k.jsx)("img",{src:X,alt:"mensaje",width:"17"})})}),Object(k.jsx)("td",{style:{width:"10px",padding:"4px",fontSize:"0.7em"},align:"center",children:Object(k.jsx)("button",{onClick:function(){e.modalModificacion(a)},type:"button",style:{border:"none",cursor:"pointer",background:"none"},children:Object(k.jsx)("img",{src:K,alt:"puntos",width:"17"})})})]})}),n)}},a.id_pasajero+a.nro_servicio)})):Object(k.jsxs)("tr",{align:"center",children:[Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"}),Object(k.jsx)("td",{style:{color:"gray",padding:"5px 4px"},children:"vacio"})]}),a.placeholder]},r)}},r)}))})]})}),this.state.displayMapa?Object(k.jsx)("div",{style:this.StyleCompleted(),children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},children:[Object(k.jsx)(E.a,{bootstrapURLKeys:{key:"AIzaSyDrq4sz8y-iJt4 wEOWpbdOFVGDy8XUQqbY"},defaultCenter:this.props.center,defaultZoom:this.props.zoom,onClick:function(e){return console.log(e)},children:this.state.gruposView.map((function(e,t){return Object(k.jsx)(I,{lat:e.latitud,lng:e.longitud,data:e,numero_viaje:e.orden_recojo},e.id_pasajero)}))}),Object(k.jsxs)("div",{style:{width:"100%",backgroundColor:"black",display:"flex",justifyContent:"space-between",padding:"5px 4px"},children:[Object(k.jsx)("span",{style:{color:"white"},children:"0"===this.state.numero_servicio?"Pasajeros sin servicio":"servicio "+this.state.numero_servicio}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){e.setState({displayMapa:!1})},children:Object(k.jsx)("img",{src:V,width:"15",alt:"img"})})]})]})}):null,this.state.modalNuevoPasajero?Object(k.jsx)(q,{cerrarModal:this.cerrarModal,buscarPasajero:this.buscarPasajero,escogerPasajero:this.escogerPasajero,agregarHora:this.agregarHora,agregarAerolinea:this.agregarAerolinea,agregarffat:this.agregarffat,guarDardatosModal:this.guarDardatosModal,aerolinea:this.props.aerolinea,ffat:this.props.ffat,newArrayPassenger:this.state.newArrayPassenger,pasajeroSeleccionado:this.state.pasajeroSeleccionado,horaServicio:this.state.horaServicio,cuenta:this.state.aerolinea,_ffat:this.state.ffat}):null,this.state.modalNuevoServicio?Object(k.jsx)(Z,{cerrarModalServicio:this.cerrarModalServicio,agregarServicio:this.agregarServicio,buscarPasajero:this.buscarPasajero,escogerPasajero:this.escogerPasajero,agregarHora:this.agregarHora,agregarAerolinea:this.agregarAerolinea,agregarffat:this.agregarffat,agregarHoraServicio:this.agregarHoraServicio,agregarVehiculo:this.agregarVehiculo,agregarChofer:this.agregarChofer,seleccionarVehiculo:this.seleccionarVehiculo,seleccionarChofer:this.seleccionarChofer,seleccionarAuto:this.seleccionarAuto,buscarListaAuto:this.props.buscarListaAuto,aerolinea:this.props.aerolinea,ffat:this.props.ffat,numero_servicio:this.props.numero_servicio,filtroAuto:this.props.filtroAuto,newArrayPassenger:this.state.newArrayPassenger,pasajeroSeleccionado:this.state.pasajeroSeleccionado,horaServicio:this.state.horaServicio,cuenta:this.state.aerolinea,_ffat:this.state.ffat,horaDelServicio:this.state.horaDelServicio,newArrayVehiculo:this.state.newArrayVehiculo,newArrayChofer:this.state.newArrayChofer,MAS_vehiculo:this.state.MAS_vehiculo,MAS_chofer:this.state.MAS_chofer}):null,this.state.modalComentario?Object(k.jsx)(Q,{cerrarModalComentario:this.cerrarModalComentario,agregarComentario:this.agregarComentario,modificarComentario:this.modificarComentario,pasajeroComentario:this.state.pasajeroComentario,comentario:this.state.comentario}):null,this.state.modalModificacion?Object(k.jsx)(ee,{pasajeroComentario:this.state.pasajeroComentario,cerrarVentanaModificacion:this.cerrarVentanaModificacion}):null]})}}]),r}(a.Component);ae.defaultProps={center:{lat:-12.046198828462366,lng:-77.04127501255363},zoom:11};var ne=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={user:"",token:"",usuario:"",cliente:"",arrayClientAll:[],servicios:[],aerolinea:[],price:[],ffat:[],pasajeros:[],listPassanger:[],listaReprogramado:[],listaChofer:[],filtroChofer:[],listaAuto:[],filtroAuto:[],listaServicios:[],servicioReprogramados:[],listArea:[],fechaI:"",origen:"",horaI:"",horaF:"",viewLoader:!0,tablaLiquidacion:!1,costoTotal:0,validarMaximoPasajeros:0,numero_servicio:0,numeroServicio:0},e.todosPasajeros=Object(x.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.passangerProgramacion_fetch(e.state.token,e.state.cliente);case 2:if(!(r=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",r.error,"error");case 10:return t.abrupt("return");case 11:e.setState({listPassanger:r});case 12:case"end":return t.stop()}}),t)}))),e.validarPrecio=function(t){for(var r=0;r<e.state.price.length;r++)if(e.state.price[r].min_rango<=parseInt(t)&&e.state.price[r].max_rango>=parseInt(t))return[e.state.price[r].precio,e.state.price[r].id_tipo_servicio]},e.insertPrice=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=parseFloat(0),r.map((function(t){var r=t.data.filter((function(t){return"0"!==e.validateFlgFacturable(t.id_tipo_estado_mov)&&null!==t.id_tipo_estado_mov}));return t.data.map((function(t){var n=e.validarPrecio(0===r.length?1:r.length);if(null!==t.id_tipo_estado_mov&&"0.000"!==t.costo_pasajero){var i=parseFloat(n[0]).toFixed(3)/(0===r.length?1:r.length);t.costo_pasajero=i.toFixed(3),t.id_tipo_servicio=n[1],a=parseFloat(a)+parseFloat(i)}else t.id_tipo_servicio="-";return null})),null})),e.setState({costoTotal:a}),t.abrupt("return",r);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.onsubmit=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i,s,o,c,l,u,d,p,h,j,b,x,m,v;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),a=new RegExp(/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/),!(e.state.fechaI&&e.state.cliente&&e.state.origen&&"_ori_NA"!==e.state.origen&&a.test(e.state.horaI)&&a.test(e.state.horaF))){t.next=58;break}return e.setState({viewLoader:!1,costoTotal:0}),t.next=6,_.searchPrices_fetch(e.state.token,e.state.cliente,e.state.fechaI);case 6:return n=t.sent,t.next=9,_.searchListaPasajero(e.state.token,e.state.cliente,e.state.fechaI,e.state.origen,e.state.horaI,e.state.horaF,"b");case 9:return i=t.sent,t.next=12,_.searchAerolineafetch(e.state.token,e.state.cliente);case 12:return s=t.sent,t.next=15,_.searchServiciosfetch(e.state.token,e.state.cliente,e.state.fechaI,e.state.origen,e.state.horaI,e.state.horaF);case 15:return o=t.sent,t.next=18,_.searchNumeroServicio_fetch(e.state.token,e.state.cliente,e.state.fechaI);case 18:return c=t.sent,t.next=21,_.searchListaReprogramados_fetch(e.state.token,e.state.cliente,e.state.fechaI,e.state.origen);case 21:if(l=t.sent,!(n.error||i.error||s.error||o.error||c.error)){t.next=30;break}if(e.setState({viewLoader:!0}),g.validarCookies()){t.next=28;break}return t.next=27,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 27:g.cerrarSesion();case 28:return w()("Mensaje",n.error||i.error||s.error||o.error||c.error,"error"),t.abrupt("return");case 30:if(!(o.length<1||i.length<1)){t.next=34;break}return e.setState({viewLoader:!0}),w()("Mensaje","No se encontraron servicios programados.","error"),t.abrupt("return");case 34:if(!(n.length<1)){t.next=38;break}return e.setState({viewLoader:!0}),w()("Mensaje","No se encontro registros de tarifa.","error"),t.abrupt("return");case 38:return i.map((function(e){return e.costo_pasajero=parseFloat(e.costo_pasajero).toFixed(3),null===e.id_tipo_estado_mov?e.id_tipo_estado_mov="AC":null})),e.setState({numeroServicio:c[0].campo,price:n,pasajeros:i,aerolinea:s,listaServicios:o}),u=[],d=e.state.pasajeros,p={data:[],cabecera:[],nro_servicio:0},h=o[0].nro_servicio,j=0,o.forEach((function(e,t){if(e.nro_servicio===h)p.cabecera=e,p.nro_servicio=e.nro_servicio;else{var r=[];d.forEach((function(e){e.nro_servicio===j&&r.push(e)})),p.data=r,u.push(p),p={cabecera:[],data:[],nro_servicio:0}}if(e.nro_servicio!==h&&(p.cabecera=e,p.nro_servicio=e.nro_servicio),t+1===o.length){var a=[];d.forEach((function(t){t.nro_servicio===e.nro_servicio&&a.push(t)})),p.data=a,u.push(p),p.nro_servicio=e.nro_servicio}h=e.nro_servicio,j=e.nro_servicio})),t.next=48,e.insertPrice(u);case 48:for(b=t.sent,e.setState({servicios:b,tablaLiquidacion:!0}),x=e.obtenerPrecioTotal(),e.setState({costoTotal:x}),m=[],v=0;v<l.length;v++)m.push({servicio:l[v].nro_servicio,codigo:l[v].id_pasajero,nombre:l[v].descripcion});e.setState({listaReprogramado:m}),e.setState({viewLoader:!0}),t.next=59;break;case 58:console.log("falta un dato");case 59:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.quitarReprogramados=function(t){var r=e.state.listaReprogramado.filter((function(e){return e.codigo.toString()!==t.toString()}));e.setState({listaReprogramado:r})},e.validateFlgFacturable=function(t){for(var r=0;r<e.state.ffat.length;r++)if(e.state.ffat[r].id_tipo_estado_mov===t)return e.state.ffat[r].flg_facturable},e.obtenerPrecioTotal=function(){var t=parseFloat(0);return e.state.servicios.forEach((function(e){e.data.forEach((function(e){""!==e.costo_pasajero&&"NaN"!==e.costo_pasajero&&(t=parseFloat(t)+parseFloat(e.costo_pasajero))}))})),t},e.modificarFFAT=function(t,r,a){e.state.servicios[a].data.map((function(n){if(n.id_pasajero===t)if(n.id_tipo_estado_mov=r,"0"===e.validateFlgFacturable(r))n.costo_pasajero=parseFloat(0).toFixed(3),n.id_tipo_servicio="-";else{var i=e.validarPrecio(e.state.servicios[a].data.length),s=parseFloat(i[0]).toFixed(3)/e.state.servicios[a].data.length;n.costo_pasajero=s.toFixed(3),n.id_tipo_servicio=i[1]}return null}));var n=e.state.servicios[a].data.filter((function(t){return"0"!==e.validateFlgFacturable(t.id_tipo_estado_mov)&&null!==t.id_tipo_estado_mov}));e.state.servicios[a].data.map((function(t){var r=e.validarPrecio(0===n.length?1:n.length);if(null!==t.id_tipo_estado_mov&&"0.000"!==t.costo_pasajero){var a=parseFloat(r[0]).toFixed(3)/(0===n.length?1:n.length);t.costo_pasajero=a.toFixed(3),t.id_tipo_servicio=r[1]}return null})),e.setState({servicios:e.state.servicios});var i=e.obtenerPrecioTotal();e.setState({costoTotal:i})},e.modificarAerolinea=function(t,r,a){e.state.servicios[a].data.map((function(e){return e.id_pasajero===t?e.id_cuenta=r:null})),e.setState({servicios:e.state.servicios})},e.modificarArea=function(t,r,a){e.state.servicios[a].data.map((function(e){return e.id_pasajero===t?e.id_area=r:null})),e.setState({servicios:e.state.servicios})},e.changeText=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i,s,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[r.target.value],i=r.target.name,s=r.target.id.split(","),"id_cuenta"!==i){t.next=7;break}e.modificarAerolinea(s[1],n[0],s[0]),t.next=16;break;case 7:if("id_area"!==i){t.next=11;break}e.modificarArea(s[1],n[0],s[0]),t.next=16;break;case 11:if("id_tipo_estado_mov"!==i){t.next=16;break}return e.modificarFFAT(s[1],n[0],s[0]),"RE"===n[0]?e.setState({listaReprogramado:[].concat(Object(D.a)(e.state.listaReprogramado),[{servicio:s[2],codigo:s[1],nombre:s[3],distrito:s[4]}])}):(e.quitarComentario(s[1],s[0]),console.log(e.state.listaReprogramado),o=e.state.listaReprogramado.filter((function(e){return e.codigo!==s[1]})),e.setState({listaReprogramado:o})),t.next=16,e.actualizar_estadoMovilizacion(s);case 16:e.agregarServiciosReprogramados(a);case 17:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.cambiarHoraCabecera=function(t,r){e.state.servicios.map((function(e){return e.cabecera.nro_servicio===r?e.cabecera.hora_inicio=t.target.value:null})),e.setState({servicios:e.state.servicios}),e.agregarServiciosReprogramados(r)},e.cambiarHoraDetalle=function(t,r,a,n){e.state.servicios[r].data.map((function(e,r){return e.hora=t.target.value})),e.setState({servicios:e.state.servicios}),e.agregarServiciosReprogramados(n)},e.nuevoPasajeroServicio=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n,i,s){var o,c,l,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.state.pasajeros.filter((function(e){return e.id_pasajero===r[0].id_pasajero})),c=e.state.servicios[n].data.length,l=e.state.servicios[n].cabecera.nro_servicio,!(u=e.buscarPasajeroxHora(a,r[0].id_pasajero))||"RE"===o[0].id_tipo_estado_mov){t.next=8;break}w()("Mensaje","No se puede ingresar a este pasajero porque no esta con el estado 'Reprogramado'.","error"),t.next=17;break;case 8:if(!u||"RE"!==o[0].id_tipo_estado_mov){t.next=14;break}return t.next=11,e.agregarNuevoPasajeroBD(r,a,i,s,n,c,l);case 11:e.agregarServiciosReprogramados(l),t.next=17;break;case 14:return t.next=16,e.agregarNuevoPasajeroBD(r,a,i,s,n,c,l);case 16:e.agregarServiciosReprogramados(l);case 17:case"end":return t.stop()}}),t)})));return function(e,r,a,n,i){return t.apply(this,arguments)}}(),e.buscarPasajeroxHora=function(t,r){var a=!1;return e.state.servicios.forEach((function(e){e.data.forEach((function(e){e.hora===t&&e.id_pasajero===r&&(a=!0)}))})),a},e.agregarNuevoPasajeroBD=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n,i,s,o,c){var l,u,d;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e.state.price.length,u=e.state.price[l-1].max_rango,!e.validarCantidadArreglo(e.state.servicios,s,u)){t.next=6;break}w()("Mensaje","Estas excediendo el numero de pasajeros","info"),t.next=26;break;case 6:return r.map((function(t){return t.estado=!1,t.Orden_recojo=o+1,t.orden_recojo=o+1,t.nro_servicio=c,t.hora=a,t.descripcion_pasajero=t.descripcion,t.descripcion_distrito=t.id_distrito,t.id_tipo_estado_mov=i,t.id_cuenta=""===n?null:n,t.fecha=e.state.fechaI,t.origen=e.state.origen,t.usuario=e.state.usuario.toUpperCase()})),t.next=9,_.saveServices_fetch(e.state.token,r,"i");case 9:if(!(d=t.sent).error){t.next=18;break}if(g.validarCookies()){t.next=15;break}return t.next=14,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 14:g.cerrarSesion();case 15:return t.next=17,w()("Mensaje",d.error,"error");case 17:return t.abrupt("return");case 18:if(200===d.status){t.next=21;break}return w()("Mensaje","No se inserto el nuevo pasajero.","error"),t.abrupt("return");case 21:e.state.pasajeros.push(r[0]),e.state.servicios[s].data.push(r[0]),e.setState({servicios:e.state.servicios}),e.modificarFFAT(r[0].id_pasajero,i,s),e.quitarReprogramados(r[0].id_pasajero);case 26:case"end":return t.stop()}}),t)})));return function(e,r,a,n,i,s,o){return t.apply(this,arguments)}}(),e.agregarComentario=function(t,r,a){var n=[r.key];e.state.servicios[n].data.map((function(e){return e.id_pasajero===t.id_pasajero?e.comentario=a:null})),e.setState({servicios:e.state.servicios}),w()("Mensaje","Se modifico satisfactoriamente","success"),e.agregarServiciosReprogramados(t.nro_servicio)},e.quitarComentario=function(t,r){e.state.servicios[r].data.map((function(e){return e.id_pasajero===t?e.comentario="":null})),e.setState({servicios:e.state.servicios})},e.buscarListaChofer=function(t,r,a){var n=[t.target.name];e.state.servicios.map((function(e){return e.nro_servicio===a?(e.cabecera.id_chofer=t.target.value,e.cabecera.descripcion=""):null})),"_chofer"===n[0]&&t.target.value.length>0?(e.filtrarChoferAuto(t.target.value,1),e.setState({numero_servicio:r,filtroAuto:[]})):"_chofer"===n[0]&&t.target.value.length<1&&e.setState({filtroChofer:[]}),e.agregarServiciosReprogramados(a)},e.buscarListaAuto=function(t,r,a){var n=[t.target.name];e.state.servicios.map((function(e){return e.cabecera.nro_servicio===a?(e.cabecera.id_unidad=t.target.value,e.cabecera.placa=""):null})),"_auto"===n[0]&&t.target.value.length>0?(e.filtrarChoferAuto(t.target.value,2),e.setState({numero_servicio:r,filtroChofer:[]})):"_auto"===n[0]&&t.target.value.length<1&&e.setState({filtroAuto:[]}),e.agregarServiciosReprogramados(a)},e.filtrarChoferAuto=function(t,r){if(1===r){var a=e.state.listaChofer.filter((function(e){return-1!==e.id_chofer.indexOf(t)||-1!==e.descripcion.indexOf(t.toUpperCase())}));e.setState({filtroChofer:a})}else if(2===r){var n=e.state.listaAuto.filter((function(e){return-1!==e.id_unidad.indexOf(t.toUpperCase())}));e.setState({filtroAuto:n})}},e.seleccionarChofer=function(t){var r=t.target.id.split(",");e.state.servicios.map((function(e){return e.nro_servicio===parseInt(r[1])?(e.cabecera.id_chofer=r[0],e.cabecera.descripcion=r[2],e.data.map((function(e){return e.id_chofer=r[0]}))):null})),e.setState({filtroChofer:[],servicios:e.state.servicios})},e.seleccionarAuto=function(t){var r=t.target.id.split(",");e.state.servicios.map((function(e){return e.cabecera.nro_servicio===parseInt(r[1])?(e.cabecera.id_unidad=r[0],e.cabecera.placa=r[2],e.data.map((function(e){return e.id_unidad=r[0]}))):null})),e.setState({filtroAuto:[],servicios:e.state.servicios})},e.filtrarChoferSeleccionado=function(){var t=[];return e.state.servicios.forEach((function(e){e.cabecera.id_chofer&&t.push(e.cabecera.id_chofer)})),t},e.filtrarAutoSeleccionado=function(){var t=[];return e.state.servicios.forEach((function(e){e.cabecera.id_unidad&&t.push(e.cabecera.id_unidad)})),t},e.filtrarPasajeroSeleccionado=function(){var t=[];return e.state.servicios.forEach((function(e){e.data.forEach((function(e){t.push(e.id_pasajero)}))})),t},e.validarExistenciaHora=function(){for(var t=new RegExp(/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/),r=e.state.servicios,a=!1,n=0;n<r.length;n++)if(""===r[n].cabecera.hora||!t.test(r[n].cabecera.hora)){a=!0;break}return a},e.validarExistenciaHora_Detalle=function(){for(var t=new RegExp(/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/),r=e.state.servicios,a=!1,n=0;n<r.length;n++)for(var i=0;i<r[n].data.length;i++)if(""===r[n].data[i].hora||!t.test(r[n].data[i].hora)){a=!0;break}return a},e.guardarCambios=Object(x.a)(f.a.mark((function t(){var r,a,n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.validarExistenciaHora()&&!e.validarExistenciaHora_Detalle()){t.next=4;break}w()("Mensaje","Debe de ingresar de manera correcta las horas de los servicios y/o pasajeros.","info"),t.next=29;break;case 4:return t.next=6,w()({title:"Mensaje",text:"\xbfEstas seguro de guardar los cambios realizados?",icon:"warning",buttons:!0,dangerMode:!0});case 6:if(!t.sent){t.next=29;break}return r=[],a=-1,n=Object(D.a)(new Set(e.state.servicioReprogramados)),e.state.servicios.filter((function(e){return n.includes(e.cabecera.nro_servicio)})).forEach((function(t,n){t.data.forEach((function(a,n){r.push({id_cliente:e.state.cliente,id_pasajero:a.id_pasajero,fecha:e.state.fechaI,origen_servicio:e.state.origen,hora:a.hora,orden_recojo:a.orden_recojo,id_tipo_estado_mov:a.id_tipo_estado_mov,nro_servicio:t.cabecera.nro_servicio,costo_pasajero:a.costo_pasajero,id_cuenta:""===a.id_cuenta?null:a.id_cuenta,id_area:""===a.id_area?null:a.id_area,usuario:e.state.user.toUpperCase(),comentario:""===a.comentario?null:a.comentario})})),a!==n&&r.push({id_cliente:e.state.cliente,fecha:e.state.fechaI,hora:t.data[0].hora,Hora_inicio:t.cabecera.hora,usuario:e.state.user.toUpperCase(),nro_servicio:t.cabecera.nro_servicio,id_chofer:""===t.cabecera.id_chofer?null:t.cabecera.id_chofer,id_unidad:""===t.cabecera.id_unidad?null:t.cabecera.id_unidad,hora_llegada:""===t.cabecera.hora_llegada?null:t.cabecera.hora_llegada}),a=n})),console.log(r),t.next=16,_.updateListaPasajeros_fecth(e.state.token,r,"Liq");case 16:if(!(i=t.sent).error){t.next=25;break}if(g.validarCookies()){t.next=22;break}return t.next=21,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 21:g.cerrarSesion();case 22:return t.next=24,w()("Mensaje",i.error,"error");case 24:return t.abrupt("return");case 25:if(200===i.status){t.next=28;break}return w()("Mensaje","Se genero un error. Por favor intentarlo nuevamente.","error"),t.abrupt("return");case 28:w()("Mensaje","Cambios guardados satisfactoriamente.","success");case 29:case"end":return t.stop()}}),t)}))),e.nuevoServcio_Pasajero=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n,i,s,o,c,l){var u,d,p,h;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.map((function(t){return t.estado=!1,t.Orden_recojo=1,t.orden_recojo=1,t.nro_servicio=e.state.numeroServicio+1,t.hora=s,t.descripcion_pasajero=t.descripcion,t.descripcion_distrito=t.id_distrito,t.id_tipo_estado_mov="AD",t.id_cuenta=""===c?null:t.id_cuenta,t.fecha=e.state.fechaI,t.origen=e.state.origen,t.origen_servicio=e.state.origen,t.usuario=e.state.usuario.toUpperCase()})),u=[{id_cliente:n[0].id_cliente,nro_servicio:e.state.numeroServicio+1,fecha:e.state.fechaI,hora_inicio:i,hora:s,usuario:e.state.user.toUpperCase(),origen:e.state.origen,id_chofer:""===r?null:r,id_unidad:""===a?null:a}],d={id_cliente:n[0].id_cliente,nro_servicio:e.state.numeroServicio+1,fecha:e.state.fechaI,hora_inicio:i,hora:s,usuario:e.state.user.toUpperCase(),origen:e.state.origen,id_chofer:""===r?null:r,id_unidad:""===a?null:a},t.next=5,_.saveServices_fetch(e.state.token,n,"i");case 5:if(!(p=t.sent).error){t.next=14;break}if(g.validarCookies()){t.next=11;break}return t.next=10,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 10:g.cerrarSesion();case 11:return t.next=13,w()("Mensaje",p.error,"error");case 13:return t.abrupt("return");case 14:if(200===p.status){t.next=17;break}return w()("Mensaje","No se inserto el nuevo pasajero.","error"),t.abrupt("return");case 17:return t.next=19,_.saveServices_fetch(e.state.token,u,"u");case 19:if(!(h=t.sent).error){t.next=28;break}if(g.validarCookies()){t.next=25;break}return t.next=24,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 24:g.cerrarSesion();case 25:return t.next=27,w()("Mensaje",h.error,"error");case 27:return t.abrupt("return");case 28:if(200===h.status){t.next=31;break}return w()("Mensaje","El pasajero se inserto pero no se actualizo en el servicio, intentarlo nuevamente.","error"),t.abrupt("return");case 31:w()("Mensaje","Se ingreso el servicio correctamente.","success"),e.setState({servicios:[].concat(Object(D.a)(e.state.servicios),[{cabecera:d,data:n,nro_servicio:e.state.numeroServicio+1}])}),e.modificarFFAT(n[0].id_pasajero,o,e.state.servicios.length-1),e.quitarReprogramados(n[0].id_pasajero),e.agregarServiciosReprogramados(e.state.numeroServicio+1);case 36:case"end":return t.stop()}}),t)})));return function(e,r,a,n,i,s,o,c){return t.apply(this,arguments)}}(),e.actualizar_estadoMovilizacion=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],e.state.servicios[r[0]].data.forEach((function(t){t.id_pasajero===r[1]&&a.push({id_cliente:e.state.cliente,id_pasajero:t.id_pasajero,fecha:e.state.fechaI,origen_servicio:e.state.origen,hora:t.hora,orden_recojo:t.orden_recojo,id_tipo_estado_mov:t.id_tipo_estado_mov,nro_servicio:parseInt(r[2]),costo_pasajero:t.costo_pasajero,id_cuenta:""===t.id_cuenta?null:t.id_cuenta,usuario:e.state.user.toUpperCase(),comentario:""===t.comentario?null:t.comentario})})),t.next=4,_.updateListaPasajeros_fecth(e.state.token,a,"Liq");case 4:if(!(n=t.sent).error){t.next=13;break}if(g.validarCookies()){t.next=10;break}return t.next=9,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 9:g.cerrarSesion();case 10:return t.next=12,w()("Mensaje",n.error,"error");case 12:return t.abrupt("return");case 13:if(200===n.status){t.next=15;break}return t.abrupt("return",!1);case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.validarCantidadArreglo=function(e,t,r){var a=!1;return e[t].data.length>=r&&(a=!0),a},e.cambiarHora_llegada=function(t,r){e.state.servicios.map((function(e){return e.cabecera.nro_servicio===r?e.cabecera.hora_llegada=t.target.value:null})),e.setState({servicios:e.state.servicios}),e.agregarServiciosReprogramados(r)},e.agregarServiciosReprogramados=function(t){0===e.state.servicioReprogramados.filter((function(e){return e===t})).length&&e.state.servicioReprogramados.push(t)},e.modifyService=function(t,r,a){if(r.droppableId===a.droppableId){var n=Object(D.a)(t),i={};n.forEach((function(e,t){t===parseInt(r.droppableId)&&(i=e.data[r.index],e.data.splice(r.index,1))})),n.forEach((function(e,t){t===parseInt(a.droppableId)&&e.data.splice(a.index,0,i)})),n.forEach((function(e,t){if(t===parseInt(r.droppableId)){var a=1;e.data.forEach((function(e){e.orden_recojo=a++}))}}));var s=n[r.droppableId].cabecera.nro_servicio;e.agregarServiciosReprogramados(s),e.setState({solicitud:n})}},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i,s,o,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.name,n=t.id_cliente,i=t.token,!r){e.next=32;break}return this.setState({cliente:n,user:a,usuario:a,token:i,servicios:[]}),e.next=11,_.searchFFTA_fetch(i);case 11:return s=e.sent,e.next=14,_.searchUnidadesChofer_fetch(i,"chofer","01");case 14:return o=e.sent,e.next=17,_.searchUnidadesChofer_fetch(i,"unidad","01");case 17:return c=e.sent,e.next=20,_.searchArea_fetch(i,n);case 20:if(l=e.sent,!(s.error||o.error||c.error||l.error)){e.next=29;break}if(g.validarCookies()){e.next=26;break}return e.next=25,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 25:g.cerrarSesion();case 26:return e.next=28,w()("Mensaje",s.error||o.error||c.error||l.error,"error");case 28:return e.abrupt("return");case 29:this.setState({ffat:s,listaChofer:o,listaAuto:c,listArea:l}),e.next=35;break;case 32:return e.next=34,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 34:this.setState({cliente:"",user:"",usuario:"",token:""});case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Proceso > Liquidaci\xf3n"}),Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[Object(k.jsx)("div",{className:"cuadro_PROCESO_PROGRAMACION",children:Object(k.jsx)("form",{onSubmit:this.onsubmit,children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"col1",style:{justifyContent:"flex-start"},children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{children:"Fecha"}),Object(k.jsx)("input",{type:"date",style:{width:"150px",border:"1px solid #d9a600",padding:"3px",fontSize:"1em"},onChange:function(t){return e.setState({fechaI:t.target.value})}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{children:"Servicio"}),Object(k.jsxs)("select",{onChange:function(t){return e.setState({origen:t.target.value})},children:[Object(k.jsx)("option",{value:"_ori_NA",children:"Seleccionar"}),Object(k.jsx)("option",{value:"E",children:"Entrada"}),Object(k.jsx)("option",{value:"S",children:"Salida"})]})]})]}),Object(k.jsxs)("div",{className:"col2",style:{paddingLeft:"30px"},children:[Object(k.jsxs)("div",{style:{paddingTop:"9px"},children:[Object(k.jsx)("span",{children:"Hora I."}),Object(k.jsx)("input",{type:"text",maxLength:"5",pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",className:"invalido",required:!0,onChange:function(t){return e.setState({horaI:t.target.value})}})]}),Object(k.jsxs)("div",{style:{paddingTop:"9px"},children:[Object(k.jsx)("span",{children:"Hora F."}),Object(k.jsx)("input",{type:"text",maxLength:"5",pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",className:"invalido",required:!0,onChange:function(t){return e.setState({horaF:t.target.value})}})]}),Object(k.jsx)("div",{children:this.state.viewLoader?Object(k.jsx)("input",{type:"submit",value:"Procesar"}):Object(k.jsx)("span",{children:Object(k.jsx)("img",{src:C,alt:"loader",width:"35"})})})]})]})})}),Object(k.jsxs)("div",{className:"cuadro_PROCESO_PROGRAMACION cuadro_PROCESO_PROGRAMACION_RE",children:[Object(k.jsx)("span",{style:{color:"red",fontWeight:"bold"},children:"Lista de Reprogramados"}),Object(k.jsx)("ul",{style:{overflowY:"scroll",height:"154px"},children:this.state.listaReprogramado.map((function(e){return Object(k.jsxs)("li",{style:{padding:"7px"},children:["Servicio ",Object(k.jsx)("b",{children:e.servicio})," - Dni: ",Object(k.jsx)("b",{children:e.codigo})," - Nombre: ",Object(k.jsx)("b",{children:e.nombre})," - Distrito  - ",Object(k.jsx)("b",{children:e.distrito})]},e.codigo)}))})]})]}),this.state.tablaLiquidacion?Object(k.jsx)(ae,{changeText:this.changeText,nuevoPasajeroServicio:this.nuevoPasajeroServicio,todosPasajeros:this.todosPasajeros,agregarComentario:this.agregarComentario,buscarListaChofer:this.buscarListaChofer,buscarListaAuto:this.buscarListaAuto,seleccionarChofer:this.seleccionarChofer,seleccionarAuto:this.seleccionarAuto,guardarCambios:this.guardarCambios,filtrarAutoSeleccionado:this.filtrarAutoSeleccionado,filtrarChoferSeleccionado:this.filtrarChoferSeleccionado,filtrarPasajeroSeleccionado:this.filtrarPasajeroSeleccionado,nuevoServcio_Pasajero:this.nuevoServcio_Pasajero,cambiarHoraCabecera:this.cambiarHoraCabecera,cambiarHoraDetalle:this.cambiarHoraDetalle,cambiarHora_llegada:this.cambiarHora_llegada,modifyService:this.modifyService,servicio:this.state.servicios,ffat:this.state.ffat,costoTotal:this.state.costoTotal,aerolinea:this.state.aerolinea,listArea:this.state.listArea,pasajeros:this.state.pasajeros,listPassanger:this.state.listPassanger,listaReprogramado:this.state.listaReprogramado,filtroChofer:this.state.filtroChofer,filtroAuto:this.state.filtroAuto,numero_servicio:this.state.numero_servicio,listaAuto:this.state.listaAuto,listaChofer:this.state.listaChofer}):null]})}}]),r}(a.Component),ie=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={fecha1:null,fecha2:null,cliente:"",usuario:"",token:localStorage.getItem("token")},e.formSubmit=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i,s,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),a=e.state.fecha1.split("T"),n=e.state.fecha2.split("T"),i=re()(a[0]),s=re()(n[0]),!(s.diff(i,"days")<0)){t.next=10;break}w()("Mensaje","Rango de fecha no permitido, validarlo nuevamente.","info"),t.next=23;break;case 10:return t.next=12,e.eliminarListaPasajeros(e.state.token,e.state.cliente,a[0],a[1],n[0],n[1]);case 12:if(!(o=t.sent).error){t.next=21;break}if(g.validarCookies()){t.next=18;break}return t.next=17,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 17:g.cerrarSesion();case 18:return t.next=20,w()("Mensaje",o.error,"errro");case 20:return t.abrupt("return");case 21:200!==o.status&&w()("Mensaje","Ocurrio un error, intentarlo nuevamente.","error"),w()("Mensaje","Lista de pasajeros eliminado.","success");case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.eliminarListaPasajeros=function(){var e=Object(x.a)(f.a.mark((function e(t,r,a,n,i,s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.eliminarListaPasajero_fetch(t,r,a,n,i,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,a,n,i,s){return e.apply(this,arguments)}}(),e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("data"));this.setState({cliente:e[0].id_cliente,usuairo:e[1].name})}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Proceso > Eliminar lista de pasajero"}),Object(k.jsx)("div",{className:"cuadro_PROCESO_PROGRAMACION cuadro_PROCESO_PROGRAMACION550px",children:Object(k.jsxs)("form",{onSubmit:function(t){return e.formSubmit(t)},children:[Object(k.jsxs)("div",{className:"col1",style:{justifyContent:"space-around"},children:[Object(k.jsxs)("div",{style:{alignItems:"center"},children:[Object(k.jsx)("span",{children:"Fecha Inicial"}),Object(k.jsx)("input",{type:"datetime-local",style:{width:"180px",border:"1px solid #F0A500",padding:"3px",fontSize:"1em"},onChange:function(t){return e.setState({fecha1:t.target.value})}})]}),Object(k.jsxs)("div",{style:{alignItems:"center"},children:[Object(k.jsx)("span",{children:"Fecha Final"}),Object(k.jsx)("input",{type:"datetime-local",style:{width:"180px",border:"1px solid #F0A500",padding:"3px",fontSize:"1em"},onChange:function(t){return e.setState({fecha2:t.target.value})}})]})]}),Object(k.jsx)("div",{className:"col1",children:Object(k.jsx)("input",{type:"submit",value:"Eliminar",style:{fontSize:"1.1em"}})})]})})]})}}]),r}(a.Component),se=r(31),oe=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={file:null,pasajeros:[],pasajerosActivos:[],noExistentes:[],pasajerosRepetidos:[],alertCant:0,alert:!1,alert2:!1,alert3:!1,btnState:!1,estadoBtn:!0,btnValue:"Cargar",respuesta:"",usuario:"",token:"",user:""},e.readExcel=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var a=new FileReader;a.readAsArrayBuffer(t),a.onload=function(t){var r=t.target.result,a=se.read(r,{type:"buffer"}),n=a.SheetNames[0],i=a.Sheets[n],s=se.utils.sheet_to_json(i);setTimeout((function(){e(s)}),1e3)},a.onerror=function(e){setTimeout((function(){r(e)}),1e3)}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.compararPasajeros_NO=function(t){var r=e.state.pasajerosActivos,a=0;if(!(r.length>0))return!0;for(var n=0;n<r.length;n++)if(r[n].id_pasajero.toString()!==t.toString()&&(a+=1),n+1===r.length)return n!==a},e.compararPasajeros_SI=function(t){for(var r=e.state.pasajerosActivos,a=0,n=0;n<r.length;n++)if(r[n].id_pasajero.toString()!==t.toString()&&(a+=1),n+1===r.length)return n===a},e.onsubmit=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),e.setState({btnValue:"Procesando...",respuesta:"Procesando..",btnState:!0,alertCant:0,alert:!1,alert2:!1,estadoBtn:!1}),!e.state.file){t.next=43;break}return t.next=5,e.state.file.target.files[0];case 5:return a=t.sent,t.prev=6,t.next=9,e.readExcel(a);case 9:n=t.sent,e.setState({pasajeros:n,btnValue:"Cargar",btnState:!1}),t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(6),t.next=17,w()("Mensaje","No se puede leer el archivo .xlsx","error");case 17:throw t.sent;case 18:t.prev=18,i=e.state.pasajeros.filter((function(t){return e.compararPasajeros_NO(t.DNI)})),console.log(i),s=e.state.pasajeros.filter((function(t){return e.compararPasajeros_SI(t.DNI)})),console.log(s),i.forEach((function(e){var t=se.SSF.parse_date_code(e.HORA);e.HORA="".concat(t.H,":").concat(t.M)})),t.next=31;break;case 26:return t.prev=26,t.t1=t.catch(18),t.next=30,w()("Mensaje","Por favor revisar la estructura del xlsx antes de ingresar la lista de pasajeros.","error");case 30:throw t.sent;case 31:if(!(s.length>0&&i.length>0)){t.next=35;break}w()({title:"Mensaje",text:"No todos los pasajeros del excel estan registrados en el sistema, \xbfdesea cargar los existentes?\nRecuerda: Despues de cargar los existentes deberas organizar de nuevo el excel para volver a ingresar los faltantes",icon:"warning",buttons:!0,dangerMode:!0}).then(function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,e.IngresarRegistro(s,i);case 3:t.next=6;break;case 5:e.setState({noExistentes:i,alert2:!0,btnState:!1,btnValue:"Cargar"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=41;break;case 35:if(!(s.length>0)){t.next=40;break}return t.next=38,e.IngresarRegistro(s,i);case 38:t.next=41;break;case 40:i.length>0?(w()("Mensaje","Debe ingresar todos los registros del excel previamente, porque no se encontraron en el Sistema.","info"),e.setState({noExistentes:i,alert2:!0,btnState:!1,btnValue:"Cargar"})):(w()("Mensaje","No se encontro ningun registro","info"),e.setState({btnState:!1,btnValue:"Cargar"}));case 41:t.next=44;break;case 43:console.log("no");case 44:document.getElementById("form_XLSX").reset();case 45:case"end":return t.stop()}}),t,null,[[6,13],[18,26]])})));return function(e){return t.apply(this,arguments)}}(),e.pasajerosRepetidos=function(e,t,r){for(var a=0,n=0;n<e.length;n++)if(e[n].DNI===t.DNI&&e[n]["TIPO SERVICIO"]===t["TIPO SERVICIO"]&&e[n].HORA===t.HORA&&(a+=1),n+1===e.length){if(1===r)return!(a>1);if(2===r)return a>1}},e.IngresarRegistro=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i,s,o,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(n=r).filter((function(t){return e.pasajerosRepetidos(r,t,1)})),(s=n.filter((function(t){return e.pasajerosRepetidos(r,t,2)}))).forEach((function(e){var t=se.SSF.parse_date_code(e.HORA);e.HORA="".concat(t.H,":").concat(t.M)})),o=[],i.forEach((function(t){var r=se.SSF.parse_date_code(t.HORA);o.push({id_cliente:t.CIA,id_pasajero:"".concat(t.DNI),fecha:t.FECHA,origen:t["TIPO SERVICIO"],hora:"".concat(r.H,":").concat(r.M),nro_servicio:null,usuario:e.state.user.toLocaleUpperCase(),Orden_recojo:null,id_cuenta:void 0===t.AEROLINEA?null:t.AEROLINEA})})),t.next=8,_.saveServices_fetch(e.state.token,o,"i");case 8:if(!(c=t.sent).error){t.next=17;break}if(g.validarCookies()){t.next=14;break}return t.next=13,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 13:g.cerrarSesion();case 14:return t.next=16,w()("Mensaje",c.error,"error");case 16:return t.abrupt("return");case 17:if(200===c.status){t.next=21;break}return w()("Mensaje","Se genero un error. Es posible que esta lista ya ha sido ingresada anteriormente.\nPor favor intentarlo nuevamente.","error"),e.setState({btnValue:"Cargar ",respuesta:"NO Procesados",btnState:!1,pasajeros:[],alertCant:i.length,alert:!0}),t.abrupt("return");case 21:e.setState({btnValue:"Cargar",respuesta:"Procesados",btnState:!1,pasajeros:[],alertCant:i.length,alert:!0}),w()("Mensaje","Lista de pasajeros guardado satisfactoriamente.","success"),s.length>0&&e.setState({pasajerosRepetidos:s,alert3:!0}),a.length>0&&e.setState({noExistentes:a,alert2:!0});case 25:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.getElementById("form_XLSX").reset();case 2:return e.next=4,g.obtenerDatosLocalStorage();case 4:if(t=e.sent,r=t.estadoLocalStorage,a=t.name,n=t.id_cliente,i=t.token,!r){e.next=25;break}return this.setState({usuario:n,user:a,token:i}),e.next=13,_.passanger_fetch(i,n);case 13:if(!(s=e.sent).error){e.next=22;break}if(g.validarCookies()){e.next=19;break}return e.next=18,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 18:g.cerrarSesion();case 19:return e.next=21,w()("Mensaje",s.error,"error");case 21:return e.abrupt("return");case 22:this.setState({pasajerosActivos:s}),e.next=28;break;case 25:return e.next=27,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 27:this.setState({usuario:"",user:"",token:""});case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Carga de informacion > Cargar Lista de Pasajeros .xlsx"}),Object(k.jsxs)("div",{className:"cuadro",children:[Object(k.jsx)("label",{children:"Seleccionar rango de fecha para iniciar proceso de carga"}),Object(k.jsxs)("form",{onSubmit:function(t){return e.onsubmit(t)},id:"form_XLSX",children:[Object(k.jsx)("input",{type:"file",onChange:function(t){e.setState({file:t})},accept:".xlsx, .xls"}),Object(k.jsx)("input",{type:"submit",value:this.state.btnValue,disabled:this.state.btnState}),Object(k.jsx)("input",{type:"reset",value:"Limpiar",className:"botonCargarINFO"})]})]}),this.state.alert?Object(k.jsx)("div",{className:"alerta",children:Object(k.jsxs)("p",{children:[this.state.respuesta," (",this.state.alertCant,") pasajeros. "]})}):null,this.state.alert3?Object(k.jsxs)("div",{style:{lineHeight:"1.5",padding:"15px",marginTop:"10px",color:"brown",backgroundColor:"#FFD36E"},children:[this.state.pasajerosRepetidos.length>0?Object(k.jsx)("span",{children:"Se encontraron m\xe1s de un pasajero en el mismo tipo de servicio."}):null,Object(k.jsx)("ul",{children:this.state.pasajerosRepetidos.map((function(e,t){return Object(k.jsxs)("li",{style:{listStyle:"none"},children:[Object(k.jsx)("b",{children:"DNI: "}),e.DNI," - ",Object(k.jsx)("b",{children:"Nombre: "}),e.NOMBRE," - ",Object(k.jsx)("b",{children:"Tipo de servicio: "})," ",e["TIPO SERVICIO"]," - ",Object(k.jsx)("b",{children:"Hora: "})," ",e.HORA," - ",Object(k.jsx)("b",{children:"Fecha:"})," ",e.FECHA," "]},t)}))})]}):null,this.state.alert2?Object(k.jsxs)("div",{style:{lineHeight:"1.5",padding:"15px",marginTop:"10px",color:"#A20A0A",backgroundColor:"#f8d7da"},children:[this.state.noExistentes.length>0?Object(k.jsx)("span",{children:"No encontrados en el sistema."}):null,Object(k.jsx)("ul",{children:this.state.noExistentes.map((function(e,t){return Object(k.jsxs)("li",{style:{listStyle:"none"},children:[Object(k.jsx)("b",{children:"DNI: "}),e.DNI," - ",Object(k.jsx)("b",{children:"Nombre: "}),e.NOMBRE," - ",Object(k.jsx)("b",{children:"Tipo de servicio: "})," ",e["TIPO SERVICIO"]," - ",Object(k.jsx)("b",{children:"Hora: "})," ",e.HORA," - ",Object(k.jsx)("b",{children:"Fecha:"})," ",e.FECHA," "]},t)}))})]}):null]})}}]),r}(a.Component),ce=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={file:null,pasajeros:[],pasajerosActivos:[],siExistentes:[],alertCant:0,alert:!1,alert2:!1,btnState:!1,estadoBtn:!0,btnValue:"Cargar",respuesta:"",usuario:"",token:""},e.readExcel=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var a=new FileReader;a.readAsArrayBuffer(t),a.onload=function(t){var r=t.target.result,a=se.read(r,{type:"buffer"}),n=a.SheetNames[0],i=a.Sheets[n],s=se.utils.sheet_to_json(i);setTimeout((function(){e(s)}),1e3)},a.onerror=function(e){setTimeout((function(){r(e)}),1e3)}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.compararPasajeros_NO=function(t,r){var a=e.state.pasajerosActivos,n=0;if(!(a.length>0))return!0;for(var i=0;i<a.length;i++)if(a[i].id_pasajero.toString()!==t.toString()&&a[i].id_cliente.toString().toUpperCase()===r.toString().toUpperCase()&&(n+=1),i+1===a.length)return i!==n},e.compararPasajeros_SI=function(t,r){for(var a=e.state.pasajerosActivos,n=0,i=0;i<a.length;i++)if(a[i].id_pasajero.toString()!==t.toString()&&a[i].id_cliente.toString().toUpperCase()===r.toString().toUpperCase()&&(n+=1),i+1===a.length)return i===n},e.depurarLista=function(e){var t=new Set;return e.reduce((function(e,r){return t.has(r.id_pasajero.toString())||(t.add(r.id_pasajero.toString(),r),e.push(r)),e}),[])},e.onsubmit=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i,s,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),e.setState({btnValue:"Procesando...",respuesta:"Procesando..",btnState:!0,alertCant:0,alert:!1,alert2:!1,estadoBtn:!1}),!e.state.file){t.next=47;break}return t.next=5,e.state.file.target.files[0];case 5:return a=t.sent,t.prev=6,t.next=9,e.readExcel(a);case 9:n=t.sent,i=e.depurarLista(n),e.setState({pasajeros:i,btnValue:"Cargar",btnState:!1}),t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(6),t.next=18,w()("Mensaje","No se puede leer el archivo .xlsx","error");case 18:throw t.sent;case 19:t.prev=19,s=e.state.pasajeros.filter((function(t){return e.compararPasajeros_NO(t.id_pasajero,t.id_cliente)})),o=e.state.pasajeros.filter((function(t){return e.compararPasajeros_SI(t.id_pasajero,t.id_cliente)})),t.next=29;break;case 24:return t.prev=24,t.t1=t.catch(19),t.next=28,w()("Mensaje","Por favor revisar la estructura del xlsx antes de ingresar los pasajeros.","error");case 28:throw t.sent;case 29:if(!(o.length>0&&s.length>0)){t.next=33;break}w()({title:"Mensaje",text:"Algunos pasajeros del excel ya estan ingresados en el sistema, \xbfDesea ingresar lo faltante?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,e.IngresarRegistro(o,s);case 3:t.next=6;break;case 5:e.setState({siExistentes:o,alert2:!0,btnState:!1,btnValue:"Cargar"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=45;break;case 33:if(!(o.length>0)){t.next=38;break}w()("Mensaje","Los pasajeros ya se encuentran ingresados en el sistema.","info"),e.setState({siExistentes:o,alert2:!0,btnState:!1,btnValue:"Cargar"}),t.next=45;break;case 38:if(!(s.length>0)){t.next=43;break}return t.next=41,e.IngresarRegistro(o,s);case 41:t.next=45;break;case 43:w()("Mensaje","No se encontro ningun registro","info"),e.setState({btnState:!1,btnValue:"Cargar"});case 45:t.next=48;break;case 47:console.log("no");case 48:document.getElementById("form_XLSX").reset();case 49:case"end":return t.stop()}}),t,null,[[6,14],[19,24]])})));return function(e){return t.apply(this,arguments)}}(),e.IngresarRegistro=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],a.forEach((function(e){n.push({id_cliente:e.id_cliente.toString(),id_pasajero:e.id_pasajero.toString(),descripcion:void 0!==e.descripcion?e.descripcion.toUpperCase():null,id_tipo_di:"DNI",nro_di:e.id_pasajero.toString(),direccion:void 0!==e.direccion?e.direccion.toUpperCase():null,id_distrito:void 0!==e.id_distrito?e.id_distrito.toString().trim():null,latitud:void 0!==e.latitud?e.latitud.toString():null,longitud:void 0!==e.longitud?e.longitud.toString():null,celular:void 0!==e.celular?e.celular.toString():null,id_area:void 0!==e.id_area?e.id_area.toUpperCase():null})})),t.next=4,_.savePasajerosXLSX_fetch(e.state.token,n);case 4:if(!(i=t.sent).error){t.next=13;break}if(g.validarCookies()){t.next=10;break}return t.next=9,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 9:g.cerrarSesion();case 10:return t.next=12,w()("Mensaje",i.error,"error");case 12:return t.abrupt("return");case 13:if(200===i.status){t.next=17;break}return w()("Mensaje","Ocurrio un error al momento de ingresar la informacion de los pasajeros.","error"),e.setState({btnValue:"Cargar ",respuesta:"NO Procesados",btnState:!1,pasajeros:[],alertCant:a.length,alert:!0}),t.abrupt("return");case 17:e.setState({btnValue:"Cargar",respuesta:"Procesados",btnState:!1,pasajeros:[],alertCant:a.length,alert:!0}),w()("Mensaje","Lista de pasajeros guardado satisfactoriamente.","success"),r.length>0&&e.setState({siExistentes:r,alert2:!0});case 20:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.getElementById("form_XLSX").reset();case 2:return e.next=4,g.obtenerDatosLocalStorage();case 4:if(t=e.sent,r=t.estadoLocalStorage,a=t.id_cliente,n=t.token,!r){e.next=24;break}return this.setState({usuario:a,token:n}),e.next=12,_.passanger_fetch(n,a);case 12:if(!(i=e.sent).error){e.next=21;break}if(g.validarCookies()){e.next=18;break}return e.next=17,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 17:g.cerrarSesion();case 18:return e.next=20,w()("Mensaje",i.error,"error");case 20:return e.abrupt("return");case 21:this.setState({pasajerosActivos:i}),e.next=27;break;case 24:return e.next=26,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 26:this.setState({usuario:"",token:""});case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Carga de informacion > Cargar Pasajeros .xlsx"}),Object(k.jsxs)("div",{className:"cuadro",children:[Object(k.jsx)("label",{children:"Seleccionar rango de fecha para iniciar proceso de carga"}),Object(k.jsxs)("form",{onSubmit:function(t){return e.onsubmit(t)},id:"form_XLSX",children:[Object(k.jsx)("input",{type:"file",onChange:function(t){e.setState({file:t})},accept:".xlsx, .xls"}),Object(k.jsx)("input",{type:"submit",value:this.state.btnValue,disabled:this.state.btnState}),Object(k.jsx)("input",{type:"reset",value:"Limpiar",className:"botonCargarINFO"})]})]}),this.state.alert?Object(k.jsx)("div",{className:"alerta",children:Object(k.jsxs)("p",{children:[this.state.respuesta," (",this.state.alertCant,") pasajeros. "]})}):null,this.state.alert2?Object(k.jsxs)("div",{style:{lineHeight:"1.5",padding:"15px",marginTop:"10px",color:"#A20A0A",backgroundColor:"#f8d7da"},children:[this.state.siExistentes.length>0?Object(k.jsx)("span",{children:"Encontrados en el sistema."}):null,Object(k.jsx)("ul",{children:this.state.siExistentes.map((function(e,t){return Object(k.jsxs)("li",{style:{listStyle:"none"},children:[Object(k.jsx)("b",{children:"DNI: "}),e.id_pasajero," - ",Object(k.jsx)("b",{children:"Nombre: "}),e.descripcion]},e.id_pasajero+t)}))})]}):null]})}}]),r}(a.Component),le=(r(22),r.p+"static/media/usuairo.81d7b418.svg"),ue=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props.data;return Object(k.jsxs)("div",{className:"abajo-derecha",children:[Object(k.jsx)("div",{className:"toltip",children:Object(k.jsx)("img",{src:le,alt:"icon",width:"20"})}),Object(k.jsx)("div",{className:"abajo-derecha1",children:Object(k.jsxs)("label",{children:[Object(k.jsx)("b",{children:"Pasajero: "}),e._name]})})]})}}]),r}(a.Component),de=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={maxLength_DI:8,lat:-12.046198828462366,lng:-77.04127501255363},e.change_maxlength=function(t){switch(t.target.value){case"PASAPORTE":e.setState({maxLength_DI:12});break;default:e.setState({maxLength_DI:8}),e.props.arrayClient[0]._cod=""}},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this,t=1===this.props.changePassenger?"Crear":"Actualizar";return Object(k.jsxs)("form",{className:"Pasajero_form",onSubmit:function(t){return e.props.formBtn(t)},children:[Object(k.jsxs)("div",{className:"carasFormulario",children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Tipo de documento"}),Object(k.jsxs)("select",{name:"_doc",className:"selectFormulario",value:this.props.arrayClient[0]?this.props.arrayClient[0]._doc:null,onChange:function(t){e.props.changeText(t),e.change_maxlength(t)},disabled:!!this.props.Inputs._docInput,required:!0,children:[Object(k.jsx)("option",{defaultValue:"_doc_NA",value:"_doc_NA",children:"Seleccionar.."}),Object(k.jsx)("option",{defaultValue:"DNI",value:"DNI",children:"DNI"}),Object(k.jsx)("option",{defaultValue:"PASAPORTE",value:"PASAPORTE",children:"PASAPORTE"})]})]}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Documento de identidad"}),Object(k.jsx)("input",{type:"text",name:"_cod",className:"inputFormulario invalido",value:this.props.arrayClient[0]?this.props.arrayClient[0]._cod:null,onChange:this.props.changeText,disabled:!!this.props.Inputs._codInput,required:!0,autoComplete:"off",maxLength:this.state.maxLength_DI,pattern:"[0-9]{"+this.state.maxLength_DI+"}",style:{textTransform:"uppercase"}}),this.props.newArrayPassenger.length>0?Object(k.jsx)("div",{className:"listPassenger",children:this.props.newArrayPassenger.map((function(t){return Object(k.jsxs)("span",{style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",minHeight:"25px",borderRadius:"4px",border:"1px solid #1A1C20",color:"#1A1C20",margin:"3px",padding:"4px"},onClick:function(t){return e.props.selectPassenger(t)},id:[t.id_pasajero,t.id_cliente,t.id_tipo_di],children:[t.id_pasajero," - ",t.descripcion]},t.id_pasajero)}))}):null,Object(k.jsxs)("div",{style:{display:"flex",marginTop:"5px",justifyContent:"space-around"},children:[this.props.stateBtnSearch?Object(k.jsx)("input",{type:"button",value:"Buscar",className:"BtnCodigo",onClick:function(){return e.props.searchCLient()}}):Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"30",alt:"loader"})]}),Object(k.jsx)("input",{type:"button",className:"BtnCodigo",value:"Nuevo",onClick:function(){return e.props.cleanBtn()}})]})]}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Nombres"}),Object(k.jsx)("input",{type:"text",name:"_name",className:"inputFormulario invalido",value:this.props.arrayClient[0]._name?this.props.arrayClient[0]._name:"",maxLength:"80",onChange:this.props.changeText})]}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Direccion"}),Object(k.jsx)("input",{type:"text",name:"_address",className:"inputFormulario",value:this.props.arrayClient[0]._address?this.props.arrayClient[0]._address:"",maxLength:"120",onChange:this.props.changeText})]}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Area"}),Object(k.jsxs)("select",{name:"_area",className:"selectFormulario",value:this.props.arrayClient[0]._area?this.props.arrayClient[0]._area:"",onChange:this.props.changeText,children:[Object(k.jsx)("option",{defaultValue:"",value:"",children:"Seleccionar.."}),this.props.allArea.map((function(e){return Object(k.jsx)("option",{value:e.id_area,defaultValue:e.id_area,children:e.descripcion},e.id_area)}))]})]})]}),Object(k.jsxs)("div",{className:"carasFormulario",children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Zonas (Localidad)"}),Object(k.jsxs)("select",{className:"selectFormulario",name:"_district",value:this.props.arrayClient[0]._district?this.props.arrayClient[0]._district.toString():"",onChange:this.props.changeText,children:[Object(k.jsx)("option",{value:"",defaultValue:"",children:"Seleccionar.."}),this.props.arrayDistrict.map((function(e){return Object(k.jsx)("option",{value:e.id_distrito,defaultValue:e.id_distrito,children:e.id_distrito},e.id_distrito)}))]})]}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Latitud"}),Object(k.jsx)("input",{type:"text",name:"_lat",className:"inputFormulario invalido",value:this.props.arrayClient[0]._lat?this.props.arrayClient[0]._lat:"",maxLength:"15",pattern:"[0-9.-]{0,15}",onChange:this.props.changeText})]}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Longitud"}),Object(k.jsx)("input",{type:"text",name:"_lon",className:"inputFormulario",value:this.props.arrayClient[0]._lon?this.props.arrayClient[0]._lon:"",maxLength:"15",pattern:"[0-9.-]{0,15}",onChange:this.props.changeText})]}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Celular"}),Object(k.jsx)("input",{type:"text",name:"_phone",className:"inputFormulario invalido",value:this.props.arrayClient[0]._phone?this.props.arrayClient[0]._phone:"",onChange:this.props.changeText})]}),Object(k.jsx)("div",{className:"filasFormulario",children:this.props.stateBtnForm?Object(k.jsx)("input",{type:"submit",value:t,className:"FormularioCrear"}):Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"30",alt:"loader"})]})})]}),Object(k.jsx)("div",{className:"carasFormulario",style:{width:"30%"},children:Object(k.jsx)(E.a,{bootstrapURLKeys:{key:"AIzaSyDrq4sz8y-iJt4wEOWpbdOFVGDy8XUQqbY"},defaultCenter:this.props.center,defaultZoom:this.props.zoom,center:{lat:this.props.lat,lng:this.props.lng},onClick:function(e){return console.log(e)},children:void 0!==this.props.arrayClient[0]?Object(k.jsx)(ue,{lat:this.props.arrayClient[0]._lat,lng:this.props.arrayClient[0]._lon,data:this.props.arrayClient[0]}):null})})]})}}]),r}(a.Component);de.defaultProps={center:{lat:-12.046198828462366,lng:-77.04127501255363},zoom:11};var pe=r(37),he=r.n(pe),je={reporteXlsx:function(){var e=Object(x.a)(f.a.mark((function e(t,r){var a,n,i,s,o,c,l,u,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((a=new he.a.Workbook).addWorksheet("pasajeros"),n=a.getWorksheet("pasajeros"),i=5,n.columns=[{width:12},{width:50},{width:80},{width:12},{width:20},{width:16},{width:16},{width:25}],n.getCell("A2").value="COMPA\xd1IA:",n.getCell("B2").value=r,n.getCell("B2").font={bold:!0},s=0;s<1;s++)n.getCell("A4").value="DNI",n.getCell("A4").font={bold:!0},n.getCell("A4").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},n.getCell("A4").alignment={vertical:"middle",horizontal:"center"},n.getCell("B4").value="DESCRIPCION",n.getCell("B4").font={bold:!0},n.getCell("B4").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},n.getCell("B4").alignment={vertical:"middle",horizontal:"center"},n.getCell("C4").value="DIRECCION",n.getCell("C4").font={bold:!0},n.getCell("C4").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},n.getCell("C4").alignment={vertical:"middle",horizontal:"center"},n.getCell("D4").value="AREA",n.getCell("D4").font={bold:!0},n.getCell("D4").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},n.getCell("D4").alignment={vertical:"middle",horizontal:"center"},n.getCell("E4").value="DISTRITO",n.getCell("E4").font={bold:!0},n.getCell("E4").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},n.getCell("E4").alignment={vertical:"middle",horizontal:"center"},n.getCell("F4").value="LATITUD",n.getCell("F4").font={bold:!0},n.getCell("F4").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},n.getCell("F4").alignment={vertical:"middle",horizontal:"center"},n.getCell("G4").value="LONGITUD",n.getCell("G4").font={bold:!0},n.getCell("G4").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},n.getCell("G4").alignment={vertical:"middle",horizontal:"center"},n.getCell("H4").value="CELULAR",n.getCell("H4").font={bold:!0},n.getCell("H4").border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},n.getCell("H4").alignment={vertical:"middle",horizontal:"center"};for(o=0;o<t.length;o++)n.getCell("A"+i).value=t[o].nro_di,n.getCell("B"+i).value=t[o].descripcion,n.getCell("C"+i).value=t[o].direccion,n.getCell("D"+i).value=t[o].id_area,n.getCell("E"+i).value=t[o].id_distrito,n.getCell("F"+i).value=t[o].latitud,n.getCell("G"+i).value=t[o].longitud,n.getCell("H"+i).value=t[o].celular,i+=1;return e.next=12,a.xlsx.writeBuffer();case 12:c=e.sent,l=new Blob([c],{type:"application/octet-binary"}),u=window.URL.createObjectURL(l),(d=document.createElement("a")).href=u,d.download="reportePasajeros.xlsx",d.click(),d.remove();case 20:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},be=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={token:"",mensajeError:"",arrayClient:[{_cod:"",_cli:"_cli_NA",_doc:"_doc_NA",_name:"",_address:"",_district:"",_lat:"",_lon:"",_phone:"",_area:""}],Inputs:{_cliInput:!1,_docInput:!1,_codInput:!1},display:!0,stateBtnSearch:!0,stateBtnForm:!0,changePassenger:1,arrayDistrict:[],arrayClientAll:[],arrayPassenger:[],newArrayPassenger:[],allArea:[],cliente:"",descrip_cliente:"",lat:-12.046198828462366,lng:-77.04127501255363},e.searchCLient=Object(x.a)(f.a.mark((function t(){var r,a,n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.state.arrayClient[0]._cli,a=e.state.arrayClient[0]._cod,n=e.state.arrayClient[0]._doc,"_cli_NA"!==r&&""!==a&&"_doc_NA"!==n?(i=e.state.arrayPassenger.filter((function(e){return e.id_pasajero===a&&e.id_cliente===r&&e.id_tipo_di===n}))).length>0&&e.setState({arrayClient:[{_cod:i[0].nro_di,_cli:i[0].id_cliente,_doc:i[0].id_tipo_di,_name:i[0].descripcion,_address:i[0].direccion,_district:i[0].id_distrito,_lat:i[0].latitud,_lon:i[0].longitud,_phone:i[0].celular,_area:i[0].id_area}],Inputs:{_cliInput:!0,_docInput:!0,_codInput:!0},changePassenger:2,lat:parseFloat(i[0].latitud),lng:parseFloat(i[0].longitud)}):w()("Mensaje","Debe seleccionar o ingresar de manera correcta los campos anteriore.","info");case 4:case"end":return t.stop()}}),t)}))),e.cleanBtn=function(){e.setState({arrayClient:[{_cod:"",_cli:"_cli_NA",_doc:"_doc_NA",_name:"",_address:"",_district:"_district_NA",_lat:"",_lon:"",_phone:"",_area:""}],Inputs:{_cliInput:!1,_docInput:!1,_codInput:!1},newArrayPassenger:[],changePassenger:1})},e.formBtn=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),"_cli_NA"===(a={id_cliente:e.state.cliente,id_pasajero:e.state.arrayClient[0]._cod,descripcion:e.state.arrayClient[0]._name,id_tipo_di:""===e.state.arrayClient[0]._doc?null:e.state.arrayClient[0]._doc,nro_di:""===e.state.arrayClient[0]._cod?null:e.state.arrayClient[0]._cod,direccion:""===e.state.arrayClient[0]._address?null:e.state.arrayClient[0]._address,id_distrito:""===e.state.arrayClient[0]._district?null:e.state.arrayClient[0]._district,latitud:""===e.state.arrayClient[0]._lat?null:e.state.arrayClient[0]._lat,longitud:""===e.state.arrayClient[0]._lon?null:e.state.arrayClient[0]._lon,celular:""===e.state.arrayClient[0]._phone?null:e.state.arrayClient[0]._phone,id_area:""===e.state.arrayClient[0]._area?null:e.state.arrayClient[0]._area}).id_cliente||"_doc_NA"===a.id_tipo_di){t.next=34;break}if(e.setState({stateBtnForm:!1}),1!==e.state.changePassenger){t.next=10;break}return t.next=7,_.createPassenger_fetch(e.state.token,a);case 7:t.t0=t.sent,t.next=13;break;case 10:return t.next=12,_.updatePassenger_fecth(e.state.token,a.id_cliente,a.id_pasajero,a);case 12:t.t0=t.sent;case 13:if(!(n=t.t0).error){t.next=23;break}if(g.validarCookies()){t.next=19;break}return t.next=18,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 18:g.cerrarSesion();case 19:return t.next=21,w()("Mensaje",n.error);case 21:return e.setState({stateBtnForm:!0}),t.abrupt("return");case 23:if(200===n.status){t.next=27;break}return w()("Mensaje","Ocurrio un error al momento de ingresar los datos, validar e ingresar nuevamente.","error"),e.setState({stateBtnForm:!0}),t.abrupt("return");case 27:return w()("Mensaje","Datos del pasajero ingresados satisfactoriamente.","success"),t.next=30,e.searchPassenger_Client_Area(e.state.cliente);case 30:e.cleanBtn(),e.setState({stateBtnForm:!0}),t.next=35;break;case 34:w()("Mensaje","Debe seleccionar un tipo de cliente o documento adecuado.","info");case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectPassenger=function(t){var r=t.target.id.split(",");e.state.arrayClient.map((function(e){return e._cod=r[0],e._cli=r[1],e._doc=r[2]})),e.setState({newArrayPassenger:[]})},e.searchPassenger_Client_Area=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.passanger_fetch(e.state.token,r);case 2:return a=t.sent,t.next=5,_.searchArea_fetch(e.state.token,r);case 5:if(n=t.sent,!a.error&&!n.error){t.next=12;break}if(g.validarCookies()){t.next=11;break}return t.next=10,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 10:g.cerrarSesion();case 11:return t.abrupt("return");case 12:e.setState({arrayPassenger:a,allArea:n});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changeText=function(t){var r=[t.target.name];"_cod"===r[0]&&t.target.value.length>0?e.searchPassenger(t.target.value):"_cod"===r[0]&&t.target.value.length<1&&e.setState({newArrayPassenger:[]}),e.state.arrayClient.map((function(e){return e[r]=t.target.value})),e.setState({arrayClient:e.state.arrayClient})},e.searchPassenger=function(t){var r=e.state.arrayPassenger.filter((function(e){return-1!==e.id_pasajero.indexOf(t)||-1!==e.descripcion.indexOf(t.toUpperCase())}));e.setState({newArrayPassenger:r})},e.exportarExcel=function(){je.reporteXlsx(e.state.arrayPassenger,e.state.descrip_cliente)},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.descripcion,n=t.id_cliente,i=t.token,!r){e.next=23;break}return this.setState({cliente:n,descrip_cliente:a,token:i}),e.next=11,this.searchPassenger_Client_Area(n);case 11:return e.next=13,_.searchDistrict_fetch(i);case 13:if(!(s=e.sent).error){e.next=20;break}if(g.validarCookies()){e.next=19;break}return e.next=18,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 18:g.cerrarSesion();case 19:return e.abrupt("return");case 20:this.setState({arrayDistrict:s}),e.next=26;break;case 23:return e.next=25,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 25:this.setState({cliente:"",descrip_cliente:"",token:""});case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Mantenimiento > Pasajeros"}),Object(k.jsxs)("div",{className:"cuadro_mantenimiento",children:[Object(k.jsx)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",lineHeight:"3rem"},children:Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"botonAddChofer",onClick:this.exportarExcel,children:"Exportar"})})}),Object(k.jsx)("hr",{size:"1",style:{margin:"20px 0px",opacity:"0.5"}}),Object(k.jsx)(de,{arrayClient:this.state.arrayClient,searchCLient:this.searchCLient,formBtn:this.formBtn,changeText:this.changeText,Inputs:this.state.Inputs,arrayDistrict:this.state.arrayDistrict,cleanBtn:this.cleanBtn,arrayClientAll:this.state.arrayClientAll,stateBtnSearch:this.state.stateBtnSearch,stateBtnForm:this.state.stateBtnForm,newArrayPassenger:this.state.newArrayPassenger,selectPassenger:this.selectPassenger,changePassenger:this.state.changePassenger,allArea:this.state.allArea,lng:this.state.lng,lat:this.state.lat})]})]})}}]),r}(a.Component);be.defaultProps={center:{lat:-12.046198828462366,lng:-77.04127501255363},zoom:11};var fe=r.p+"static/media/editP.005241a4.svg",xe=r.p+"static/media/saveP.fc48a86f.svg",me=r.p+"static/media/backP.b235855d.svg",ve=r.p+"static/media/trashP.403f13f5.svg",ge=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={fila_editar:"",editar_guardar:!1,buscarAerolinea:"",modalNuevoAerolinea:!1},e.editarLineaTabla=function(t,r){e.setState({fila_editar:t,editar_guardar:!0}),e.props.editarAerolinea(r)},e.guardarLinea=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.actualizarDatos(e.props.nuevaAerolinea,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.crearNuevaAerolinea=function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.props.crearNuevaAerolinea(e.props.crearAerolinea);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.eliminar=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.eliminarAerolinea(a,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.descartarCambios=function(t,r){e.setState({fila_editar:"",editar_guardar:!1})},e.cambiarTextoBuscador=function(t){e.setState({buscarAerolinea:t.target.value})},e.abrirModalDistrito=function(){e.props.limpiarAerolinea(),e.setState({modalNuevoAerolinea:!0})},e.cerrarModalDistrito=function(){e.setState({modalNuevoAerolinea:!1})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"2rem",margin:"3rem",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 8px 0px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",flexWrap:"wrap",lineHeight:"3rem"},children:[Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"botonAddChofer",onClick:function(){return e.abrirModalDistrito()},children:"Agregar"})}),Object(k.jsx)("div",{style:{display:"flex"},children:Object(k.jsx)("input",{type:"text",className:"buscador",placeholder:"Filtrar por nombre...",onChange:this.cambiarTextoBuscador})})]}),Object(k.jsx)("div",{style:{maxHeight:"65vh",overflowY:"scroll",width:"100%"},children:Object(k.jsxs)("table",{border:"1",style:{borderCollapse:"collapse"},className:"table",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"30%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},children:"Codigo"}),Object(k.jsx)("td",{style:{width:"50%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},children:"Descripcion"}),Object(k.jsx)("td",{style:{width:"20%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},align:"center",children:"Estado"}),Object(k.jsx)("td",{style:{minWidth:"120px",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},align:"center",children:"Opciones"})]})}),Object(k.jsx)("tbody",{children:this.props.estadosCarga.tabla?this.props.aerolineas.filter((function(t){return-1!==t.descripcion.indexOf(e.state.buscarAerolinea.toUpperCase())})).map((function(t,r){return Object(k.jsxs)("tr",{style:{height:"40px",fontSize:"0.9rem"},children:[Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"id_cuenta",disabled:!0,value:e.props.nuevaAerolinea.id_cuenta,onChange:e.props.cambiarTexto}):t.id_cuenta||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"descripcion",value:e.props.nuevaAerolinea.descripcion,onChange:e.props.cambiarTexto}):t.descripcion}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar?Object(k.jsxs)("select",{style:{border:"1px solid black",padding:"0px",margin:"0px",borderRadius:"5px",width:"-webkit-fill-available"},className:"selectTablaAerolinea",name:"id_estado",value:e.props.nuevaAerolinea.id_estado,onChange:e.props.cambiarTexto,children:[Object(k.jsx)("option",{value:"01",children:"Activo"}),Object(k.jsx)("option",{value:"02",children:"Inactivo"})]}):"01"===t.id_estado?"Activo":"Inactivo"}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r!==e.state.fila_editar?Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.editarLineaTabla(r,t)},children:Object(k.jsx)("img",{src:fe,alt:"editar",width:"22"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.guardarLinea(r,t)},children:Object(k.jsx)("img",{src:xe,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.eliminar(r,t)},children:Object(k.jsx)("img",{src:ve,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.descartarCambios(r,t)},children:Object(k.jsx)("img",{src:me,alt:"retroceder",width:"17"})})]})})]},t.id_cuenta)})):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:4,align:"center",children:Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"45",alt:"loader"})]})})})})]})}),this.state.modalNuevoAerolinea?Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Agregar nueva Aerolinea"}),Object(k.jsx)("span",{onClick:function(){return e.cerrarModalDistrito()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){e.crearNuevaAerolinea(t)},children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Codigo"}),Object(k.jsx)("input",{type:"text",required:!0,name:"id_cuenta",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearAerolinea.id_cuenta||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Descripcion"}),Object(k.jsx)("input",{type:"text",required:!0,name:"descripcion",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearAerolinea.descripcion||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})})]})})]})}):null]})}}]),r}(a.PureComponent),Oe=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={cliente:"",token:"",usuario:"",aerolineas:[],nuevaAerolinea:{},crearAerolinea:{id_cuenta:"",descripcion:""},estadosCarga:{tabla:!1}},e.aerolinea=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!1})}),t.next=3,_.searchAerolineafetch(r,a);case 3:return n=t.sent,t.next=6,_.searchAerolineafetch_02(r,a);case 6:if(i=t.sent,!n.error&&!i.error){t.next=15;break}if(g.validarCookies()){t.next=12;break}return t.next=11,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 11:g.cerrarSesion();case 12:return t.next=14,w()("Mensaje",n.error||i.error,"error");case 14:return t.abrupt("return");case 15:e.setState({aerolineas:n.concat(i),estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!0})});case 16:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.cambiarTexto=function(t){t.target.value.trim().length<0?e.setState({nuevaAerolinea:Object(P.a)(Object(P.a)({},e.state.nuevaAerolinea),{},Object(j.a)({},t.target.name,null))}):e.setState({nuevaAerolinea:Object(P.a)(Object(P.a)({},e.state.nuevaAerolinea),{},Object(j.a)({},t.target.name,t.target.value.toUpperCase()))})},e.modificarDatosCrear=function(t){t.target.value.trim().length<1?e.setState({crearAerolinea:Object(P.a)(Object(P.a)({},e.state.crearAerolinea),{},Object(j.a)({},t.target.name,null))}):e.setState({crearAerolinea:Object(P.a)(Object(P.a)({},e.state.crearAerolinea),{},Object(j.a)({},t.target.name,t.target.value.toUpperCase()))})},e.editarAerolinea=function(t){e.setState({nuevaAerolinea:t})},e.eliminarAerolinea=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({title:"Mensaje",text:"\xbfEstas seguro de eliminar la Aerolinea:  ".concat(r.descripcion,"?"),icon:"warning",buttons:!0,dangerMode:!0});case 2:if(!t.sent){t.next=22;break}return t.next=6,_.DELETE_aerolinea_fetch(e.state.token,e.state.cliente,r.id_cuenta);case 6:if(!(n=t.sent).error){t.next=15;break}if(g.validarCookies()){t.next=12;break}return t.next=11,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 11:g.cerrarSesion();case 12:return t.next=14,w()("Mensaje",n.error,"error");case 14:return t.abrupt("return");case 15:if(200===n.status){t.next=19;break}return t.next=18,w()("Mensaje","Ocurrio un error inesperado.","error");case 18:return t.abrupt("return");case 19:w()("Mensaje","Aerolinea eliminada.","success"),i=e.buscarIndice(r),e.state.aerolineas.splice(i,1);case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.crearNuevaAerolinea=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.id_cliente=e.state.cliente,r.usuario_sistema=e.state.usuario,r.fecha_sistema=re()().format("YYYY-MM-DD"),r.id_estado="01",t.next=6,_.POST_aerolinea_fetch(e.state.token,r);case 6:if(!(a=t.sent).error){t.next=15;break}if(g.validarCookies()){t.next=12;break}return t.next=11,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 11:g.cerrarSesion();case 12:return t.next=14,w()("Mensaje",a.error,"error");case 14:return t.abrupt("return");case 15:if(200===a.status){t.next=19;break}return t.next=18,w()("Mensaje","Ocurrio un error inesperado.","error");case 18:return t.abrupt("return");case 19:return t.next=21,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 21:e.state.aerolineas.push(r),e.setState({crearAerolinea:{id_cuenta:"",descripcion:""}});case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.actualizarDatos=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.PUT_aerolinea_fecth(e.state.token,r);case 2:if(!(n=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",n.error,"error");case 10:return t.abrupt("return");case 11:if(200===n.status){t.next=15;break}return t.next=14,w()("Mensaje","Ocurrio un error inesperado.","error");case 14:return t.abrupt("return");case 15:return t.next=17,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 17:i=e.buscarIndice(r),e.state.aerolineas.splice(i,1,r);case 19:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.limpiarAerolinea=function(){e.setState({crearAerolinea:{id_cuenta:"",descripcion:"",id_estado:"01"}})},e.buscarIndice=function(t){for(var r=e.state.aerolineas,a=0;a<r.length;a++)if(t.id_cuenta===r[a].id_cuenta)return a},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,n=t.id_cliente,i=t.name,!r){e.next=13;break}return this.setState({cliente:n,usuario:i,token:a}),e.next=11,this.aerolinea(a,n);case 11:e.next=16;break;case 13:return e.next=15,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 15:this.setState({cliente:"",usuario:"",token:""});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Mantenimiento > Aerolinea"}),Object(k.jsx)(ge,{aerolineas:this.state.aerolineas,nuevaAerolinea:this.state.nuevaAerolinea,crearAerolinea:this.state.crearAerolinea,estadosCarga:this.state.estadosCarga,editarAerolinea:this.editarAerolinea,eliminarAerolinea:this.eliminarAerolinea,cambiarTexto:this.cambiarTexto,modificarDatosCrear:this.modificarDatosCrear,limpiarAerolinea:this.limpiarAerolinea,crearNuevaAerolinea:this.crearNuevaAerolinea,actualizarDatos:this.actualizarDatos})]})}}]),r}(a.Component),ye=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={fila_editar:"",editar_guardar:!1,buscarDistrito:"",modalNuevoDistrito:!1},e.editarLineaTabla=function(t,r){e.setState({fila_editar:t,editar_guardar:!0}),e.props.editarDistrito(r)},e.crearNuevoDistrito=function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.props.crearNuevoDistrito(e.props.Creardistrito);case 3:e.descartarCambios();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.guardarLinea=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.actualizarDatos(e.props.nuevoDistrito,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.eliminar=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.eliminarDistrito(a,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.descartarCambios=function(){e.setState({fila_editar:"",editar_guardar:!1})},e.cambiarTextoBuscador=function(t){e.setState({buscarDistrito:t.target.value})},e.cerrarModalDistrito=function(){e.setState({modalNuevoDistrito:!1})},e.abrirModalDistrito=function(){e.props.limpiarCrearDistrito(),e.setState({modalNuevoDistrito:!0})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"2rem",margin:"3rem",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 8px 0px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",flexWrap:"wrap",lineHeight:"3rem"},children:[Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"botonAddChofer",onClick:function(){return e.abrirModalDistrito()},children:"Agregar"})}),Object(k.jsx)("div",{style:{display:"flex"},children:Object(k.jsx)("input",{type:"text",className:"buscador",placeholder:"Filtrar por descripcion...",onChange:this.cambiarTextoBuscador})})]}),Object(k.jsx)("div",{style:{maxHeight:"64vh",overflowY:"scroll",width:"100%"},children:Object(k.jsxs)("table",{border:"1",style:{borderCollapse:"collapse",width:"100%"},className:"table",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"30%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},children:"Codigo"}),Object(k.jsx)("td",{style:{width:"50%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},children:"Descripci\xf3n"}),Object(k.jsx)("td",{style:{minWidth:"120px",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},align:"center",children:"Opciones"})]})}),Object(k.jsx)("tbody",{children:this.props.estadosCarga.tabla?this.props.distrito.filter((function(t){return-1!==t.descripcion.indexOf(e.state.buscarDistrito.toUpperCase())})).map((function(t,r){return Object(k.jsxs)("tr",{style:{height:"40px",fontSize:"0.9rem"},children:[Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar?e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"id_distrito",disabled:!0,value:e.props.nuevoDistrito.id_distrito||"",onChange:e.props.modificarDatos}):t.id_distrito:t.id_distrito||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar?e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"descripcion",value:e.props.nuevoDistrito.descripcion||"",onChange:e.props.modificarDatos}):t.descripcion:t.descripcion||""}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r!==e.state.fila_editar?Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.editarLineaTabla(r,t)},children:Object(k.jsx)("img",{src:fe,alt:"editar",width:"22"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"20px"},onClick:function(){return e.guardarLinea(r,t)},children:Object(k.jsx)("img",{src:xe,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"20px"},onClick:function(){return e.eliminar(r,t)},children:Object(k.jsx)("img",{src:ve,alt:"cancelar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.descartarCambios()},children:Object(k.jsx)("img",{src:me,alt:"cancelar",width:"17"})})]})})]},t.id_distrito)})):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:3,align:"center",children:Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"45",alt:"loader"})]})})})})]})}),this.state.modalNuevoDistrito?Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Agregar nuevo Distrito"}),Object(k.jsx)("span",{onClick:function(){return e.cerrarModalDistrito()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){e.crearNuevoDistrito(t)},children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Codigo"}),Object(k.jsx)("input",{type:"text",required:!0,name:"id_distrito",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.Creardistrito.id_distrito||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Descripcion"}),Object(k.jsx)("input",{type:"text",name:"descripcion",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.Creardistrito.descripcion||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})})]})})]})}):null]})}}]),r}(a.Component),_e=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={token:"",distrito:[],nuevoDistrito:{},crearDistrito:{id_distrito:"",descripcion:""},estadosCarga:{tabla:!1}},e.listarDistrito=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!1})}),t.next=3,_.GET_distrito_fetch(r);case 3:if(!(a=t.sent).error){t.next=12;break}if(g.validarCookies()){t.next=9;break}return t.next=8,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 8:g.cerrarSesion();case 9:return t.next=11,w()("Mensaje",a.error,"error");case 11:return t.abrupt("return");case 12:e.setState({distrito:a,estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!0})});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.modificarDatos=function(t){t.target.value.trim().length<1?e.setState({nuevoDistrito:Object(P.a)(Object(P.a)({},e.state.nuevoDistrito),{},Object(j.a)({},t.target.name,null))}):e.setState({nuevoDistrito:Object(P.a)(Object(P.a)({},e.state.nuevoDistrito),{},Object(j.a)({},t.target.name,t.target.value.trim().toUpperCase()))})},e.modificarDatosCrear=function(t){t.target.value.trim().length<1?e.setState({crearDistrito:Object(P.a)(Object(P.a)({},e.state.crearDistrito),{},Object(j.a)({},t.target.name,null))}):e.setState({crearDistrito:Object(P.a)(Object(P.a)({},e.state.crearDistrito),{},Object(j.a)({},t.target.name,t.target.value.trim().toUpperCase()))})},e.crearNuevoDistrito=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.POST_distrito_fetch(e.state.token,r);case 2:if(!(a=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",a.error,"error");case 10:return t.abrupt("return");case 11:if(200===a.status){t.next=15;break}return t.next=14,w()("Mensaje","Ocurrio un error inesperado.","error");case 14:return t.abrupt("return");case 15:return t.next=17,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 17:e.state.distrito.push(r),e.setState({crearDistrito:{id_distrito:"",descripcion:""}});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.actualizarDatos=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.PUT_distrito_fecth(e.state.token,r);case 2:if(!(n=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",n.error,"error");case 10:return t.abrupt("return");case 11:if(200===n.status){t.next=15;break}return t.next=14,w()("Mensaje","Ocurrio un error inesperado.","error");case 14:return t.abrupt("return");case 15:return t.next=17,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 17:i=e.buscarIndice(r),e.state.distrito.splice(i,1,r);case 19:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.eliminarDistrito=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({title:"Mensaje",text:"\xbfEstas seguro de ELIMINAR el estado ".concat(r.descripcion,"?"),icon:"warning",buttons:!0,dangerMode:!0});case 2:if(!t.sent){t.next=22;break}return t.next=6,_.DELETE_distrito_fetch(e.state.token,r.id_distrito);case 6:if(!(n=t.sent).error){t.next=15;break}if(g.validarCookies()){t.next=12;break}return t.next=11,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 11:g.cerrarSesion();case 12:return t.next=14,w()("Mensaje",n.error,"error");case 14:return t.abrupt("return");case 15:if(200===n.status){t.next=19;break}return t.next=18,w()("Mensaje","Ocurrio un error inesperado.","error");case 18:return t.abrupt("return");case 19:w()("Mensaje","Distrito eliminado.","success"),i=e.buscarIndice(r),e.state.distrito.splice(i,1);case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.distritoRepetivo=function(t){for(var r=!1,a=0;a<e.state.distrito.length;a++)if(t===e.state.distrito[a].id_distrito){r=!0;break}return r},e.editarDistrito=function(t){e.setState({nuevoDistrito:t})},e.limpiarCrearDistrito=function(){e.setState({crearDistrito:{id_distrito:"",descripcion:""}})},e.buscarIndice=function(t){for(var r=e.state.distrito,a=0;a<r.length;a++)if(t.id_distrito===r[a].id_distrito)return a},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,!r){e.next=11;break}return this.setState({token:a}),e.next=9,this.listarDistrito(a);case 9:e.next=14;break;case 11:return e.next=13,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 13:this.setState({token:""});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Mantenimiento > Distrito"}),Object(k.jsx)(ye,{modificarDatos:this.modificarDatos,limpiarCrearDistrito:this.limpiarCrearDistrito,eliminarDistrito:this.eliminarDistrito,crearNuevoDistrito:this.crearNuevoDistrito,actualizarDatos:this.actualizarDatos,editarDistrito:this.editarDistrito,modificarDatosCrear:this.modificarDatosCrear,distrito:this.state.distrito,nuevoDistrito:this.state.nuevoDistrito,Creardistrito:this.state.crearDistrito,estadosCarga:this.state.estadosCarga})]})}}]),r}(a.Component),Ce=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={fila_editar:"",editar_guardar:!1,buscarVehiculo:"",modalNuevoVehiculo:!1},e.editarLineaTabla=function(t,r){e.setState({fila_editar:t,editar_guardar:!0}),e.props.editarVehiculo(r)},e.guardarLinea=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.actualizarDatos(e.props.nuevoVehiculo,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.crearNuevoVehiculo=function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.props.crearNuevoVehiculo(e.props.crearVehiculo);case 3:e.descartarCambios();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.eliminar=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.eliminarVehiculo(a,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.descartarCambios=function(t,r){e.setState({fila_editar:"",editar_guardar:!1})},e.cambiarTextoBuscador=function(t){e.setState({buscarVehiculo:t.target.value})},e.cerrarModalVehiculo=function(){e.setState({modalNuevoVehiculo:!1})},e.abrirModalVehiculo=function(){e.props.limpiarVehiculo(),e.setState({modalNuevoVehiculo:!0})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"2rem",margin:"3rem",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 8px 0px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",flexWrap:"wrap",lineHeight:"3rem"},children:[Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"botonAddChofer",onClick:function(){return e.abrirModalVehiculo()},children:"Agregar"})}),Object(k.jsx)("div",{style:{display:"flex"},children:Object(k.jsx)("input",{type:"text",className:"buscador",placeholder:"Filtrar por codigo...",onChange:this.cambiarTextoBuscador})})]}),Object(k.jsx)("div",{style:{maxHeight:"65vh",overflowY:"scroll",width:"100%"},children:Object(k.jsxs)("table",{border:"1",style:{borderCollapse:"collapse",width:"100%"},className:"table",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"15%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},children:"Codigo"}),Object(k.jsx)("td",{style:{width:"20%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Marca"}),Object(k.jsx)("td",{style:{width:"20%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Modelo"}),Object(k.jsx)("td",{style:{width:"20%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Placa"}),Object(k.jsx)("td",{style:{width:"15%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Estado"}),Object(k.jsx)("td",{style:{minWidth:"120px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Opciones"})]})}),Object(k.jsx)("tbody",{children:this.props.estadosCarga.tabla?this.props.vehiculos.filter((function(t){return-1!==t.id_unidad.indexOf(e.state.buscarVehiculo.toUpperCase())})).map((function(t,r){return Object(k.jsxs)("tr",{style:{height:"40px",fontSize:"0.9rem"},children:[Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"id_unidad",value:e.props.nuevoVehiculo.id_unidad||"",onChange:e.props.cambiarTexto}):t.id_unidad||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"marca",value:e.props.nuevoVehiculo.marca||"",onChange:e.props.cambiarTexto}):t.marca||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"modelo",value:e.props.nuevoVehiculo.modelo||"",onChange:e.props.cambiarTexto}):t.modelo}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"placa",value:e.props.nuevoVehiculo.placa||"",onChange:e.props.cambiarTexto}):t.placa}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar?Object(k.jsxs)("select",{style:{border:"1px solid black",padding:"0px",margin:"0px",borderRadius:"5px",width:"-webkit-fill-available",fontSize:"0.9rem"},className:"selectTablaAerolinea",name:"id_estado",value:e.props.nuevoVehiculo.id_estado,onChange:e.props.cambiarTexto,children:[Object(k.jsx)("option",{value:"01",children:"Activo"}),Object(k.jsx)("option",{value:"02",children:"Inactivo"})]}):"01"===t.id_estado?"Activo":"Inactivo"}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r!==e.state.fila_editar?Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.editarLineaTabla(r,t)},children:Object(k.jsx)("img",{src:fe,alt:"editar",width:"22"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.guardarLinea(r,t)},children:Object(k.jsx)("img",{src:xe,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.eliminar(r,t)},children:Object(k.jsx)("img",{src:ve,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.descartarCambios(r,t)},children:Object(k.jsx)("img",{src:me,alt:"retroceder",width:"17"})})]})})]},t.id_unidad)})):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:6,align:"center",children:Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"45",alt:"loader"})]})})})})]})}),this.state.modalNuevoVehiculo?Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Agregar nuevo Vehiculo    "}),Object(k.jsx)("span",{onClick:function(){return e.cerrarModalVehiculo()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){e.crearNuevoVehiculo(t)},children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Codigo"}),Object(k.jsx)("input",{type:"text",required:!0,name:"id_unidad",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearVehiculo.id_unidad||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Marca"}),Object(k.jsx)("input",{type:"text",name:"marca",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearVehiculo.marca||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Modelo"}),Object(k.jsx)("input",{type:"text",name:"modelo",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearVehiculo.modelo||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Placa"}),Object(k.jsx)("input",{type:"text",name:"placa",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearVehiculo.placa||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})})]})})]})}):null]})}}]),r}(a.PureComponent),Se=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={token:"",vehiculos:[],usuario:"",nuevoVehiculo:{},crearVehiculo:{id_unidad:"",marca:"",modelo:"",placa:""},estadosCarga:{tabla:!1}},e.vehiculo=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({estadosCarga:{tabla:!1}}),t.next=3,_.searchUnidadesChofer_fetch(r,a,n);case 3:if(!(i=t.sent).error){t.next=12;break}if(g.validarCookies()){t.next=9;break}return t.next=8,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 8:g.cerrarSesion();case 9:return t.next=11,w()("Mensaje",i.error,"error");case 11:return t.abrupt("return");case 12:e.setState({vehiculos:i,estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!0})});case 13:case"end":return t.stop()}}),t)})));return function(e,r,a){return t.apply(this,arguments)}}(),e.editarVehiculo=function(t){e.setState({nuevoVehiculo:t})},e.cambiarTexto=function(t){t.target.value.trim().length<1?e.setState({nuevoVehiculo:Object(P.a)(Object(P.a)({},e.state.nuevoVehiculo),{},Object(j.a)({},t.target.name,null))}):e.setState({nuevoVehiculo:Object(P.a)(Object(P.a)({},e.state.nuevoVehiculo),{},Object(j.a)({},t.target.name,t.target.value.toUpperCase()))})},e.modificarDatosCrear=function(t){t.target.value.trim().length<1?e.setState({crearVehiculo:Object(P.a)(Object(P.a)({},e.state.crearVehiculo),{},Object(j.a)({},t.target.name,null))}):e.setState({crearVehiculo:Object(P.a)(Object(P.a)({},e.state.crearVehiculo),{},Object(j.a)({},t.target.name,t.target.value.toUpperCase()))})},e.crearNuevoVehiculo=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.fecha_sistema=re()().format("YYYY-MM-DD"),r.usuario_sistema=e.state.usuario,r.id_estado="01",t.next=5,_.POST_vehiculo_fetch(e.state.token,r);case 5:if(!(a=t.sent).error){t.next=14;break}if(g.validarCookies()){t.next=11;break}return t.next=10,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 10:g.cerrarSesion();case 11:return t.next=13,w()("Mensaje",a.error,"error");case 13:return t.abrupt("return");case 14:if(200===a.status){t.next=18;break}return t.next=17,w()("Mensaje","Ocurrio un error inesperado.","error");case 17:return t.abrupt("return");case 18:return t.next=20,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 20:e.state.vehiculos.push(r),e.setState({crearVehiculo:{id_unidad:"",marca:"",modelo:"",placa:""}});case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.actualizarDatos=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.usuario_mod=e.state.usuario.toUpperCase(),r.fecha_mod=re()().format("YYYY-MM-DD"),t.next=4,_.PUT_vehiculo_fecth(e.state.token,r);case 4:if(!(n=t.sent).error){t.next=13;break}if(g.validarCookies()){t.next=10;break}return t.next=9,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 9:g.cerrarSesion();case 10:return t.next=12,w()("Mensaje",n.error,"error");case 12:return t.abrupt("return");case 13:if(200===n.status){t.next=17;break}return t.next=16,w()("Mensaje","Ocurrio un error inesperado.","error");case 16:return t.abrupt("return");case 17:return t.next=19,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 19:i=e.buscarIndice(r),e.state.vehiculos.splice(i,1,r);case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.eliminarVehiculo=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({title:"Mensaje",text:"\xbfEstas seguro de ELIMINAR el auto ".concat(r.id_unidad,"?"),icon:"warning",buttons:!0,dangerMode:!0});case 2:if(!t.sent){t.next=22;break}return t.next=6,_.DELETE_vehiculo_fetch(e.state.token,r.id_unidad);case 6:if(!(n=t.sent).error){t.next=15;break}if(g.validarCookies()){t.next=12;break}return t.next=11,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 11:g.cerrarSesion();case 12:return t.next=14,w()("Mensaje",n.error,"error");case 14:return t.abrupt("return");case 15:if(200===n.status){t.next=19;break}return t.next=18,w()("Mensaje","Ocurrio un error inesperado.","error");case 18:return t.abrupt("return");case 19:w()("Mensaje","Vehiculo eliminado","success"),i=e.buscarIndice(r),e.state.vehiculos.splice(i,1);case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.limpiarVehiculo=function(){e.setState({crearVehiculo:{id_unidad:"",marca:"",modelo:"",placa:""}})},e.buscarIndice=function(t){for(var r=e.state.vehiculos,a=0;a<r.length;a++)if(t.id_unidad===r[a].id_unidad)return a},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,n=t.name,!r){e.next=12;break}return this.setState({usuario:n,token:a}),e.next=10,this.vehiculo(a,"unidad","01");case 10:e.next=15;break;case 12:return e.next=14,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 14:this.setState({usuario:"",token:""});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Mantenimiento > Vehiculo"}),Object(k.jsx)(Ce,{vehiculos:this.state.vehiculos,nuevoVehiculo:this.state.nuevoVehiculo,crearVehiculo:this.state.crearVehiculo,estadosCarga:this.state.estadosCarga,cambiarTexto:this.cambiarTexto,eliminarVehiculo:this.eliminarVehiculo,editarVehiculo:this.editarVehiculo,modificarDatosCrear:this.modificarDatosCrear,limpiarVehiculo:this.limpiarVehiculo,crearNuevoVehiculo:this.crearNuevoVehiculo,actualizarDatos:this.actualizarDatos})]})}}]),r}(a.Component),we=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={fila_editar:"",editar_guardar:!1,buscarChofer:"",modalNuevoChofer:!1},e.editarLineaTabla=function(t,r){e.setState({fila_editar:t,editar_guardar:!0}),e.props.editarChofer(r)},e.guardarLinea=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.actualizarDatos(e.props.nuevoChofer,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.crearNuevoChofer=function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.props.crearNuevoChofer(e.props.crearChofer);case 3:e.descartarCambios();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.eliminar=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.eliminarChofer(a,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.descartarCambios=function(){e.setState({fila_editar:"",editar_guardar:!1})},e.cambiarTextoBuscador=function(t){e.setState({buscarChofer:t.target.value})},e.abrirModalChofer=function(){e.props.limpiarChofer(),e.setState({modalNuevoChofer:!0})},e.cerrarModalChofer=function(){e.setState({modalNuevoChofer:!1})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"2rem",margin:"3rem",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 8px 0px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",flexWrap:"wrap",lineHeight:"3rem"},children:[Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"botonAddChofer",onClick:function(){return e.abrirModalChofer()},children:"Agregar"})}),Object(k.jsx)("div",{style:{display:"flex"},children:Object(k.jsx)("input",{type:"text",className:"buscador",placeholder:"Filtrar por nombre...",onChange:this.cambiarTextoBuscador})})]}),Object(k.jsx)("div",{style:{maxHeight:"65vh",overflowY:"scroll",width:"100%"},children:Object(k.jsxs)("table",{border:"1",style:{borderCollapse:"collapse"},className:"table",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"8%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Codigo"}),Object(k.jsx)("td",{style:{width:"25%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Nombre"}),Object(k.jsx)("td",{style:{width:"25%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Direccion"}),Object(k.jsx)("td",{style:{width:"10%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Licencia"}),Object(k.jsx)("td",{style:{width:"10%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Telefono"}),Object(k.jsx)("td",{style:{width:"10%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Cod. Velsat"}),Object(k.jsx)("td",{style:{width:"10%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Usuario"}),Object(k.jsx)("td",{style:{width:"10%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Contrase\xf1a"}),Object(k.jsx)("td",{style:{minWidth:"100px",width:"12%",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Estado"}),Object(k.jsx)("td",{style:{minWidth:"120px",position:"sticky",top:"0",zIndex:"10",background:"#e6b012",padding:"6px"},align:"center",children:"Opciones"})]})}),Object(k.jsx)("tbody",{children:this.props.estadosCarga.tabla?this.props.chofer.filter((function(t){return-1!==t.descripcion.indexOf(e.state.buscarChofer.toUpperCase())})).map((function(t,r){return Object(k.jsxs)("tr",{style:{height:"40px",fontSize:"0.9rem"},children:[Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",fontSize:"1rem",background:"none",width:"100px"},name:"id_chofer",disabled:!0,value:e.props.nuevoChofer.id_chofer,onChange:e.props.cambiarTexto}):t.id_chofer||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",fontSize:"1rem",background:"none",width:"-webkit-fill-available"},name:"descripcion",value:e.props.nuevoChofer.descripcion||"",onChange:e.props.cambiarTexto}):t.descripcion||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",fontSize:"1rem",background:"none",width:"-webkit-fill-available"},name:"direccion",value:e.props.nuevoChofer.direccion||"",onChange:e.props.cambiarTexto}):t.direccion||""}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",fontSize:"1rem",background:"none",width:"-webkit-fill-available"},name:"licencia",value:e.props.nuevoChofer.licencia||"",onChange:e.props.cambiarTexto}):t.licencia||""}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",fontSize:"1rem",background:"none",width:"-webkit-fill-available"},name:"telefono",value:e.props.nuevoChofer.telefono||"",onChange:e.props.cambiarTexto}):t.telefono||""}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",fontSize:"1rem",background:"none",width:"-webkit-fill-available"},name:"id_chofer_velsat",value:e.props.nuevoChofer.id_chofer_velsat||"",onChange:e.props.cambiarTexto}):t.id_chofer_velsat||""}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",fontSize:"1rem",background:"none",width:"-webkit-fill-available"},name:"login_velsat",value:e.props.nuevoChofer.login_velsat||"",onChange:e.props.cambiarTexto}):t.login_velsat||""}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",fontSize:"1rem",background:"none",width:"-webkit-fill-available"},name:"clave_velsat",value:e.props.nuevoChofer.clave_velsat||"",onChange:e.props.cambiarTexto}):t.clave_velsat||""}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar?Object(k.jsxs)("select",{style:{border:"1px solid black",padding:"0px",margin:"0px",borderRadius:"5px",width:"-webkit-fill-available"},name:"id_estado",className:"selectTablaAerolinea",value:e.props.nuevoChofer.id_estado,onChange:e.props.cambiarTexto,children:[Object(k.jsx)("option",{value:"01",children:"Activo"}),Object(k.jsx)("option",{value:"02",children:"Inactivo"})]}):"01"===t.id_estado?"Activo":"Inactivo"}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r!==e.state.fila_editar?Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.editarLineaTabla(r,t)},children:Object(k.jsx)("img",{src:fe,alt:"editar",width:"22"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.guardarLinea(r,t)},children:Object(k.jsx)("img",{src:xe,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.eliminar(r,t)},children:Object(k.jsx)("img",{src:ve,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.descartarCambios()},children:Object(k.jsx)("img",{src:me,alt:"retroceder",width:"17"})})]})})]},t.id_chofer)})):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:10,align:"center",children:Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"45",alt:"loader"})]})})})})]})}),this.state.modalNuevoChofer?Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog-2col",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Agregar nuevo Chofer"}),Object(k.jsx)("span",{onClick:function(){return e.cerrarModalChofer()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){e.crearNuevoChofer(t)},style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Codigo"}),Object(k.jsx)("input",{type:"text",name:"id_chofer",required:!0,className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearChofer.id_chofer||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Nombre"}),Object(k.jsx)("input",{type:"text",name:"descripcion",required:!0,className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearChofer.descripcion||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Direccion"}),Object(k.jsx)("input",{type:"text",name:"direccion",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearChofer.direccion||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Telefono"}),Object(k.jsx)("input",{type:"text",name:"telefono",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearChofer.telefono||"",onChange:this.props.modificarDatosCrear})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Licencia"}),Object(k.jsx)("input",{type:"text",name:"licencia",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearChofer.licencia||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Usuario"}),Object(k.jsx)("input",{type:"text",name:"login_velsat",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearChofer.login_velsat||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Contrase\xf1a"}),Object(k.jsx)("input",{type:"text",name:"clave_velsat",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearChofer.clave_velsat||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})})]})]})})]})}):null]})}}]),r}(a.PureComponent),ke=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={token:"",usuario:"",chofer:[],nuevoChofer:{},crearChofer:{id_chofer:"",descripcion:"",direccion:"",licencia:"",telefono:"",id_chofer_velsat:"",login_velsat:"",clave_velsat:""},estadosCarga:{tabla:!1}},e.cambiarTexto=function(t){t.target.value.trim().length<0?e.setState({nuevoChofer:Object(P.a)(Object(P.a)({},e.state.nuevoChofer),{},Object(j.a)({},t.target.name,null))}):e.setState({nuevoChofer:Object(P.a)(Object(P.a)({},e.state.nuevoChofer),{},Object(j.a)({},t.target.name,t.target.value.toUpperCase()))})},e.modificarDatosCrear=function(t){t.target.value.trim().length<1?e.setState({crearChofer:Object(P.a)(Object(P.a)({},e.state.crearChofer),{},Object(j.a)({},t.target.name,null))}):e.setState({crearChofer:Object(P.a)(Object(P.a)({},e.state.crearChofer),{},Object(j.a)({},t.target.name,t.target.value.toUpperCase()))})},e.chofer=function(){var t=Object(x.a)(f.a.mark((function t(r,a,n){var i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!1})}),t.next=3,_.searchUnidadesChofer_fetch(r,a,n);case 3:if(!(i=t.sent).error){t.next=12;break}if(g.validarCookies()){t.next=9;break}return t.next=8,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 8:g.cerrarSesion();case 9:return t.next=11,w()("Mensaje",i.error,"error");case 11:return t.abrupt("return");case 12:e.setState({chofer:i,estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!0})});case 13:case"end":return t.stop()}}),t)})));return function(e,r,a){return t.apply(this,arguments)}}(),e.crearNuevoChofer=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.fecha_sistema=re()().format("YYYY-MM-DD"),r.usuario_sistema=e.state.usuario,r.id_estado="01",t.next=5,_.POST_chofer_fetch(e.state.token,r);case 5:if(!(a=t.sent).error){t.next=14;break}if(g.validarCookies()){t.next=11;break}return t.next=10,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 10:g.cerrarSesion();case 11:return t.next=13,w()("Mensaje",a.error,"error");case 13:return t.abrupt("return");case 14:if(200===a.status){t.next=18;break}return t.next=17,w()("Mensaje","Ocurrio un error inesperado.","error");case 17:return t.abrupt("return");case 18:return t.next=20,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 20:e.state.chofer.push(r),e.setState({crearChofer:{id_chofer:"",descripcion:"",direccion:"",licencia:"",telefono:"",id_chofer_velsat:"",usuario_velsat:"",clave_velsat:""}});case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.actualizarDatos=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.usuario_mod=e.state.usuario.toUpperCase(),r.fecha_mod=re()().format("YYYY-MM-DD"),t.next=4,_.PUT_chofer_fecth(e.state.token,r);case 4:if(!(n=t.sent).error){t.next=13;break}if(g.validarCookies()){t.next=10;break}return t.next=9,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 9:g.cerrarSesion();case 10:return t.next=12,w()("Mensaje",n.error,"error");case 12:return t.abrupt("return");case 13:if(200===n.status){t.next=17;break}return t.next=16,w()("Mensaje","Ocurrio un error inesperado.","error");case 16:return t.abrupt("return");case 17:return t.next=19,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 19:i=e.buscarIndice(r),e.state.chofer.splice(i,1,r);case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.editarChofer=function(t){e.setState({nuevoChofer:t})},e.eliminarChofer=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({title:"Mensaje",text:"\xbfEstas seguro de ELIMINAR a ".concat(r.descripcion,"?"),icon:"warning",buttons:!0,dangerMode:!0});case 2:if(!t.sent){t.next=22;break}return t.next=6,_.DELETE_chofer_fetch(e.state.token,r.id_chofer);case 6:if(!(n=t.sent).error){t.next=15;break}if(g.validarCookies()){t.next=12;break}return t.next=11,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 11:g.cerrarSesion();case 12:return t.next=14,w()("Mensaje",n.error,"error");case 14:return t.abrupt("return");case 15:if(200===n.status){t.next=19;break}return t.next=18,w()("Mensaje","Ocurrio un error inesperado.","error");case 18:return t.abrupt("return");case 19:w()("Mensaje","Chofer eliminado","success"),i=e.buscarIndice(r),e.state.chofer.splice(i,1);case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.limpiarChofer=function(){e.setState({crearChofer:{id_chofer:"",descripcion:"",direccion:"",licencia:"",telefono:"",id_chofer_velsat:"",usuario_velsat:"",clave_velsat:""}})},e.buscarIndice=function(t){for(var r=e.state.chofer,a=0;a<r.length;a++)if(t.id_chofer===r[a].id_chofer)return a},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,n=t.name,!r){e.next=12;break}return this.setState({usuario:n,token:a}),e.next=10,this.chofer(a,"chofer","01");case 10:e.next=15;break;case 12:return e.next=14,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 14:this.setState({usuario:"",token:""});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Mantenimiento > Chofer"}),Object(k.jsx)(we,{chofer:this.state.chofer,nuevoChofer:this.state.nuevoChofer,buscarChofer:this.state.buscarChofer,crearChofer:this.state.crearChofer,estadosCarga:this.state.estadosCarga,editarChofer:this.editarChofer,cambiarTexto:this.cambiarTexto,eliminarChofer:this.eliminarChofer,limpiarChofer:this.limpiarChofer,modificarDatosCrear:this.modificarDatosCrear,actualizarDatos:this.actualizarDatos,crearNuevoChofer:this.crearNuevoChofer})]})}}]),r}(a.Component),Fe=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={buscar:""},e.cambiarTextoBuscador=function(t){e.setState({buscarDistrito:t.target.value})},e.cambiarTextoBuscador=function(t){e.setState({buscar:t.target.value})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"2rem",margin:"3rem",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 8px 0px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",flexWrap:"wrap",lineHeight:"3rem"},children:[Object(k.jsx)("button",{className:"botonAddChofer",onClick:function(){return e.props.crearTarifa()},children:"Crear"}),Object(k.jsx)("div",{style:{display:"flex"},children:Object(k.jsx)("input",{type:"text",className:"buscador",placeholder:"Filtrar por Tipo...",onChange:this.cambiarTextoBuscador})})]}),Object(k.jsxs)("div",{style:{maxHeight:"65vh",overflowY:"scroll",width:"100%"},children:[Object(k.jsxs)("table",{border:"1",style:{borderCollapse:"collapse",width:"100%"},className:"table",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Tipo"}),Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Fecha Inicio"}),Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Fecha Final"}),Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Precio"}),Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Opciones"})]})}),Object(k.jsx)("tbody",{children:this.props.estadosCarga?this.props.tarifa.filter((function(t){return-1!==t.id_tipo_servicio.indexOf(e.state.buscar.toUpperCase())})).map((function(t,r){return Object(k.jsxs)("tr",{style:{textAlign:"center"},children:[Object(k.jsx)("td",{style:{padding:"6px 3px",fontSize:"0.9em"},children:t.id_tipo_servicio}),Object(k.jsx)("td",{style:{padding:"6px 3px",fontSize:"0.9em"},children:re()(t.fecha_ini).format("DD-MM-YYYY")}),Object(k.jsx)("td",{style:{padding:"6px 3px",fontSize:"0.9em"},children:re()(t.fecha_fin).format("DD-MM-YYYY")}),Object(k.jsx)("td",{style:{padding:"6px 3px",fontSize:"0.9em"},children:t.precio}),Object(k.jsxs)("td",{style:{padding:"6px 3px",fontSize:"0.9em"},children:[" ",Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.props.eliminarTarifa(t)},children:Object(k.jsx)("img",{src:ve,alt:"close",width:"15"})})]})]},r)})):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:5,align:"center",children:Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"45",alt:"loader"})]})})})})]}),this.props.display_editar?Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:["Mantenimiento de Tarifa",Object(k.jsx)("span",{onClick:function(){return e.props.ocultarTarifa()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){return e.props.formBtn(t)},children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Tipo"}),Object(k.jsxs)("select",{name:"id_tipo_servicio",onChange:this.props.changeText,style:{outline:"none"},value:this.props.edit_tarifa[0].id_tipo_servicio||"",className:"selectFormulario fontSize09em",children:[Object(k.jsx)("option",{value:"",children:"Seleccionar.."}),this.props.listaTipoServicio.map((function(e,t){return Object(k.jsx)("option",{defaultValue:e.id_tipo_servicio,value:e.id_tipo_servicio,children:e.id_tipo_servicio},t)}))]})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Fecha Inicial"}),Object(k.jsx)("input",{type:"date",name:"fecha_ini",className:"inputFormulario inputFormularioText inputDate",value:this.props.edit_tarifa[0]?this.props.edit_tarifa[0].fecha_ini:null,onChange:this.props.changeText,readOnly:!0})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Fecha Final"}),Object(k.jsx)("input",{type:"date",name:"fecha_fin",className:"inputFormulario inputFormularioText inputDate",value:this.props.edit_tarifa[0]?this.props.edit_tarifa[0].fecha_fin:null,onChange:this.props.changeText,readOnly:!0})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Precio"}),Object(k.jsx)("input",{type:"text",name:"precio",placeholder:"*",className:"inputFormulario inputFormularioText invalido",value:this.props.edit_tarifa[0]?this.props.edit_tarifa[0].precio:null,onChange:this.props.changeText,required:!0,pattern:"[0-9.]+"})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})})]})})]})}):null]})]})}}]),r}(a.Component),Ne=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={token:"",id_cliente:"",name:"",client:[{ID_CLIENTE:"DH",ID_TIPO_SERVICIO:"AUTO"}],tarifa:[],listaTipoServicio:[],edit_tarifa:[],display_editar:!1,search_cliente:"select_Client",estadosCarga:!1},e.obtenerTipoServicio=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.searchTipoServicio_fetch(r);case 2:if(!(n=t.sent).error){t.next=10;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return w()("Mensaje",n.error,"error"),t.abrupt("return");case 10:e.setState({listaTipoServicio:n});case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.obtenerListaTarifas=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.searchTarifa_fetch(r,a);case 2:if(!(n=t.sent).error){t.next=10;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return w()("Mensaje",n.error,"error"),t.abrupt("return");case 10:n.map((function(e){return e.pk=e.id_cliente+e.id_tipo_servicio+re()(e.fecha_ini).format("YYYYMMDD")+re()(e.fecha_fin).format("YYYYMMDD")})),e.setState({tarifa:n});case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.eliminarTarifa=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i,s,o,c,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(r),r.fecha_fin=re()(r.fecha_fin).format("YYYY-MM-DD"),r.fecha_ini=re()(r.fecha_ini).format("YYYY-MM-DD"),!(re()().diff(re()(r.fecha_sistema).format(),"hours")>5)){t.next=7;break}return w()("Mensaje","Debe tener menos de 5 horas de creaci\xf3n para eliminar.","error"),t.abrupt("return");case 7:return a=r.id_cliente,n=r.id_tipo_servicio,i=r.fecha_ini,s=r.fecha_fin,o=r.pk,t.next=10,_.deleteTarifa_fetch(e.state.token,a,n,i,s);case 10:if(!t.sent.error){t.next=14;break}return w()("Mensaje","Hubo un error cuando se intento eliminar.","error"),t.abrupt("return");case 14:c=e.state.tarifa,l=c.filter((function(e){return e.pk!==o})),e.setState({tarifa:l});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.crearTarifa=function(){e.setState({edit_tarifa:[{id_tipo_servicio:"",fecha_ini:re()().format("YYYY-MM-DD"),fecha_fin:re()().add("years",1).format("YYYY-MM-DD"),precio:""}],display_editar:!0})},e.ocultarTarifa=function(){e.setState({edit_tarifa:[],display_editar:!1})},e.changeText=function(t){var r=[t.target.name];e.state.edit_tarifa.map((function(e){return e[r]=t.target.value})),e.setState({edit_tarifa:e.state.edit_tarifa})},e.changeText_client=function(t){e.setState({search_cliente:t.target.value})},e.formSearch=function(e){e.preventDefault()},e.formBtn=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),(a=e.state.edit_tarifa[0]).id_tipo_servicio&&""!==a.id_tipo_servicio){t.next=5;break}return w()("Mensaje","Debe completar todos los campos.","warning"),t.abrupt("return");case 5:return a.id_cliente=e.state.id_cliente,a.usuario_sistema=e.state.name,a.fecha_sistema=re()().format(),a.pk=a.id_cliente+a.id_tipo_servicio+re()(a.fecha_ini).format("YYYYMMDD")+re()(a.fecha_fin).format("YYYYMMDD"),console.log(a),t.next=12,_.postTarifa_fetch(e.state.token,a);case 12:if(!t.sent.error){t.next=16;break}return w()("Mensaje","No puede crear dos registros en la misma fecha.","error"),t.abrupt("return");case 16:(n=e.state.tarifa).push(a),console.log(n),w()("Mensaje","Se registro correctamente.","success"),e.setState({tarfa:n}),e.ocultarTarifa();case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,n=t.id_cliente,i=t.name,console.log(i),!r){e.next=15;break}return this.setState({token:a,id_cliente:n,name:i}),e.next=12,Promise.all([this.obtenerTipoServicio(a,n),this.obtenerListaTarifas(a,n)]);case 12:this.setState({estadosCarga:!0}),e.next=18;break;case 15:return e.next=17,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 17:this.setState({token:"",id_cliente:""});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Mantenimiento > Precio"}),Object(k.jsx)(Fe,{tarifa:this.state.tarifa,edit_tarifa:this.state.edit_tarifa,display_editar:this.state.display_editar,search_cliente:this.state.search_cliente,listaTipoServicio:this.state.listaTipoServicio,obtenerTarifa:this.obtenerTarifa,ocultarTarifa:this.ocultarTarifa,changeText:this.changeText,formBtn:this.formBtn,crearTarifa:this.crearTarifa,formSearch:this.formSearch,changeText_client:this.changeText_client,eliminarTarifa:this.eliminarTarifa,estadosCarga:this.state.estadosCarga})]})}}]),r}(a.Component),Te=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={fila_editar:"",editar_guardar:!1,buscar:""},e.cambiarTextoBuscador=function(t){e.setState({buscarDistrito:t.target.value})},e.cambiarTextoBuscador=function(t){e.setState({buscar:t.target.value})},e.descartarCambios=function(){e.setState({fila_editar:"",editar_guardar:!1})},e.eliminar=function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.eliminarTarifa(r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.guardarLinea=function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.actualizarDatos(e.props.editarTipoServicio);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.editarLineaTabla=function(t,r){e.setState({fila_editar:t,editar_guardar:!0}),e.props.cambiarValoresEditarServicio(r)},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"2rem",margin:"3rem",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 8px 0px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",flexWrap:"wrap",lineHeight:"3rem"},children:[Object(k.jsx)("button",{className:"botonAddChofer",onClick:function(){return e.props.crearTipoServicio()},children:"Crear"}),Object(k.jsx)("div",{style:{display:"flex"},children:Object(k.jsx)("input",{type:"text",className:"buscador",placeholder:"Filtrar por Tipo...",onChange:this.cambiarTextoBuscador})})]}),Object(k.jsxs)("div",{style:{maxHeight:"65vh",overflowY:"scroll",width:"100%"},children:[Object(k.jsxs)("table",{border:"1",style:{borderCollapse:"collapse",width:"100%"},className:"table",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Tipo"}),Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Rango minimo"}),Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Rango maximo"}),Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Estado"}),Object(k.jsx)("td",{style:{padding:"6px 3px"},align:"center",children:"Opciones"})]})}),Object(k.jsx)("tbody",{children:this.props.estadosCarga?this.props.tipoServicio.filter((function(t){return-1!==t.id_tipo_servicio.indexOf(e.state.buscar.toUpperCase())})).map((function(t,r){return Object(k.jsxs)("tr",{style:{height:"40px",fontSize:"0.9rem"},children:[Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"id_tipo_servicio",value:e.props.editarTipoServicio.id_tipo_servicio||"",onChange:e.props.cambiarTexto}):t.id_tipo_servicio||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"min_rango",value:e.props.editarTipoServicio.min_rango||"",onChange:e.props.cambiarTexto}):t.min_rango||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"max_rango",value:e.props.editarTipoServicio.max_rango||"",onChange:e.props.cambiarTexto}):t.max_rango}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar?Object(k.jsxs)("select",{style:{border:"1px solid black",padding:"0px",margin:"0px",borderRadius:"5px",width:"-webkit-fill-available",fontSize:"0.9rem"},className:"selectTablaAerolinea",name:"id_estado",value:e.props.editarTipoServicio.id_estado,onChange:e.props.cambiarTexto,children:[Object(k.jsx)("option",{value:"01",children:"Activo"}),Object(k.jsx)("option",{value:"02",children:"Inactivo"})]}):"01"===t.id_estado?"Activo":"Inactivo"}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r!==e.state.fila_editar?Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.editarLineaTabla(r,t)},children:Object(k.jsx)("img",{src:fe,alt:"editar",width:"22"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.guardarLinea(t)},children:Object(k.jsx)("img",{src:xe,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.eliminar(t)},children:Object(k.jsx)("img",{src:ve,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.descartarCambios()},children:Object(k.jsx)("img",{src:me,alt:"retroceder",width:"17"})})]})})]},t.id_tipo_servicio)})):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:5,align:"center",children:Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"45",alt:"loader"})]})})})})]}),this.props.display_editar?Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:["Mantenimiento de Tipo de Servicio",Object(k.jsx)("span",{onClick:function(){return e.props.ocultarTipoServicio()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){return e.props.formBtn(t)},children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Tipo de servicio"}),Object(k.jsx)("input",{type:"text",name:"id_tipo_servicio",className:"inputFormulario inputFormularioText",value:this.props.nuevoTipoServicio[0]?this.props.nuevoTipoServicio[0].id_tipo_servicio:null,placeholder:"*",style:{textTransform:"uppercase"},required:!0,onChange:this.props.changeText})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Cantidad Minima"}),Object(k.jsx)("input",{type:"text",name:"min_rango",className:"inputFormulario inputFormularioText invalido",value:this.props.nuevoTipoServicio[0]?this.props.nuevoTipoServicio[0].min_rango:null,onChange:this.props.changeText,placeholder:"*",required:!0,pattern:"[0-9.]+"})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Cantidad Maxima"}),Object(k.jsx)("input",{type:"text",name:"max_rango",placeholder:"*",className:"inputFormulario inputFormularioText invalido",value:this.props.nuevoTipoServicio[0]?this.props.nuevoTipoServicio[0].max_rango:null,onChange:this.props.changeText,required:!0,pattern:"[0-9.]+"})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})})]})})]})}):null]})]})}}]),r}(a.Component),Ae=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={token:"",id_cliente:"",name:"",tipoServicio:[],nuevoTipoServicio:[],editarTipoServicio:{id_tipo_servicio:"",min_rango:"",max_rango:"",id_estado:""},display_editar:!1,search_cliente:"select_Client",estadosCarga:!1},e.obtenerListaTipoServicio=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.searchTipoServicio_fetch(r);case 2:if(!(a=t.sent).error){t.next=10;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return w()("Mensaje",a.error,"error"),t.abrupt("return");case 10:e.setState({tipoServicio:a});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.eliminarTarifa=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.id_tipo_servicio,t.next=3,_.deleteTipoServicio_fetch(e.state.token,a);case 3:if(!t.sent.error){t.next=7;break}return w()("Mensaje","Hubo un error cuando se intento eliminar.","error"),t.abrupt("return");case 7:n=e.state.tipoServicio,i=n.filter((function(e){return e.id_tipo_servicio!==a})),e.setState({tipoServicio:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.crearTipoServicio=function(){e.setState({nuevoTipoServicio:[{id_tipo_servicio:"",min_rango:"",max_rango:"",id_estado:"01",fecha_sistema:re()().format()}],display_editar:!0})},e.ocultarTipoServicio=function(){e.setState({nuevoTipoServicio:[],display_editar:!1})},e.changeText=function(t){var r=[t.target.name];e.state.nuevoTipoServicio.map((function(e){return e[r]=t.target.value})),e.setState({nuevoTipoServicio:e.state.nuevoTipoServicio})},e.changeText_client=function(t){e.setState({search_cliente:t.target.value})},e.formBtn=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),(a=e.state.nuevoTipoServicio[0]).id_tipo_servicio&&""!==a.id_tipo_servicio){t.next=5;break}return w()("Mensaje","Debe completar todos los campos.","warning"),t.abrupt("return");case 5:if(!(parseInt(a.min_rango)>parseInt(a.max_rango))){t.next=8;break}return w()("Mensaje","Debe respetar los rangos de menor y mayor","warning"),t.abrupt("return");case 8:return a.id_tipo_servicio=a.id_tipo_servicio.toUpperCase(),a.usuario_sistema=e.state.name,t.next=12,_.postTipoServicio_fetch(e.state.token,a);case 12:if(!t.sent.error){t.next=16;break}return w()("Mensaje","No puede crear dos registros en la misma fecha.","error"),t.abrupt("return");case 16:(n=e.state.tipoServicio).push(a),w()("Mensaje","Se registro correctamente.","success"),e.setState({tipoServicio:n}),e.ocultarTipoServicio();case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.cambiarTexto=function(t){t.target.value.trim().length<1?e.setState({editarTipoServicio:Object(P.a)(Object(P.a)({},e.state.editarTipoServicio),{},Object(j.a)({},t.target.name,null))}):e.setState({editarTipoServicio:Object(P.a)(Object(P.a)({},e.state.editarTipoServicio),{},Object(j.a)({},t.target.name,t.target.value.toUpperCase()))})},e.cambiarValoresEditarServicio=function(t){e.setState({editarTipoServicio:t})},e.actualizarDatos=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.putTipoServicio_fetch(e.state.token,r);case 2:if(!t.sent.error){t.next=6;break}return w()("Mensaje","Hubo un error cuando se actualiza los datos","error"),t.abrupt("return");case 6:if(a=e.state.tipoServicio,!((n=a.findIndex((function(e){return e.id_tipo_servicio===r.id_tipo_servicio})))<0)){t.next=10;break}return t.abrupt("return");case 10:a.splice(n,1,r),e.setState({tipoServicio:a}),w()("Mensaje","Se Actualizo correctamente.","success");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,n=t.id_cliente,i=t.name,console.log(i),!r){e.next=15;break}return this.setState({token:a,id_cliente:n,name:i}),e.next=12,this.obtenerListaTipoServicio(a);case 12:this.setState({estadosCarga:!0}),e.next=18;break;case 15:return e.next=17,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 17:this.setState({token:"",id_cliente:""});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Mantenimiento > Tipo Servicio"}),Object(k.jsx)(Te,{tipoServicio:this.state.tipoServicio,nuevoTipoServicio:this.state.nuevoTipoServicio,display_editar:this.state.display_editar,search_cliente:this.state.search_cliente,editarTipoServicio:this.state.editarTipoServicio,estadosCarga:this.state.estadosCarga,ocultarTipoServicio:this.ocultarTipoServicio,changeText:this.changeText,formBtn:this.formBtn,crearTipoServicio:this.crearTipoServicio,changeText_client:this.changeText_client,eliminarTarifa:this.eliminarTarifa,cambiarTexto:this.cambiarTexto,cambiarValoresEditarServicio:this.cambiarValoresEditarServicio,actualizarDatos:this.actualizarDatos})]})}}]),r}(a.Component),Me=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={fila_editar:"",editar_guardar:!1,buscarDistrito:"",modalNuevoDistrito:!1},e.editarLineaTabla=function(t,r){e.setState({fila_editar:t,editar_guardar:!0}),e.props.editarCliente(r)},e.crearNuevoCliente=function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.props.crearNuevoCliente(e.props.crearCliente);case 3:e.descartarCambios();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.guardarLinea=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.actualizarDatos(e.props.nuevoCliente,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.eliminar=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.eliminarCliente(a,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.descartarCambios=function(){e.setState({fila_editar:"",editar_guardar:!1})},e.cambiarTextoBuscador=function(t){e.setState({buscarDistrito:t.target.value})},e.cerrarModaCliente=function(){e.setState({modalNuevoDistrito:!1})},e.abrirModalCliente=function(){e.props.limpiarCrearCliente(),e.setState({modalNuevoDistrito:!0})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"2rem",margin:"3rem",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 8px 0px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",flexWrap:"wrap",lineHeight:"3rem"},children:[Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"botonAddChofer",onClick:function(){return e.abrirModalCliente()},children:"Agregar"})}),Object(k.jsx)("div",{style:{display:"flex"},children:Object(k.jsx)("input",{type:"text",className:"buscador",placeholder:"Filtrar por descripcion...",onChange:this.cambiarTextoBuscador})})]}),Object(k.jsx)("div",{style:{maxHeight:"64vh",overflowY:"scroll",width:"100%"},children:Object(k.jsxs)("table",{border:"1",style:{borderCollapse:"collapse",width:"100%"},className:"table",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"30%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},children:"Codigo"}),Object(k.jsx)("td",{style:{width:"30%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},children:"Descripci\xf3n corta"}),Object(k.jsx)("td",{style:{width:"30%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},children:"Descripci\xf3n"}),Object(k.jsx)("td",{style:{minWidth:"100px",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},align:"center",children:"Estado"}),Object(k.jsx)("td",{style:{minWidth:"120px",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},align:"center",children:"Opciones"})]})}),Object(k.jsx)("tbody",{children:this.props.estadosCarga.tabla?this.props.clientes.filter((function(t){return-1!==t.descripcion.indexOf(e.state.buscarDistrito.toUpperCase())})).map((function(t,r){return Object(k.jsxs)("tr",{style:{height:"40px",fontSize:"0.9rem"},children:[Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar?e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"id_cliente",disabled:!0,value:e.props.nuevoCliente.id_cliente||"",onChange:e.props.modificarDatos}):t.id_cliente:t.id_cliente||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar?e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"descripcion_corta",value:e.props.nuevoCliente.descripcion_corta||"",onChange:e.props.modificarDatos}):t.descripcion_corta:t.descripcion_corta||""}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar?e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"descripcion",value:e.props.nuevoCliente.descripcion||"",onChange:e.props.modificarDatos}):t.descripcion:t.descripcion||""}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar?Object(k.jsxs)("select",{style:{border:"1px solid black",padding:"0px",margin:"0px",borderRadius:"5px",width:"-webkit-fill-available"},name:"id_estado",className:"selectTablaAerolinea",value:e.props.nuevoCliente.id_estado,onChange:e.props.modificarDatos,children:[Object(k.jsx)("option",{value:"01",children:"Activo"}),Object(k.jsx)("option",{value:"02",children:"Inactivo"})]}):"01"===t.id_estado?"Activo":"Inactivo"}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r!==e.state.fila_editar?Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.editarLineaTabla(r,t)},children:Object(k.jsx)("img",{src:fe,alt:"editar",width:"22"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"20px"},onClick:function(){return e.guardarLinea(r,t)},children:Object(k.jsx)("img",{src:xe,alt:"editar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"20px"},onClick:function(){return e.eliminar(r,t)},children:Object(k.jsx)("img",{src:ve,alt:"cancelar",width:"17"})}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.descartarCambios()},children:Object(k.jsx)("img",{src:me,alt:"cancelar",width:"17"})})]})})]},t.id_cliente)})):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:3,align:"center",children:Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"45",alt:"loader"})]})})})})]})}),this.state.modalNuevoDistrito?Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog-2col",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Agregar nuevo Cliente"}),Object(k.jsx)("span",{onClick:function(){return e.cerrarModaCliente()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){e.crearNuevoCliente(t)},style:{display:"flex",justifyContent:"space-between"},children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Codigo"}),Object(k.jsx)("input",{type:"text",required:!0,name:"id_cliente",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearCliente.id_cliente||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Descripci\xf3n Corta"}),Object(k.jsx)("input",{type:"text",required:!0,name:"descripcion_corta",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearCliente.descripcion_corta||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Descripci\xf3n"}),Object(k.jsx)("input",{type:"text",required:!0,name:"descripcion",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearCliente.descripcion||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Email"}),Object(k.jsx)("input",{type:"text",name:"email",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearCliente.email||"",onChange:this.props.modificarDatosCrear})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Direcci\xf3n"}),Object(k.jsx)("input",{type:"text",name:"direccion",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearCliente.direccion||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Telefono"}),Object(k.jsx)("input",{type:"text",name:"fono",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearCliente.fono||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"nro_di"}),Object(k.jsx)("input",{type:"text",name:"nro_di",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearCliente.nro_di||"",onChange:this.props.modificarDatosCrear})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})})]})]})})]})}):null]})}}]),r}(a.Component),De={id_cliente:"",descripcion:"",descripcion_corta:"",email:"",direccion:null,fono:null,id_estado:"01",nro_di:null},Pe=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={token:"",clientes:[],nuevoCliente:{},crearCliente:De,estadosCarga:{tabla:!1}},e.listaCliente=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!1})}),t.next=3,_.searchClient_fetchSinToken();case 3:if(!(a=t.sent).error){t.next=12;break}if(g.validarCookies()){t.next=9;break}return t.next=8,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 8:g.cerrarSesion();case 9:return t.next=11,w()("Mensaje",a.error,"error");case 11:return t.abrupt("return");case 12:e.setState({clientes:a,estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!0})});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.modificarDatos=function(t){t.target.value.trim().length<1?e.setState({nuevoCliente:Object(P.a)(Object(P.a)({},e.state.nuevoCliente),{},Object(j.a)({},t.target.name,null))}):e.setState({nuevoCliente:Object(P.a)(Object(P.a)({},e.state.nuevoCliente),{},Object(j.a)({},t.target.name,t.target.value.toUpperCase()))})},e.modificarDatosCrear=function(t){t.target.value.trim().length<1?e.setState({crearCliente:Object(P.a)(Object(P.a)({},e.state.crearCliente),{},Object(j.a)({},t.target.name,null))}):e.setState({crearCliente:Object(P.a)(Object(P.a)({},e.state.crearCliente),{},Object(j.a)({},t.target.name,t.target.value.toUpperCase()))})},e.crearNuevoCliente=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.postCliente_fetch(e.state.token,r);case 2:if(!(a=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",a.error,"error");case 10:return t.abrupt("return");case 11:if(200===a.status){t.next=15;break}return t.next=14,w()("Mensaje","Ocurrio un error inesperado.","error");case 14:return t.abrupt("return");case 15:return t.next=17,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 17:e.listaCliente(),e.setState({crearCliente:De});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.actualizarDatos=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.putCliente_fetch(e.state.token,r);case 2:if(!(n=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",n.error,"error");case 10:return t.abrupt("return");case 11:if(200===n.status){t.next=15;break}return t.next=14,w()("Mensaje","Ocurrio un error inesperado.","error");case 14:return t.abrupt("return");case 15:return t.next=17,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 17:e.listaCliente();case 18:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.eliminarCliente=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({title:"Mensaje",text:"\xbfEstas seguro de ELIMINAR el cliente ".concat(r.descripcion,"?"),icon:"warning",buttons:!0,dangerMode:!0});case 2:if(!t.sent){t.next=21;break}return t.next=6,_.deleteCliente_fetch(e.state.token,r.id_cliente);case 6:if(!(n=t.sent).error){t.next=15;break}if(g.validarCookies()){t.next=12;break}return t.next=11,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 11:g.cerrarSesion();case 12:return t.next=14,w()("Mensaje",n.error,"error");case 14:return t.abrupt("return");case 15:if(200===n.status){t.next=19;break}return t.next=18,w()("Mensaje","Ocurrio un error inesperado.","error");case 18:return t.abrupt("return");case 19:w()("Mensaje","Cliente eliminado.","success"),e.listaCliente();case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.clienteRepetido=function(t){for(var r=!1,a=0;a<e.state.clientes.length;a++)if(t===e.state.distrito[a].id_cliente){r=!0;break}return r},e.editarCliente=function(t){e.setState({nuevoCliente:t})},e.limpiarCrearCliente=function(){e.setState({crearCliente:De})},e.buscarIndice=function(t){for(var r=e.state.clientes,a=0;a<r.length;a++)if(t.id_cliente===r[a].id_cliente)return a},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,!r){e.next=11;break}return this.setState({token:a}),e.next=9,this.listaCliente(a);case 9:e.next=14;break;case 11:return e.next=13,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 13:this.setState({token:""});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Mantenimiento > Cliente"}),Object(k.jsx)(Me,{modificarDatos:this.modificarDatos,limpiarCrearCliente:this.limpiarCrearCliente,eliminarCliente:this.eliminarCliente,crearNuevoCliente:this.crearNuevoCliente,actualizarDatos:this.actualizarDatos,editarCliente:this.editarCliente,modificarDatosCrear:this.modificarDatosCrear,clientes:this.state.clientes,nuevoCliente:this.state.nuevoCliente,crearCliente:this.state.crearCliente,estadosCarga:this.state.estadosCarga})]})}}]),r}(a.Component),Ee=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={fila_editar:"",editar_guardar:!1,modalNuevoFFAT:!1,buscarFFAT:""},e.editarLineaTabla=function(t,r){e.setState({fila_editar:t,editar_guardar:!0}),e.props.editarFFAT(r)},e.descartarCambios=function(t,r){e.setState({editar_guardar:!1,fila_editar:""})},e.guardarLinea=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.actualizarDatos(e.props.nuevoffat,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.eliminar=function(){var t=Object(x.a)(f.a.mark((function t(r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.eliminarEstadoMovilizacion(a,r);case 2:e.descartarCambios();case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.cerrarModalFFAT=function(){e.setState({modalNuevoFFAT:!1})},e.abrirModalFFAT=function(){e.props.limpiarFFAT(),e.setState({modalNuevoFFAT:!0})},e.cambiarTextoBuscador=function(t){e.setState({buscarFFAT:t.target.value})},e.crearNuevoFFAT=function(){var t=Object(x.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.props.crearNuevoEstadoM(e.props.crearffat);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",padding:"2rem",margin:"3rem",boxShadow:"rgb(0 0 0 / 15%) 0px 0px 8px 0px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",flexWrap:"wrap",lineHeight:"3rem"},children:[Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"botonAddChofer",onClick:function(){return e.abrirModalFFAT()},children:"Agregar"})}),Object(k.jsx)("div",{style:{display:"flex"},children:Object(k.jsx)("input",{type:"text",className:"buscador",placeholder:"Filtrar por codigo...",onChange:this.cambiarTextoBuscador})})]}),Object(k.jsx)("div",{style:{maxHeight:"65vh",overflowY:"scroll",width:"100%"},children:Object(k.jsxs)("table",{border:"1",style:{borderCollapse:"collapse",width:"100%"},className:"table",bordercolor:"#d9a600",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{style:{width:"20%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},children:"Codigo"}),Object(k.jsx)("td",{style:{width:"45%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},children:"Descripci\xf3n"}),Object(k.jsx)("td",{style:{width:"20%",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},align:"center",children:"Facturable"}),Object(k.jsx)("td",{style:{maxWidth:"120px",padding:"6px",position:"sticky",top:"0",background:"#e6b012"},align:"center",children:"Opciones"})]})}),Object(k.jsx)("tbody",{children:this.props.estadosCarga.tabla?this.props.ffat.filter((function(t){return-1!==t.descripcion.indexOf(e.state.buscarFFAT.toUpperCase())})).map((function(t,r){return Object(k.jsxs)("tr",{style:{height:"40px",fontSize:"0.9rem"},children:[Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"id_tipo_estado_mov",disabled:!0,value:e.props.nuevoffat.id_tipo_estado_mov||"",onChange:e.props.modificarDatos}):t.id_tipo_estado_mov}),Object(k.jsx)("td",{style:{padding:"6px"},children:r===e.state.fila_editar&&e.state.editar_guardar?Object(k.jsx)("input",{type:"text",style:{textTransform:"uppercase",width:"-webkit-fill-available",background:"none",fontSize:"0.9rem"},name:"descripcion",value:e.props.nuevoffat.descripcion||"",onChange:e.props.modificarDatos}):t.descripcion}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r===e.state.fila_editar?Object(k.jsxs)("select",{style:{border:"1px solid black",padding:"0px",margin:"0px",borderRadius:"5px",width:"-webkit-fill-available"},name:"flg_facturable",className:"selectTablaAerolinea",value:e.props.nuevoffat.flg_facturable||"",onChange:e.props.modificarDatos,children:[Object(k.jsx)("option",{value:"",children:"Seleccionar.."}),Object(k.jsx)("option",{value:"1",children:"S\xed"}),Object(k.jsx)("option",{value:"0",children:"No"})]}):"1"===t.flg_facturable?"S\xed":"No"}),Object(k.jsx)("td",{style:{padding:"6px"},align:"center",children:r!==e.state.fila_editar?Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.editarLineaTabla(r,t)},children:Object(k.jsx)("img",{src:fe,alt:"editar",width:"22"})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.guardarLinea(r,t)},children:Object(k.jsx)("img",{src:xe,alt:"editar",width:"15"})}),Object(k.jsx)("span",{style:{cursor:"pointer",marginRight:"15px"},onClick:function(){return e.eliminar(r,t)},children:Object(k.jsx)("img",{src:ve,alt:"cancelar",width:"15"})}),Object(k.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.descartarCambios(r,t)},children:Object(k.jsx)("img",{src:me,alt:"cancelar",width:"15"})})]})})]},t.id_tipo_estado_mov)})):Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:4,align:"center",children:Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:C,width:"45",alt:"loader"})]})})})})]})}),this.state.modalNuevoFFAT?Object(k.jsx)("div",{id:"openModal",className:"modalDialog",children:Object(k.jsxs)("div",{className:"modal-dialog",children:[Object(k.jsxs)("header",{className:"modal-header",children:[Object(k.jsx)("span",{children:"Agregar nuevo FFAT: "}),Object(k.jsx)("span",{onClick:function(){return e.cerrarModalFFAT()},style:{cursor:"pointer"},children:Object(k.jsx)("img",{src:V,alt:"close",width:"15"})})]}),Object(k.jsx)("div",{style:{margin:"15px"},children:Object(k.jsxs)("form",{onSubmit:function(t){e.crearNuevoFFAT(t)},children:[Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Codigo"}),Object(k.jsx)("input",{type:"text",required:!0,name:"id_tipo_estado_mov",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearffat.id_tipo_estado_mov||"",onChange:this.props.editarFFATCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Descripcion"}),Object(k.jsx)("input",{type:"text",required:!0,name:"descripcion",className:"inputFormulario inputFormularioText",autoComplete:"off",value:this.props.crearffat.descripcion||"",onChange:this.props.editarFFATCrear})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"filasFormulario",children:[Object(k.jsx)("label",{className:"labelFormulario",children:"Facturable"}),Object(k.jsxs)("select",{name:"flg_facturable",className:"selectFormulario",value:this.props.crearffat.flg_facturable||"",onChange:this.props.editarFFATCrear,children:[Object(k.jsx)("option",{value:"",children:"Seleccionar.."}),Object(k.jsx)("option",{value:"1",children:"S\xed"}),Object(k.jsx)("option",{value:"0",children:"No"})]})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"filasFormulario",children:Object(k.jsx)("input",{type:"submit",value:"Guardar",className:"BtnGuardar inputFormularioText inputFormularioBoton"})})]})})]})}):null]})}}]),r}(a.Component),Ie=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={token:"",ffat:[],nuevoffat:{},crearffat:{id_tipo_estado_mov:"",descripcion:"",flg_facturable:""},estadosCarga:{tabla:!1}},e.ListarFFAT=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!1})}),t.next=3,_.searchFFTA_fetch(r);case 3:if(!(a=t.sent).error){t.next=12;break}if(g.validarCookies()){t.next=9;break}return t.next=8,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 8:g.cerrarSesion();case 9:return t.next=11,w()("Mensaje",a.error,"error");case 11:return t.abrupt("return");case 12:e.setState({ffat:a,estadosCarga:Object(P.a)(Object(P.a)({},e.state.estadosCarga),{},{tabla:!0})});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.modificarDatos=function(t){t.target.value.trim().length<1?e.setState({nuevoffat:Object(P.a)(Object(P.a)({},e.state.nuevoffat),{},Object(j.a)({},t.target.name,null))}):e.setState({nuevoffat:Object(P.a)(Object(P.a)({},e.state.nuevoffat),{},Object(j.a)({},t.target.name,t.target.value.trim().toUpperCase()))})},e.editarFFAT=function(t){e.setState({nuevoffat:t})},e.crearNuevoEstadoM=function(){var t=Object(x.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.saveFFAT_fecth(e.state.token,r);case 2:if(!(a=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",a.error,"error");case 10:return t.abrupt("return");case 11:if(200===a.status){t.next=15;break}return t.next=14,w()("Mensaje","Ocurrio un error inesperado.","error");case 14:return t.abrupt("return");case 15:return t.next=17,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 17:e.state.ffat.push(r),e.setState({crearffat:{id_tipo_estado_mov:"",descripcion:"",flg_facturable:""}});case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.actualizarDatos=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.updateFFAT_fecth(e.state.token,r);case 2:if(!(n=t.sent).error){t.next=11;break}if(g.validarCookies()){t.next=8;break}return t.next=7,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 7:g.cerrarSesion();case 8:return t.next=10,w()("Mensaje",n.error,"error");case 10:return t.abrupt("return");case 11:if(200===n.status){t.next=15;break}return t.next=14,w()("Mensaje","Ocurrio un error inesperado.","error");case 14:return t.abrupt("return");case 15:return t.next=17,w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success");case 17:i=e.buscarIndice(r),e.state.ffat.splice(i,1,r);case 19:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.eliminarEstadoMovilizacion=function(){var t=Object(x.a)(f.a.mark((function t(r,a){var n,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w()({title:"Mensaje",text:"\xbfEstas seguro de ELIMINAR el estado ".concat(r.descripcion,"?"),icon:"warning",buttons:!0,dangerMode:!0});case 2:if(!t.sent){t.next=22;break}return t.next=6,_.eliminarEstadoMovilizacion_fetch(e.state.token,r.id_tipo_estado_mov);case 6:if(!(n=t.sent).error){t.next=15;break}if(g.validarCookies()){t.next=12;break}return t.next=11,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 11:g.cerrarSesion();case 12:return t.next=14,w()("Mensaje",n.error,"error");case 14:return t.abrupt("return");case 15:if(200===n.status){t.next=19;break}return t.next=18,w()("Mensaje","Ocurrio un error inesperado.","error");case 18:return t.abrupt("return");case 19:w()("Mensaje","Nuevos datos ingresados satisfactoriamente.","success"),i=e.buscarIndice(r),e.state.ffat.splice(i,1);case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.limpiarFFAT=function(){e.setState({crearffat:[{id_tipo_estado_mov:"",descripcion:"",flg_facturable:""}]})},e.editarFFATCrear=function(t){t.target.value.trim().length<1?e.setState({crearffat:Object(P.a)(Object(P.a)({},e.state.crearffat),{},Object(j.a)({},t.target.name,null))}):e.setState({crearffat:Object(P.a)(Object(P.a)({},e.state.crearffat),{},Object(j.a)({},t.target.name,t.target.value.trim().toUpperCase()))})},e.buscarIndice=function(t){for(var r=e.state.ffat,a=0;a<r.length;a++)if(t.id_tipo_estado_mov===r[a].id_tipo_estado_mov)return a},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,!r){e.next=11;break}return this.setState({token:a}),e.next=9,this.ListarFFAT(a);case 9:e.next=14;break;case 11:return e.next=13,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 13:this.setState({token:""});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Mantenimiento > Estado Movilizaci\xf3n"}),Object(k.jsx)(Ee,{modificarDatos:this.modificarDatos,editarFFAT:this.editarFFAT,crearNuevoEstadoM:this.crearNuevoEstadoM,eliminarEstadoMovilizacion:this.eliminarEstadoMovilizacion,limpiarFFAT:this.limpiarFFAT,editarFFATCrear:this.editarFFATCrear,actualizarDatos:this.actualizarDatos,ffat:this.state.ffat,nuevoffat:this.state.nuevoffat,crearffat:this.state.crearffat,estadosCarga:this.state.estadosCarga})]})}}]),r}(a.Component),ze=r(45),Le=r.n(ze),Re=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).exportExcel=Object(x.a)(f.a.mark((function t(){var r,a,n,i,s,o,c,l,u,d,p,h,j,b;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for((r=new he.a.Workbook).addWorksheet("sheet1"),a=r.getWorksheet("sheet1"),n=e.props.servicios,i=3,o=(s=4)+1,c=0,a.columns=[{width:12},{width:15},{width:15},{width:15},{width:12},{width:12},{width:15},{width:40},{width:15},{width:27},{width:15},{width:50},{width:30},{width:20},{width:35}],l=0;l<n.length;l++){for(u=0,a.getCell("A"+i).value=n[l].cabecera.id_cliente,a.getCell("A"+i).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("A"+i).alignment={vertical:"middle",horizontal:"center"},a.getCell("A"+i).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("C"+i).value=n[l].cabecera.hora_llegada,a.getCell("C"+i).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("C"+i).alignment={vertical:"middle",horizontal:"center"},a.getCell("H"+i).value=n[l].cabecera.id_chofer,a.getCell("H"+i).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("H"+i).alignment={vertical:"middle",horizontal:"center"},a.getCell("J"+i).value=n[l].cabecera.id_unidad,a.getCell("J"+i).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("J"+i).alignment={vertical:"middle",horizontal:"center"},a.getCell("A"+s).value="FECHA",a.getCell("A"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("A"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("A"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("B"+s).value="TIPO SERVICIO",a.getCell("B"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("B"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("B"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("C"+s).value="HORA INICIO",a.getCell("C"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("C"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("C"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("D"+s).value="HORA LLEGADA",a.getCell("D"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("D"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("D"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("E"+s).value="N\xb0 SERVICIO",a.getCell("E"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("E"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("E"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("F"+s).value="AREA",a.getCell("F"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("F"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("F"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("G"+s).value="AEROLINEA",a.getCell("G"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("G"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("G"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("H"+s).value="NOMBRE",a.getCell("H"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("H"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("I"+s).value="CODIGO",a.getCell("I"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("I"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("J"+s).value="ESTADO DE MOVILIZACI\xd3N",a.getCell("J"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("J"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("J"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("K"+s).value="TELEFONO",a.getCell("K"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("K"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("K"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("L"+s).value="DIRECCI\xd3N",a.getCell("L"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("L"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("M"+s).value="DISTRITO",a.getCell("M"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("M"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("M"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("N"+s).value="COSTO DE SERVICIO",a.getCell("N"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("N"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("N"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("O"+s).value="COMENTARIO",a.getCell("O"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("O"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("O"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},d=0;d<n[l].data.length;d++)a.getCell("A"+o).value=n[l].cabecera.fechaFormat,a.getCell("A"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("A"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("B"+o).value="E"===n[l].data[d].origen_servicio?"ENTRADA":"SALIDA",a.getCell("B"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("B"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("C"+o).value=n[l].cabecera.hora_inicio,a.getCell("C"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("C"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("D"+o).value=n[l].data[d].hora,a.getCell("D"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("D"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("E"+o).value=n[l].data[d].nro_servicio,a.getCell("E"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("E"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("F"+o).value=n[l].data[d].id_area,a.getCell("F"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("F"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("G"+o).value=n[l].data[d].id_cuenta,a.getCell("G"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("G"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("H"+o).value=n[l].data[d].descripcion_pasajero,a.getCell("H"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("I"+o).value=n[l].data[d].id_cliente+n[l].data[d].id_pasajero,a.getCell("I"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("J"+o).value=n[l].data[d].id_tipo_estado_mov,a.getCell("J"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("J"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("K"+o).value=n[l].data[d].celular,a.getCell("K"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("K"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("L"+o).value=n[l].data[d].direccion,a.getCell("L"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("M"+o).value=n[l].data[d].descripcion_distrito,a.getCell("M"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("M"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("N"+o).value=n[l].data[d].costo_pasajero,a.getCell("N"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("N"+o).alignment={vertical:"top",horizontal:"right"},a.getCell("O"+o).value=n[l].data[d].comentario,a.getCell("O"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("O"+o).alignment={vertical:"top",horizontal:"right"},o+=1,u=parseFloat(n[l].data[d].costo_pasajero)+parseFloat(u),c=parseFloat(n[l].data[d].costo_pasajero)+parseFloat(c),d+1===n[l].data.length&&(a.getCell("L"+o).value="COSTO DE SERVICIO",a.getCell("L"+o).font={bold:!0},a.getCell("M"+o).value=u.toFixed(3),a.getCell("M"+o).alignment={vertical:"top",horizontal:"right"},a.getCell("M"+o).font={bold:!0});o=(s=o+2)+1,i=s-1,l+1===n.length&&(a.getCell("L"+o).value="COSTO TOTAL",a.getCell("L"+o).font={bold:!0},a.getCell("M"+o).value=c.toFixed(3),a.getCell("M"+o).alignment={vertical:"top",horizontal:"right"},a.getCell("M"+o).font={bold:!0})}return t.next=12,r.xlsx.writeBuffer();case 12:p=t.sent,h=new Blob([p],{type:"application/octet-binary"}),j=window.URL.createObjectURL(h),(b=document.createElement("a")).href=j,b.download="liquidacion.xlsx",b.click(),b.remove();case 20:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{overflowY:"scroll",maxHeight:"900px",marginTop:"15px",padding:"0px 15px",marginBottom:"15px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.2em",fontWeight:"bold",marginBottom:"10px"},children:[Object(k.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(k.jsx)("div",{children:Object(k.jsx)("input",{onClick:function(){return e.exportExcel()},type:"button",value:"Exportal Excel",className:"emitirReportes"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{style:{color:"green"},children:"Estado de la liquidacion: ACTIVO -"})," \xa0\xa0\xa0\xa0 ",Object(k.jsxs)("span",{style:{color:"red"},children:["Costo: ",parseFloat(this.props.costoTotal).toFixed(3)]})]})]}),Object(k.jsxs)("table",{border:"1",style:{width:"100%",borderCollapse:"collapse"},className:"table_solicitudes",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white",fontSize:"0.8em"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"20px",padding:"4px"},children:"N\xb0 Orden"}),Object(k.jsx)("th",{style:{width:"60px"},children:"Hora"}),Object(k.jsx)("th",{style:{width:"40px"},children:"Aerolinea"}),Object(k.jsx)("th",{style:{width:"40px"},children:"Area"}),Object(k.jsx)("th",{style:{width:"40px"},children:"Cod"}),Object(k.jsx)("th",{style:{width:"250px"},children:"nombre"}),Object(k.jsx)("th",{style:{width:"250px"},children:"Direccion"}),Object(k.jsx)("th",{style:{width:"90px"},children:"Distrito"}),Object(k.jsx)("th",{style:{width:"40px"},children:"Celular"}),Object(k.jsx)("th",{style:{width:"30px"},children:"Costo"}),Object(k.jsx)("th",{style:{width:"30px"},children:"FF A T"})]})}),this.props.servicios.map((function(e,t){return Object(k.jsxs)("tbody",{children:[Object(k.jsx)("tr",{children:Object(k.jsxs)("td",{colSpan:"12",style:{padding:"5px",fontSize:"0.8em"},children:[Object(k.jsxs)("span",{children:["Servicio ",Object(k.jsx)("b",{children:e.cabecera.nro_servicio})]}),Object(k.jsxs)("span",{style:{marginLeft:"15px"},children:["Hora: ",Object(k.jsx)("b",{children:e.cabecera.hora_inicio})]}),Object(k.jsxs)("span",{style:{marginLeft:"15px"},children:["Fecha: ",Object(k.jsx)("b",{children:e.cabecera.fechaFormat})]}),Object(k.jsxs)("span",{style:{marginLeft:"15px"},children:["Automovil: ",Object(k.jsx)("b",{children:e.cabecera.id_unidad})]}),Object(k.jsxs)("span",{style:{marginLeft:"15px"},children:["Chofer: ",Object(k.jsx)("b",{children:e.cabecera.id_chofer})]})]})}),e.data.map((function(e,t){return Object(k.jsx)("tr",{style:{backgroundColor:e.nro_servicio%2?"#EEEEEE":"white"},children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("td",{style:{width:"20px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.orden_recojo}),Object(k.jsx)("td",{style:{width:"60px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.hora}),Object(k.jsx)("td",{style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.id_cuenta}),Object(k.jsx)("td",{className:"eliminar",style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.id_area}),Object(k.jsx)("td",{className:"eliminar",style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.id_pasajero}),Object(k.jsx)("td",{style:{maxWidth:"250px",height:"30px",padding:" 5px 4px"},children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:e.descripcion_pasajero})}),Object(k.jsx)("td",{style:{maxWidth:"250px",height:"30px",padding:" 5px 4px"},children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:e.direccion})}),Object(k.jsx)("td",{style:{maxWidth:"90px",height:"30px",padding:" 5px 4px"},align:"center",children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:e.descripcion_distrito})}),Object(k.jsx)("td",{style:{maxWidth:"250px",height:"30px",padding:" 5px 4px"},align:"center",children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:e.celular})}),Object(k.jsx)("td",{style:{width:"30px",padding:"4px",fontSize:"0.7em"},align:"center",children:null!==e.costo_pasajero?parseFloat(e.costo_pasajero).toFixed(3):"-"}),Object(k.jsx)("td",{style:{width:"30px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.id_tipo_estado_mov})]})},e.id_pasajero)}))]},t)}))]})]})}}]),r}(a.Component),He=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={cliente:"",token:"",fechaI:new Date,fechaII:new Date,horaI:"",horaF:"",origen:"-",nro_servicio:"",costoTotal:0,viewLoader:!0,viewTabla:!1,servicios:[],pasajeros:[],listaServicios:[]},e.seleccionarFecha=function(t){var r=t[0],a=t[1];r!==e.state.fechaI&&e.setState({fechaI:r}),a!==e.state.fechaII&&e.setState({fechaII:a})},e.cambiar=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.convertirFechas=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.obtenerPrecioTotal=function(){var t=parseFloat(0);return e.state.servicios.forEach((function(e){e.data.forEach((function(e){null!==e.costo_pasajero&&(t=parseFloat(t)+parseFloat(e.costo_pasajero))}))})),t},e.validarFormulario=Object(x.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,r){var a=!1,n="";if(null===e.state.fechaI||null===e.state.fechaII)a=!0,n="Error en las fechas.";else if(""!==e.state.nro_servicio){new RegExp(/[0-9]+/).test(parseInt(e.state.nro_servicio))||(a=!0,n="Error en el numero de servicio.")}else if(""!==e.state.horaI){new RegExp(/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/).test(e.state.horaI)||(a=!0,n="Error en la hora de inicio.")}else if(""!==e.state.horaF){new RegExp(/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/).test(e.state.horaF)||(a=!0,n="Error en la hora final.")}""===e.state.nro_servicio&&e.setState({nro_servicio:0}),""!==e.state.horaI&&""!==e.state.horaF||e.setState({horaI:"-",horaF:"-"}),setTimeout((function(){t([a,n])}),1e3)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),e.btn_ProcesarReporte=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i,s,o,c,l,u,d,p,h,j;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.validarFormulario();case 3:if(!(a=t.sent)[0]){t.next=8;break}w()("Mensaje",a[1],"info"),t.next=27;break;case 8:return n=e.convertirFechas(e.state.fechaI),i=e.convertirFechas(e.state.fechaII),t.next=12,_.reporteLiquidacionCabecera_fetch(e.state.token,e.state.cliente,n,i,e.state.origen,e.state.horaI,e.state.horaF,e.state.nro_servicio);case 12:return(s=t.sent).map((function(t){return t.fechaFormat=e.convertirFechas(new Date(t.fecha))})),t.next=16,_.reporteLiquidacionDetalle_fetch(e.state.token,e.state.cliente,n,i,e.state.origen,e.state.horaI,e.state.horaF,e.state.nro_servicio);case 16:if(o=t.sent,!s.error&&!o.error){t.next=25;break}if(g.validarCookies()){t.next=22;break}return t.next=21,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 21:g.cerrarSesion();case 22:return t.next=24,w()("Mensaje",s.error||o.error);case 24:return t.abrupt("return");case 25:e.setState({pasajeros:o,listaServicios:s}),s.length<1||o.length<1?w()("Mensaje","No se encontraron resulados."):(c=[],l=e.state.pasajeros,u={data:[],cabecera:[],nro_servicio:0},d=s[0].nro_servicio,p=s[0].fecha,h=0,s.forEach((function(e,t){if(e.nro_servicio===d&&e.fecha===p)u.cabecera=e,u.nro_servicio=e.nro_servicio;else{var r=[];l.forEach((function(e){e.nro_servicio===h&&e.fecha===p&&r.push(e)})),u.data=r,c.push(u),u={data:[],cabecera:[],nro_servicio:0}}if(e.nro_servicio===d&&e.fecha===p||(u.cabecera=e,u.nro_servicio=e.nro_servicio),t+1===s.length){var a=[];l.forEach((function(t){t.nro_servicio===e.nro_servicio&&t.fecha===e.fecha&&a.push(t)})),u.data=a,c.push(u),u.nro_servicio=e.nro_servicio}d=e.nro_servicio,h=e.nro_servicio,p=e.fecha})),e.setState({servicios:c,viewTabla:!0}),j=e.obtenerPrecioTotal(),e.setState({costoTotal:j}));case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,n=t.name,i=t.id_cliente,!r){e.next=11;break}this.setState({cliente:i,token:a,usuairo:n}),e.next=14;break;case 11:return e.next=13,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 13:this.setState({cliente:"",token:"",usuairo:""});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Reporte > Liquidacion"}),Object(k.jsx)("div",{className:"cuadro_REPORTE",children:Object(k.jsx)("form",{onSubmit:this.btn_ProcesarReporte,style:{textAlign:"center"},children:Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"col1",style:{justifyContent:"flex-start"},children:[Object(k.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(k.jsx)("span",{children:"Selecionar rango de fecha"}),Object(k.jsx)(Le.a,{dateFormat:"yyyy/MM/dd",selectsRange:!0,startDate:this.state.fechaI,endDate:this.state.fechaII,onChange:function(t){return e.seleccionarFecha(t)}})]}),Object(k.jsxs)("div",{style:{marginBottom:"15px",display:"flex"},children:[Object(k.jsxs)("div",{style:{lineHeight:"30px"},children:[Object(k.jsx)("span",{children:"Servicio"}),Object(k.jsxs)("select",{onChange:function(t){return e.setState({origen:t.target.value})},children:[Object(k.jsx)("option",{value:"-",children:"Todo"}),Object(k.jsx)("option",{value:"e",children:"Entrada"}),Object(k.jsx)("option",{value:"s",children:"Salida"})]})]}),Object(k.jsxs)("div",{style:{lineHeight:"30px"},children:[Object(k.jsx)("span",{children:"Nro Servicio"}),Object(k.jsx)("input",{type:"text",className:"invalido",style:{textAlign:"center"},name:"nro_servicio",pattern:"[0-9]+",maxLength:"3",onChange:this.cambiar})]})]}),Object(k.jsxs)("div",{style:{marginBottom:"15px",display:"flex",justifyContent:"center"},children:[Object(k.jsxs)("div",{style:{lineHeight:"30px"},children:[Object(k.jsx)("span",{children:"Hora Inicio"}),Object(k.jsx)("input",{type:"text",className:"invalido",style:{textAlign:"center"},name:"horaI",pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",maxLength:"5",onChange:this.cambiar})]}),Object(k.jsxs)("div",{style:{lineHeight:"30px"},children:[Object(k.jsx)("span",{children:"Hora Final"}),Object(k.jsx)("input",{type:"text",className:"invalido",style:{textAlign:"center"},name:"horaF",pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",maxLength:"5",onChange:this.cambiar})]})]}),Object(k.jsx)("div",{style:{marginBottom:"15px"},children:this.state.viewLoader?Object(k.jsx)("input",{type:"submit",value:"Emitir Reporte"}):Object(k.jsx)("span",{children:Object(k.jsx)("img",{src:C,alt:"loader",width:"35"})})})]})})})}),this.state.viewTabla?Object(k.jsx)(Re,{servicios:this.state.servicios,costoTotal:this.state.costoTotal}):null]})}}]),r}(a.Component),Be=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).exportExcel=Object(x.a)(f.a.mark((function t(){var r,a,n,i,s,o,c,l,u,d,p,h;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for((r=new he.a.Workbook).addWorksheet("programacion"),a=r.getWorksheet("programacion"),n=e.props.servicios,i=3,o=(s=4)+1,a.columns=[{width:12},{width:15},{width:15},{width:15},{width:12},{width:15},{width:12},{width:30},{width:15},{width:15},{width:50},{width:30}],c=0;c<n.length;c++){for(a.getCell("A"+i).value=n[c].cabecera.id_cliente,a.getCell("A"+i).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("A"+i).alignment={vertical:"middle",horizontal:"center"},a.getCell("A"+i).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("A"+s).value="FECHA",a.getCell("A"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("A"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("A"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("B"+s).value="TIPO SERVICIO",a.getCell("B"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("B"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("B"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("C"+s).value="HORA INICIO",a.getCell("C"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("C"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("C"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("D"+s).value="HORA LLEGADA",a.getCell("D"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("D"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("D"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("E"+s).value="N\xb0 SERVICIO",a.getCell("E"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("E"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("E"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("F"+s).value="AREA",a.getCell("F"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("F"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("F"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("G"+s).value="AEROLINEA",a.getCell("G"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("G"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("G"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("H"+s).value="NOMBRE",a.getCell("H"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("H"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("I"+s).value="CODIGO",a.getCell("I"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("I"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("J"+s).value="TELEFONO",a.getCell("J"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("J"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("J"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("K"+s).value="DIRECCI\xd3N",a.getCell("K"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("K"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},a.getCell("L"+s).value="DISTRITO",a.getCell("L"+s).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("L"+s).alignment={vertical:"middle",horizontal:"center"},a.getCell("L"+s).fill={type:"pattern",pattern:"darkTrellis",fgColor:{argb:"FFF323"},bgColor:{argb:"FFEFA0"}},l=0;l<n[c].data.length;l++)a.getCell("A"+o).value=n[c].cabecera.fechaFormat,a.getCell("A"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("A"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("B"+o).value="E"===n[c].data[l].origen_servicio?"ENTRADA":"SALIDA",a.getCell("B"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("B"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("C"+o).value=n[c].cabecera.hora_inicio,a.getCell("C"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("C"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("D"+o).value=n[c].data[l].hora,a.getCell("D"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("D"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("E"+o).value=n[c].data[l].nro_servicio,a.getCell("E"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("E"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("F"+o).value=n[c].data[l].id_area,a.getCell("F"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("F"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("G"+o).value=n[c].data[l].id_cuenta,a.getCell("G"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("G"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("H"+o).value=n[c].data[l].descripcion_pasajero,a.getCell("H"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("I"+o).value=n[c].data[l].id_cliente+n[c].data[l].id_pasajero,a.getCell("I"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("I"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("J"+o).value=n[c].data[l].celular,a.getCell("J"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("J"+o).alignment={vertical:"middle",horizontal:"center"},a.getCell("K"+o).value=n[c].data[l].direccion,a.getCell("K"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("L"+o).value=n[c].data[l].descripcion_distrito,a.getCell("L"+o).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},a.getCell("L"+o).alignment={vertical:"middle",horizontal:"center"},o+=1;o=(s=o+2)+1,i=s-1}return t.next=11,r.xlsx.writeBuffer();case 11:u=t.sent,d=new Blob([u],{type:"application/octet-binary"}),p=window.URL.createObjectURL(d),(h=document.createElement("a")).href=p,h.download="programacion.xlsx",h.click(),h.remove();case 19:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{style:{overflowY:"scroll",maxHeight:"900px",marginTop:"15px",padding:"0px 15px",marginBottom:"15px"},children:[Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.2em",fontWeight:"bold",marginBottom:"10px"},children:[Object(k.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(k.jsx)("div",{children:Object(k.jsx)("input",{onClick:function(){return e.exportExcel()},type:"button",value:"Exportal Excel",className:"emitirReportes"})})}),Object(k.jsx)("div",{children:Object(k.jsx)("span",{style:{color:"green"},children:"Estado de la liquidacion: ACTIVO"})})]}),Object(k.jsxs)("table",{border:"1",style:{width:"100%",borderCollapse:"collapse"},className:"table_solicitudes",children:[Object(k.jsx)("thead",{style:{background:"#e6b012",color:"white",fontSize:"0.8em"},children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:{width:"20px",padding:"4px"},children:"N\xb0 Orden"}),Object(k.jsx)("th",{style:{width:"60px"},children:"Hora"}),Object(k.jsx)("th",{style:{width:"40px"},children:"Aerolinea"}),Object(k.jsx)("th",{style:{width:"40px"},children:"Area"}),Object(k.jsx)("th",{style:{width:"40px"},children:"Cod"}),Object(k.jsx)("th",{style:{width:"250px"},children:"Nombre"}),Object(k.jsx)("th",{style:{width:"250px"},children:"Direccion"}),Object(k.jsx)("th",{style:{width:"90px"},children:"Distrito"}),Object(k.jsx)("th",{style:{width:"90px"},children:"Celular"})]})}),this.props.servicios.map((function(e,t){return Object(k.jsxs)("tbody",{children:[Object(k.jsx)("tr",{children:Object(k.jsxs)("td",{colSpan:"12",style:{padding:"5px",fontSize:"0.8em"},children:[Object(k.jsxs)("span",{children:["Servicio ",Object(k.jsx)("b",{children:e.cabecera.nro_servicio})]}),Object(k.jsxs)("span",{style:{marginLeft:"15px"},children:["Hora: ",Object(k.jsx)("b",{children:e.cabecera.hora_inicio})]}),Object(k.jsxs)("span",{style:{marginLeft:"15px"},children:["Fecha: ",Object(k.jsx)("b",{children:e.cabecera.fechaFormat})]})]})}),e.data.map((function(e,t){return Object(k.jsx)("tr",{style:{backgroundColor:e.nro_servicio%2?"#EEEEEE":"white"},children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("td",{style:{width:"20px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.orden_recojo}),Object(k.jsx)("td",{style:{width:"60px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.hora}),Object(k.jsx)("td",{style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.id_cuenta}),Object(k.jsx)("td",{className:"eliminar",style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.id_area}),Object(k.jsx)("td",{className:"eliminar",style:{width:"40px",padding:"4px",fontSize:"0.7em"},align:"center",children:e.id_pasajero}),Object(k.jsx)("td",{style:{maxWidth:"250px",height:"30px",padding:" 5px 4px"},children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:e.descripcion_pasajero})}),Object(k.jsx)("td",{style:{maxWidth:"250px",height:"30px",padding:" 5px 4px"},children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:e.direccion})}),Object(k.jsx)("td",{style:{maxWidth:"90px",height:"30px",padding:" 5px 4px"},align:"center",children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:e.descripcion_distrito})}),Object(k.jsx)("td",{style:{maxWidth:"90px",height:"30px",padding:" 5px 4px"},align:"center",children:Object(k.jsx)("div",{style:{tableLayout:"fixed",overflow:"hidden",whiteSpace:"nowrap",width:"100%",fontSize:"0.7em"},children:e.celular})})]})},e.id_pasajero)}))]},t)}))]})]})}}]),r}(a.Component),Ve=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={fechaI:new Date,fechaII:new Date,horaI:"",horaF:"",origen:"-",cliente:"",nro_servicio:"",costoTotal:0,token:"",viewLoader:!0,viewTabla:!1,servicios:[],pasajeros:[],listaServicios:[]},e.seleccionarFecha=function(t){var r=t[0],a=t[1];r!==e.state.fechaI&&e.setState({fechaI:r}),a!==e.state.fechaII&&e.setState({fechaII:a})},e.cambiar=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.convertirFechas=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.validarFormulario=Object(x.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,r){var a=!1,n="";if(null===e.state.fechaI||null===e.state.fechaII)a=!0,n="Error en las fechas.";else if(""!==e.state.nro_servicio){new RegExp(/[0-9]+/).test(parseInt(e.state.nro_servicio))||(a=!0,n="Error en el numero de servicio.")}else if(""!==e.state.horaI){new RegExp(/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/).test(e.state.horaI)||(a=!0,n="Error en la hora de inicio.")}else if(""!==e.state.horaF){new RegExp(/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/).test(e.state.horaF)||(a=!0,n="Error en la hora final.")}""===e.state.nro_servicio&&e.setState({nro_servicio:0}),""!==e.state.horaI&&""!==e.state.horaF||e.setState({horaI:"-",horaF:"-"}),setTimeout((function(){t([a,n])}),1e3)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),e.btn_ProcesarReporte=function(){var t=Object(x.a)(f.a.mark((function t(r){var a,n,i,s,o,c,l,u,d,p,h;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e.validarFormulario();case 3:if(!(a=t.sent)[0]){t.next=8;break}w()("Mensaje",a[1],"info"),t.next=27;break;case 8:return n=e.convertirFechas(e.state.fechaI),i=e.convertirFechas(e.state.fechaII),t.next=12,_.reporteLiquidacionCabecera_fetch(e.state.token,e.state.cliente,n,i,e.state.origen,e.state.horaI,e.state.horaF,e.state.nro_servicio);case 12:return(s=t.sent).map((function(t){return t.fechaFormat=e.convertirFechas(new Date(t.fecha))})),t.next=16,_.reporteLiquidacionDetalle_fetch(e.state.token,e.state.cliente,n,i,e.state.origen,e.state.horaI,e.state.horaF,e.state.nro_servicio);case 16:if(o=t.sent,!s.error&&!o.error){t.next=25;break}if(g.validarCookies()){t.next=22;break}return t.next=21,w()("Mensaje","Tiempo de conexi\xf3n culminado, cerrar sesi\xf3n y volver a conectarse.","error");case 21:g.cerrarSesion();case 22:return t.next=24,w()("Mensaje",s.error||o.error);case 24:return t.abrupt("return");case 25:e.setState({pasajeros:o,listaServicios:s}),s.length<1||o.length<1?w()("Mensaje","No se encontraron resulados."):(c=[],l=e.state.pasajeros,u={data:[],cabecera:[],nro_servicio:0},d=s[0].nro_servicio,p=s[0].fecha,h=0,s.forEach((function(e,t){if(e.nro_servicio===d&&e.fecha===p)u.cabecera=e,u.nro_servicio=e.nro_servicio;else{var r=[];l.forEach((function(e){e.nro_servicio===h&&e.fecha===p&&r.push(e)})),u.data=r,c.push(u),u={data:[],cabecera:[],nro_servicio:0}}if(e.nro_servicio===d&&e.fecha===p||(u.cabecera=e,u.nro_servicio=e.nro_servicio),t+1===s.length){var a=[];l.forEach((function(t){t.nro_servicio===e.nro_servicio&&t.fecha===e.fecha&&a.push(t)})),u.data=a,c.push(u),u.nro_servicio=e.nro_servicio}d=e.nro_servicio,h=e.nro_servicio,p=e.fecha})),e.setState({servicios:c,viewTabla:!0}));case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(x.a)(f.a.mark((function e(){var t,r,a,n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.obtenerDatosLocalStorage();case 2:if(t=e.sent,r=t.estadoLocalStorage,a=t.token,n=t.name,i=t.id_cliente,!r){e.next=11;break}this.setState({cliente:i,token:a,usuairo:n}),e.next=14;break;case 11:return e.next=13,w()("Mensaje","No se encontro informaci\xf3n para hacer consultas al servidor.\nCerrar Sesi\xf3n y volver a iniciar.","error");case 13:this.setState({cliente:"",token:"",usuairo:""});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"historial",children:"Reporte > Programacion"}),Object(k.jsx)("div",{className:"cuadro_REPORTE",children:Object(k.jsx)("form",{onSubmit:this.btn_ProcesarReporte,style:{textAlign:"center"},children:Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"col1",style:{justifyContent:"flex-start"},children:[Object(k.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(k.jsx)("span",{children:"Selecionar rango de fecha"}),Object(k.jsx)(Le.a,{dateFormat:"yyyy/MM/dd",selectsRange:!0,startDate:this.state.fechaI,endDate:this.state.fechaII,onChange:function(t){return e.seleccionarFecha(t)}})]}),Object(k.jsxs)("div",{style:{marginBottom:"15px",display:"flex"},children:[Object(k.jsxs)("div",{style:{lineHeight:"30px"},children:[Object(k.jsx)("span",{children:"Servicio"}),Object(k.jsxs)("select",{onChange:function(t){return e.setState({origen:t.target.value})},children:[Object(k.jsx)("option",{value:"-",children:"Todo"}),Object(k.jsx)("option",{value:"e",children:"Entrada"}),Object(k.jsx)("option",{value:"s",children:"Salida"})]})]}),Object(k.jsxs)("div",{style:{lineHeight:"30px"},children:[Object(k.jsx)("span",{children:"Nro Servicio"}),Object(k.jsx)("input",{type:"text",className:"invalido",style:{textAlign:"center"},name:"nro_servicio",pattern:"[0-9]+",maxLength:"3",onChange:this.cambiar})]})]}),Object(k.jsxs)("div",{style:{marginBottom:"15px",display:"flex",justifyContent:"center"},children:[Object(k.jsxs)("div",{style:{lineHeight:"30px"},children:[Object(k.jsx)("span",{children:"Hora Inicio"}),Object(k.jsx)("input",{type:"text",className:"invalido",style:{textAlign:"center"},name:"horaI",pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",maxLength:"5",onChange:this.cambiar})]}),Object(k.jsxs)("div",{style:{lineHeight:"30px"},children:[Object(k.jsx)("span",{children:"Hora Final"}),Object(k.jsx)("input",{type:"text",className:"invalido",style:{textAlign:"center"},name:"horaF",pattern:"^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$",maxLength:"5",onChange:this.cambiar})]})]}),Object(k.jsx)("div",{style:{marginBottom:"15px"},children:this.state.viewLoader?Object(k.jsx)("input",{type:"submit",value:"Emitir Reporte"}):Object(k.jsx)("span",{children:Object(k.jsx)("img",{src:C,alt:"loader",width:"35"})})})]})})})}),this.state.viewTabla?Object(k.jsx)(Be,{servicios:this.state.servicios,costoTotal:this.state.costoTotal}):null]})}}]),r}(a.Component),Ge=new h.a,Ue=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={autenticarToken:!1,_name:"",_token:""},e.accesoLogin=function(t,r,a){e.setState({autenticarToken:t,_name:r,_token:a})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return this.state.autenticarToken||Ge.get("status")?Object(k.jsxs)(d.a,{children:[Object(k.jsx)(A,{}),Object(k.jsxs)(p.d,{children:[Object(k.jsx)(p.b,{exact:!0,path:"/",component:M}),Object(k.jsx)(p.b,{exact:!0,path:"/programacion",component:W}),Object(k.jsx)(p.b,{exact:!0,path:"/reprogramacion",component:J}),Object(k.jsx)(p.b,{exact:!0,path:"/liquidacion",component:ne}),Object(k.jsx)(p.b,{exact:!0,path:"/eliminarLista",component:ie}),Object(k.jsx)(p.b,{exact:!0,path:"/carga_ListaPasajeros",component:oe}),Object(k.jsx)(p.b,{exact:!0,path:"/carga_Pasajero",component:ce}),Object(k.jsx)(p.b,{exact:!0,path:"/pasajero",component:be}),Object(k.jsx)(p.b,{exact:!0,path:"/aerolinea",component:Oe}),Object(k.jsx)(p.b,{exact:!0,path:"/distrito",component:_e}),Object(k.jsx)(p.b,{exact:!0,path:"/vehiculo",component:Se}),Object(k.jsx)(p.b,{exact:!0,path:"/chofer",component:ke}),Object(k.jsx)(p.b,{exact:!0,path:"/precio",component:Ne}),Object(k.jsx)(p.b,{exact:!0,path:"/tipoServicio",component:Ae}),Object(k.jsx)(p.b,{exact:!0,path:"/cliente",component:Pe}),Object(k.jsx)(p.b,{exact:!0,path:"/estadoMovilizacion",component:Ie}),Object(k.jsx)(p.b,{exact:!0,path:"/reporte_liquidacion",component:He}),Object(k.jsx)(p.b,{exact:!0,path:"/reporte_programacion",component:Ve}),Object(k.jsx)(p.b,{path:"*",render:function(){return Object(k.jsx)(N,{})}})]})]}):Object(k.jsxs)(d.a,{children:[Object(k.jsx)(p.b,{path:"/",render:function(){return Object(k.jsx)(F,{accesoLogin:e.accesoLogin})}}),Object(k.jsx)(p.b,{path:"*",render:function(){return Object(k.jsx)(N,{})}})]})}}]),r}(a.Component),qe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,155)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),i(e),s(e)}))};s.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(Ue,{})}),document.getElementById("root")),qe()},22:function(e,t,r){},25:function(e,t,r){},68:function(e,t){},79:function(e,t,r){},81:function(e,t,r){},91:function(e,t,r){},92:function(e,t,r){}},[[147,1,2]]]);
//# sourceMappingURL=main.04f9efda.chunk.js.map